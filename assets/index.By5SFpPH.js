import{r as ke,g as em}from"./index.BoeBpxaP.js";function tm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const C=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$=globalThis,Bt="10.25.0";function xt(){return kr($),$}function kr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Bt,t[Bt]=t[Bt]||{}}function Zn(e,t,n=$){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[Bt]=r[Bt]||{};return o[e]||(o[e]=t())}const ua=["debug","info","warn","error","log","assert","trace"],nm="Sentry Logger ",Po={};function Vt(e){if(!("console"in $))return e();const t=$.console,n={},r=Object.keys(Po);r.forEach(o=>{const s=Po[o];n[o]=t[o],t[o]=s});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function rm(){da().enabled=!0}function om(){da().enabled=!1}function ad(){return da().enabled}function sm(...e){la("log",...e)}function im(...e){la("warn",...e)}function am(...e){la("error",...e)}function la(e,...t){C&&ad()&&Vt(()=>{$.console[e](`${nm}[${e}]:`,...t)})}function da(){return C?Zn("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const g={enable:rm,disable:om,isEnabled:ad,log:sm,warn:im,error:am},cd=50,pt="?",Nc=/\(error: (.*)\)/,Oc=/captureMessage|captureException/;function ud(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{const s=[],i=n.split(`
`);for(let a=r;a<i.length;a++){let c=i[a];c.length>1024&&(c=c.slice(0,1024));const u=Nc.test(c)?c.replace(Nc,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){s.push(l);break}}if(s.length>=cd+o)break}}return um(s.slice(o))}}function cm(e){return Array.isArray(e)?ud(...e):e}function um(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Xr(t).function||"")&&t.pop(),t.reverse(),Oc.test(Xr(t).function||"")&&(t.pop(),Oc.test(Xr(t).function||"")&&t.pop()),t.slice(0,cd).map(n=>({...n,filename:n.filename||Xr(t).filename,function:n.function||pt}))}function Xr(e){return e[e.length-1]||{}}const qs="<anonymous>";function It(e){try{return!e||typeof e!="function"?qs:e.name||qs}catch{return qs}}function Ti(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const _o={},Pc={};function Yt(e,t){_o[e]=_o[e]||[],_o[e].push(t)}function Jt(e,t){if(!Pc[e]){Pc[e]=!0;try{t()}catch(n){C&&g.error(`Error while instrumenting ${e}`,n)}}}function Je(e,t){const n=e&&_o[e];if(n)for(const r of n)try{r(t)}catch(o){C&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${It(r)}
Error:`,o)}}let Gs=null;function ld(e){const t="error";Yt(t,e),Jt(t,lm)}function lm(){Gs=$.onerror,$.onerror=function(e,t,n,r,o){return Je("error",{column:r,error:o,line:n,msg:e,url:t}),Gs?Gs.apply(this,arguments):!1},$.onerror.__SENTRY_INSTRUMENTED__=!0}let Vs=null;function dd(e){const t="unhandledrejection";Yt(t,e),Jt(t,dm)}function dm(){Vs=$.onunhandledrejection,$.onunhandledrejection=function(e){return Je("unhandledrejection",e),Vs?Vs.apply(this,arguments):!0},$.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const fd=Object.prototype.toString;function Et(e){switch(fd.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return wt(e,Error)}}function er(e,t){return fd.call(e)===`[object ${t}]`}function pd(e){return er(e,"ErrorEvent")}function Lc(e){return er(e,"DOMError")}function fm(e){return er(e,"DOMException")}function tt(e){return er(e,"String")}function hs(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function qt(e){return e===null||hs(e)||typeof e!="object"&&typeof e!="function"}function dt(e){return er(e,"Object")}function ms(e){return typeof Event<"u"&&wt(e,Event)}function pm(e){return typeof Element<"u"&&wt(e,Element)}function hm(e){return er(e,"RegExp")}function Sn(e){return!!(e?.then&&typeof e.then=="function")}function mm(e){return dt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function wt(e,t){try{return e instanceof t}catch{return!1}}function hd(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function md(e){return typeof Request<"u"&&wt(e,Request)}const fa=$,gm=80;function He(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let s=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||gm;for(;n&&s++<r&&(u=_m(n,d),!(u==="html"||s>1&&i+o.length*c+u.length>=l));)o.push(u),i+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function _m(e,t){const n=e,r=[];if(!n?.tagName)return"";if(fa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=t?.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(o?.length)o.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&tt(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const i of s){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function bn(){try{return fa.document.location.href}catch{return""}}function gd(e){if(!fa.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Me(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const o=n(r);typeof o=="function"&&_d(o,r);try{e[t]=o}catch{C&&g.log(`Failed to replace method "${t}" in object`,e)}}function Re(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{C&&g.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _d(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Re(e,"__sentry_original__",t)}catch{}}function pa(e){return e.__sentry_original__}function yd(e){if(Et(e))return{message:e.message,name:e.name,stack:e.stack,...$c(e)};if(ms(e)){const t={type:e.type,target:Dc(e.target),currentTarget:Dc(e.currentTarget),...$c(e)};return typeof CustomEvent<"u"&&wt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Dc(e){try{return pm(e)?He(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function $c(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function ym(e){const t=Object.keys(yd(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function gs(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ys(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,r);return s>r-5&&(s=r),s===r&&(o=Math.max(s-140,0)),n=n.slice(o,s),o>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function Lo(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const o=e[r];try{hd(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function yo(e,t,n=!1){return tt(e)?hm(t)?t.test(e):tt(t)?n?e===t:e.includes(t):!1:!1}function nt(e,t=[],n=!1){return t.some(r=>yo(e,r,n))}function Sm(){const e=$;return e.crypto||e.msCrypto}let Js;function bm(){return Math.random()*16}function Ie(e=Sm()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Js||(Js="10000000100040008000"+1e11),Js.replace(/[018]/g,t=>(t^(bm()&15)>>t/4).toString(16))}function Sd(e){return e.exception?.values?.[0]}function tn(e){const{message:t,event_id:n}=e;if(t)return t;const r=Sd(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ii(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function kt(e,t){const n=Sd(e);if(!n)return;const r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){const s={...o?.data,...t.data};n.mechanism.data=s}}function Em(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(i=>Ys(i,0));const s=Math.min(r-1,o);t.context_line=Ys(e[s],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(i=>Ys(i,0))}function Fc(e){if(vm(e))return!0;try{Re(e,"__sentry_captured__",!0)}catch{}return!1}function vm(e){try{return e.__sentry_captured__}catch{}}const bd=1e3;function En(){return Date.now()/bd}function Tm(){const{performance:e}=$;if(!e?.now||!e.timeOrigin)return En;const t=e.timeOrigin;return()=>(t+e.now())/bd}let Bc;function he(){return(Bc??(Bc=Tm()))()}let Ks;function Im(){const{performance:e}=$;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,i=e.timing?.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return s||u?o<=c?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function Pe(){return Ks||(Ks=Im()),Ks[0]}function wm(e){const t=he(),n={sid:Ie(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Rm(n)};return e&&Fn(n,e),n}function Fn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||he(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ie()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function km(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Fn(e,n)}function Rm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Rr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=Rr(r[o],t[o],n-1));return r}function ht(){return Ie()}function vt(){return Ie().substring(16)}const wi="_sentrySpan";function Rt(e,t){t?Re(e,wi,t):delete e[wi]}function Bn(e){return e[wi]}const Cm=100;class mt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ht(),sampleRand:Math.random()}}clone(){const t=new mt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Rt(t,Bn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Fn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof mt?n.getScopeData():dt(n)?t:void 0,{tags:o,extra:s,user:i,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Rt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ht(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Cm;if(r<=0)return this;const o={timestamp:En(),...t,message:t.message?gs(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Bn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Rr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Ie();if(!this._client)return C&&g.warn("No client configured on scope - will not capture exception!"),r;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){const o=r?.event_id||Ie();if(!this._client)return C&&g.warn("No client configured on scope - will not capture message!"),o;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:o},this),o}captureEvent(t,n){const r=n?.event_id||Ie();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(C&&g.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Am(){return Zn("defaultCurrentScope",()=>new mt)}function xm(){return Zn("defaultIsolationScope",()=>new mt)}class Mm{constructor(t,n){let r;t?r=t:r=new mt;let o;n?o=n:o=new mt,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(o){throw this._popScope(),o}return Sn(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Un(){const e=xt(),t=kr(e);return t.stack=t.stack||new Mm(Am(),xm())}function Nm(e){return Un().withScope(e)}function Om(e,t){const n=Un();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Uc(e){return Un().withScope(()=>e(Un().getIsolationScope()))}function Pm(){return{withIsolationScope:Uc,withScope:Nm,withSetScope:Om,withSetIsolationScope:(e,t)=>Uc(t),getCurrentScope:()=>Un().getScope(),getIsolationScope:()=>Un().getIsolationScope()}}function Kt(e){const t=kr(e);return t.acs?t.acs:Pm()}function j(){const e=xt();return Kt(e).getCurrentScope()}function we(){const e=xt();return Kt(e).getIsolationScope()}function fn(){return Zn("globalScope",()=>new mt)}function Ge(...e){const t=xt(),n=Kt(t);if(e.length===2){const[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function fA(...e){const t=xt(),n=Kt(t);if(e.length===2){const[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function O(){return j().getClient()}function Ed(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,s={trace_id:n,span_id:o||vt()};return r&&(s.parent_span_id=r),s}const pe="sentry.source",ha="sentry.sample_rate",vd="sentry.previous_trace_sample_rate",Te="sentry.op",Y="sentry.origin",yr="sentry.idle_span_finish_reason",Cr="sentry.measurement_unit",Ar="sentry.measurement_value",ki="sentry.custom_span_name",ma="sentry.profile_id",tr="sentry.exclusive_time",Lm="http.request.method",Dm="url.full",$m="sentry.link.type",Fm=0,ga=1,se=2;function Bm(e){if(e<400&&e>=100)return{code:ga};if(e>=400&&e<500)switch(e){case 401:return{code:se,message:"unauthenticated"};case 403:return{code:se,message:"permission_denied"};case 404:return{code:se,message:"not_found"};case 409:return{code:se,message:"already_exists"};case 413:return{code:se,message:"failed_precondition"};case 429:return{code:se,message:"resource_exhausted"};case 499:return{code:se,message:"cancelled"};default:return{code:se,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:se,message:"unimplemented"};case 503:return{code:se,message:"unavailable"};case 504:return{code:se,message:"deadline_exceeded"};default:return{code:se,message:"internal_error"}}return{code:se,message:"internal_error"}}function Do(e,t){e.setAttribute("http.response.status_code",t);const n=Bm(t);n.message!=="unknown_error"&&e.setStatus(n)}const Td="_sentryScope",Id="_sentryIsolationScope";function Um(e){try{const t=$.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Hm(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Wm(e,t,n){e&&(Re(e,Id,Um(n)),Re(e,Td,t))}function $o(e){const t=e;return{scope:t[Td],isolationScope:Hm(t[Id])}}const _a="sentry-",jm=/^sentry-/,zm=8192;function ya(e){const t=qm(e);if(!t)return;const n=Object.entries(t).reduce((r,[o,s])=>{if(o.match(jm)){const i=o.slice(_a.length);r[i]=s}return r},{});if(Object.keys(n).length>0)return n}function wd(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${_a}${r}`]=o),n),{});return Gm(t)}function qm(e){if(!(!e||!tt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Hc(n);return Object.entries(r).forEach(([o,s])=>{t[o]=s}),t},{}):Hc(e)}function Hc(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),o=t.slice(n+1);return[r,o].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Gm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=o===0?s:`${t},${s}`;return i.length>zm?(C&&g.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const Vm=/^o(\d+)\./,Ym=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Jm(e){return e==="http"||e==="https"}function Mt(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${i}`}function kd(e){const t=Ym.exec(e);if(!t){Vt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,o="",s="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Rd({host:s,pass:o,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function Rd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Km(e){if(!C)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(g.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Jm(r)?t&&isNaN(parseInt(t,10))?(g.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(g.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(g.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Xm(e){return e.match(Vm)?.[1]}function Cd(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Xm(n)),r}function Ad(e){const t=typeof e=="string"?kd(e):Rd(e);if(!(!t||!Km(t)))return t}function pn(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const xd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Qm(e){if(!e)return;const t=e.match(xd);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Md(e,t){const n=Qm(e),r=ya(t);if(!n?.traceId)return{traceId:ht(),sampleRand:Math.random()};const o=Zm(n,r);r&&(r.sample_rand=o.toString());const{traceId:s,parentSpanId:i,parentSampled:a}=n;return{traceId:s,parentSpanId:i,sampled:a,dsc:r||{},sampleRand:o}}function Nd(e=ht(),t=vt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Od(e=ht(),t=vt(),n){return`00-${e}-${t}-${n?"01":"00"}`}function Zm(e,t){const n=pn(t?.sample_rand);if(n!==void 0)return n;const r=pn(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function eg(e,t){const n=Cd(e);return t&&n&&t!==n?(g.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(g.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}const Pd=0,Sa=1;let Wc=!1;function tg(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:s,status:i,origin:a,links:c}=D(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:o,status:i,origin:a,links:c}}function Ld(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:D(e).parent_span_id,s=$o(e).scope,i=r?s?.getPropagationContext().propagationSpanId||vt():t;return{parent_span_id:o,span_id:i,trace_id:n}}function ng(e){const{traceId:t,spanId:n}=e.spanContext(),r=Xt(e);return Nd(t,n,r)}function rg(e){const{traceId:t,spanId:n}=e.spanContext(),r=Xt(e);return Od(t,n,r)}function Dd(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:s})=>({span_id:t,trace_id:n,sampled:r===Sa,attributes:s,...o}))}function an(e){return typeof e=="number"?jc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?jc(e.getTime()):he()}function jc(e){return e>9999999999?e/1e3:e}function D(e){if(sg(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(og(e)){const{attributes:r,startTime:o,name:s,endTime:i,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:an(o),timestamp:an(i)||void 0,status:$d(a),op:r[Te],origin:r[Y],links:Dd(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function og(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function sg(e){return typeof e.getSpanJSON=="function"}function Xt(e){const{traceFlags:t}=e.spanContext();return t===Sa}function $d(e){if(!(!e||e.code===Fm))return e.code===ga?"ok":e.message||"internal_error"}const cn="_sentryChildSpans",Ri="_sentryRootSpan";function Fd(e,t){const n=e[Ri]||e;Re(t,Ri,n),e[cn]?e[cn].add(t):Re(e,cn,new Set([t]))}function ig(e,t){e[cn]&&e[cn].delete(t)}function So(e){const t=new Set;function n(r){if(!t.has(r)&&Xt(r)){t.add(r);const o=r[cn]?Array.from(r[cn]):[];for(const s of o)n(s)}}return n(e),Array.from(t)}function Se(e){return e[Ri]||e}function _e(){const e=xt(),t=Kt(e);return t.getActiveSpan?t.getActiveSpan():Bn(j())}function Ci(){Wc||(Vt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Wc=!0)}function pA(e,t){e.updateName(t),e.setAttributes({[pe]:"custom",[ki]:t})}let zc=!1;function ag(){if(zc)return;function e(){const t=_e(),n=t&&Se(t);if(n){const r="internal_error";C&&g.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:se,message:r})}}e.tag="sentry_tracingErrorCallback",zc=!0,ld(e),dd(e)}function Ke(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||O()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function qc(e){g.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Fo(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(ug(n)){if(yo(e.description,n))return C&&qc(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?yo(e.description,n.name):!0,o=n.op?e.op&&yo(e.op,n.op):!0;if(r&&o)return C&&qc(e),!0}return!1}function cg(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const o of e)o.parent_span_id===r&&(o.parent_span_id=n)}function ug(e){return typeof e=="string"||e instanceof RegExp}const _s="production",Bd="_frozenDsc";function bo(e,t){Re(e,Bd,t)}function Ud(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||_s,release:n.release,public_key:r,trace_id:e,org_id:Cd(t)};return t.emit("createDsc",o),o}function ba(e,t){const n=t.getPropagationContext();return n.dsc||Ud(n.traceId,e)}function st(e){const t=O();if(!t)return{};const n=Se(e),r=D(n),o=r.data,s=n.spanContext().traceState,i=s?.get("sentry.sample_rate")??o[ha]??o[vd];function a(h){return(typeof i=="number"||typeof i=="string")&&(h.sample_rate=`${i}`),h}const c=n[Bd];if(c)return a(c);const u=s?.get("sentry.dsc"),d=u&&ya(u);if(d)return a(d);const l=Ud(e.spanContext().traceId,t),p=o[pe],f=r.description;return p!=="url"&&f&&(l.transaction=f),Ke()&&(l.sampled=String(Xt(n)),l.sample_rand=s?.get("sentry.sample_rand")??$o(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function hA(e){const t=st(e);return wd(t)}class Ct{constructor(t={}){this._traceId=t.traceId||ht(),this._spanId=t.spanId||vt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Pd}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function je(e,t=100,n=1/0){try{return Ai("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Hd(e,t=3,n=100*1024){const r=je(e,t);return pg(r)>n?Hd(e,t-1,n):r}function Ai(e,t,n=1/0,r=1/0,o=hg()){const[s,i]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=lg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Ai("",f,c-1,r,o)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const p=yd(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}const h=p[f];d[f]=Ai(f,h,c-1,r,o),l++}return i(t),d}function lg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(hd(t))return"[VueViewModel]";if(mm(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${It(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=dg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function dg(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function fg(e){return~-encodeURI(e).split(/%..|./).length}function pg(e){return fg(JSON.stringify(e))}function hg(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function it(e,t=[]){return[e,t]}function mg(e,t){const[n,r]=e;return[n,[...r,t]]}function hn(e,t){const n=e[1];for(const r of n){const o=r[0].type;if(t(r,o))return!0}return!1}function Gc(e,t){return hn(e,(n,r)=>t.includes(r))}function Bo(e){const t=kr($);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function gg(e){const t=kr($);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function Uo(e){const[t,n]=e;let r=JSON.stringify(t);function o(s){typeof r=="string"?r=typeof s=="string"?r+s:[Bo(r),s]:r.push(typeof s=="string"?Bo(s):s)}for(const s of n){const[i,a]=s;if(o(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(je(a))}o(c)}}return typeof r=="string"?r:_g(r)}function _g(e){const t=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function yg(e){let t=typeof e=="string"?Bo(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(gg(n(i)))}const o=r(),s=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;s.push([i,a?n(a):r()])}return[o,s]}function Sg(e){return[{type:"span"},e]}function bg(e){const t=typeof e.data=="string"?Bo(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Eg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Vc(e){return Eg[e]}function ys(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Wd(e,t,n,r){const o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Mt(r)},...o&&{trace:o}}}function vg(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Tg(e,t,n,r){const o=ys(n),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:Mt(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return it(s,[i])}function Ig(e,t,n,r){const o=ys(n),s=e.type&&e.type!=="replay_event"?e.type:"event";vg(e,n?.sdk);const i=Wd(e,o,r,t);return delete e.sdkProcessingMetadata,it(i,[[{type:s},e]])}function wg(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=st(e[0]),o=t?.getDsn(),s=t?.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&o&&{dsn:Mt(o)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!Fo(D(f),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const l=a?f=>{const h=D(f),m=a(h);return m||(Ci(),h)}:D,p=[];for(const f of u){const h=l(f);h&&p.push(Sg(h))}return it(i,p)}function kg(e){if(!C)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=D(e),{spanId:o}=e.spanContext(),s=Xt(e),i=Se(e),a=i===e,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=D(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}g.log(`${c}
  ${u.join(`
  `)}`)}function Rg(e){if(!C)return;const{description:t="< unknown name >",op:n="< unknown op >"}=D(e),{spanId:r}=e.spanContext(),s=Se(e)===e,i=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;g.log(i)}function Cg(e,t,n,r=_e()){const o=r&&Se(r);o&&(C&&g.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Ar]:t,[Cr]:n}))}function Yc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},o=r[Cr],s=r[Ar];typeof o=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:o})}),t}const Jc=1e3;class Ss{constructor(t={}){this._traceId=t.traceId||ht(),this._spanId=t.spanId||vt(),this._startTime=t.startTimestamp||he(),this._links=t.links,this._attributes={},this.setAttributes({[Y]:"manual",[Te]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Sa:Pd}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=an(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(pe,"custom"),this}end(t){this._endTime||(this._endTime=an(t),Rg(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Te],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:$d(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Y],profile_id:this._attributes[ma],exclusive_time:this._attributes[tr],measurements:Yc(this._events),is_segment:this._isStandaloneSpan&&Se(this)===this||void 0,segment_id:this._isStandaloneSpan?Se(this).spanContext().spanId:void 0,links:Dd(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){C&&g.log("[Tracing] Adding an event to span:",t);const o=Kc(n)?n:r||he(),s=Kc(n)?{}:n||{},i={name:t,time:an(o),attributes:s};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=O();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Se(this)))return;if(this._isStandaloneSpan){this._sampled?xg(wg([this],t)):(C&&g.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&($o(this).scope||j()).captureEvent(r)}_convertSpanToTransaction(){if(!Xc(D(this)))return;this._name||(C&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=$o(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=So(this).filter(d=>d!==this&&!Ag(d)).map(d=>D(d)).filter(Xc),i=this._attributes[pe];delete this._attributes[ki],s.forEach(d=>{delete d.data[ki]});const a={contexts:{trace:tg(this)},spans:s.length>Jc?s.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Jc):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:st(this)},request:r,...i&&{transaction_info:{source:i}}},c=Yc(this._events);return c&&Object.keys(c).length&&(C&&g.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Kc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Xc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Ag(e){return e instanceof Ss&&e.isStandaloneSpan()}function xg(e){const t=O();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function bs(e,t,n=()=>{},r=()=>{}){let o;try{o=e()}catch(s){throw t(s),n(),s}return Mg(o,t,n,r)}function Mg(e,t,n,r){return Sn(e)?e.then(o=>(n(),r(o),o),o=>{throw t(o),n(),o}):(n(),r(e),e)}function Ng(e,t,n){if(!Ke(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);const s=pn(o);if(s===void 0)return C&&g.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!s)return C&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const i=n<s;return i||C&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[i,s,r]}const Ho="__SENTRY_SUPPRESS_TRACING__";function nr(e,t){const n=xr();if(n.startSpan)return n.startSpan(e,t);const r=va(e),{forceTransaction:o,parentSpan:s,scope:i}=e,a=i?.clone();return Ge(a,()=>jd(s)(()=>{const u=j(),d=Ta(u,s),p=e.onlyIfParent&&!d?new Ct:Ea({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Rt(u,p),bs(()=>t(p),()=>{const{status:f}=D(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:se,message:"internal_error"})},()=>{p.end()})}))}function Wo(e,t){const n=xr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=va(e),{forceTransaction:o,parentSpan:s,scope:i}=e,a=i?.clone();return Ge(a,()=>jd(s)(()=>{const u=j(),d=Ta(u,s),p=e.onlyIfParent&&!d?new Ct:Ea({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return Rt(u,p),bs(()=>t(p,()=>p.end()),()=>{const{status:f}=D(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:se,message:"internal_error"})})}))}function rt(e){const t=xr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=va(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?i=>Ge(e.scope,i):o!==void 0?i=>Hn(o,i):i=>i())(()=>{const i=j(),a=Ta(i,o);return e.onlyIfParent&&!a?new Ct:Ea({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const mA=(e,t)=>{const n=xt(),r=Kt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:o,baggage:s}=e,i=O(),a=ya(s);return i&&!eg(i,a?.org_id)?Pg(t):Ge(c=>{const u=Md(o,s);return c.setPropagationContext(u),t()})};function Hn(e,t){const n=xr();return n.withActiveSpan?n.withActiveSpan(e,t):Ge(r=>(Rt(r,e||void 0),t(r)))}function Og(e){const t=xr();return t.suppressTracing?t.suppressTracing(e):Ge(n=>{n.setSDKProcessingMetadata({[Ho]:!0});const r=e();return n.setSDKProcessingMetadata({[Ho]:void 0}),r})}function Pg(e){return Ge(t=>(t.setPropagationContext({traceId:ht(),sampleRand:Math.random()}),C&&g.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Hn(null,e)))}function Ea({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ke()){const i=new Ct;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...st(i)};bo(i,a)}return i}const o=we();let s;if(e&&!n)s=Lg(e,r,t),Fd(e,s);else if(e){const i=st(e),{traceId:a,spanId:c}=e.spanContext(),u=Xt(e);s=Qc({traceId:a,parentSpanId:c,...t},r,u),bo(s,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};s=Qc({traceId:i,parentSpanId:c,...t},r,u),a&&bo(s,a)}return kg(s),Wm(s,r,o),s}function va(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=an(e.startTime),delete r.startTime,r}return n}function xr(){const e=xt();return Kt(e)}function Qc(e,t,n){const r=O(),o=r?.getOptions()||{},{name:s=""}=e,i={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??n,c=i.spanAttributes,u=t.getPropagationContext(),[d,l,p]=t.getScopeData().sdkProcessingMetadata[Ho]?[!1]:Ng(o,{name:s,parentSampled:a,attributes:c,parentSampleRate:pn(u.dsc?.sample_rate)},u.sampleRand),f=new Ss({...e,attributes:{[pe]:"custom",[ha]:l!==void 0&&p?l:void 0,...c},sampled:d});return!d&&r&&(C&&g.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function Lg(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[Ho]?!1:Xt(e),i=s?new Ss({...n,parentSpanId:r,traceId:o,sampled:s}):new Ct({traceId:o});Fd(e,i);const a=O();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function Ta(e,t){if(t)return t;if(t===null)return;const n=Bn(e);if(!n)return;const r=O();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Se(n):n}function jd(e){return e!==void 0?t=>Hn(e,t):t=>t()}const Eo={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Dg="heartbeatFailed",$g="idleTimeout",Fg="finalTimeout",Bg="externalFinish";function zd(e,t={}){const n=new Map;let r=!1,o,s=Bg,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=Eo.idleTimeout,finalTimeout:u=Eo.finalTimeout,childSpanTimeout:d=Eo.childSpanTimeout,beforeSpanEnd:l,trimIdleSpanEndTimestamp:p=!0}=t,f=O();if(!f||!Ke()){const S=new Ct,x={sample_rate:"0",sampled:"false",...st(S)};return bo(S,x),S}const h=j(),m=_e(),_=Ug(e);_.end=new Proxy(_.end,{apply(S,x,F){if(l&&l(_),x instanceof Ct)return;const[v,...P]=F,k=v||he(),A=an(k),H=So(_).filter(R=>R!==_),X=D(_);if(!H.length||!p)return M(A),Reflect.apply(S,x,[A,...P]);const J=f.getOptions().ignoreSpans,re=H?.reduce((R,K)=>{const ie=D(K);return!ie.timestamp||J&&Fo(ie,J)?R:R?Math.max(R,ie.timestamp):ie.timestamp},void 0),T=X.start_timestamp,q=Math.min(T?T+u/1e3:1/0,Math.max(T||-1/0,Math.min(A,re||1/0)));return M(q),Reflect.apply(S,x,[q,...P])}});function y(){o&&(clearTimeout(o),o=void 0)}function E(S){y(),o=setTimeout(()=>{!r&&n.size===0&&i&&(s=$g,_.end(S))},c)}function w(S){o=setTimeout(()=>{!r&&i&&(s=Dg,_.end(S))},d)}function I(S){y(),n.set(S,!0);const x=he();w(x+d/1e3)}function b(S){if(n.has(S)&&n.delete(S),n.size===0){const x=he();E(x+c/1e3)}}function M(S){r=!0,n.clear(),a.forEach(A=>A()),Rt(h,m);const x=D(_),{start_timestamp:F}=x;if(!F)return;x.data[yr]||_.setAttribute(yr,s),g.log(`[Tracing] Idle span "${x.op}" finished`);const P=So(_).filter(A=>A!==_);let k=0;P.forEach(A=>{A.isRecording()&&(A.setStatus({code:se,message:"cancelled"}),A.end(S),C&&g.log("[Tracing] Cancelling span since span ended early",JSON.stringify(A,void 0,2)));const H=D(A),{timestamp:X=0,start_timestamp:J=0}=H,re=J<=S,T=(u+c)/1e3,q=X-J<=T;if(C){const R=JSON.stringify(A,void 0,2);re?q||g.log("[Tracing] Discarding span since it finished after idle span final timeout",R):g.log("[Tracing] Discarding span since it happened after idle span was finished",R)}(!q||!re)&&(ig(_,A),k++)}),k>0&&_.setAttribute("sentry.idle_span_discarded_spans",k)}return a.push(f.on("spanStart",S=>{if(r||S===_||D(S).timestamp||S instanceof Ss&&S.isStandaloneSpan())return;So(_).includes(S)&&I(S.spanContext().spanId)})),a.push(f.on("spanEnd",S=>{r||b(S.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",S=>{S===_&&(i=!0,E(),n.size&&w())})),t.disableAutoFinish||E(),setTimeout(()=>{r||(_.setStatus({code:se,message:"deadline_exceeded"}),s=Fg,_.end())},u),_}function Ug(e){const t=rt(e);return Rt(j(),t),C&&g.log("[Tracing] Started span is an idle span"),t}const Xs=0,Zc=1,eu=2;function Es(e){return new Sr(t=>{t(e)})}function Ia(e){return new Sr((t,n)=>{n(e)})}class Sr{constructor(t){this._state=Xs,this._handlers=[],this._runExecutor(t)}then(t,n){return new Sr((r,o)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(i){o(i)}},s=>{if(!n)o(s);else try{r(n(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Sr((n,r)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){r(o);return}n(o)})})}_executeHandlers(){if(this._state===Xs)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Zc&&n[1](this._value),this._state===eu&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,i)=>{if(this._state===Xs){if(Sn(i)){i.then(r,o);return}this._state=s,this._value=i,this._executeHandlers()}},r=s=>{n(Zc,s)},o=s=>{n(eu,s)};try{t(r,o)}catch(s){o(s)}}}function Hg(e,t,n,r=0){try{const o=xi(t,n,e,r);return Sn(o)?o:Es(o)}catch(o){return Ia(o)}}function xi(e,t,n,r){const o=n[r];if(!e||!o)return e;const s=o({...e},t);return C&&s===null&&g.log(`Event processor "${o.id||"?"}" dropped event`),Sn(s)?s.then(i=>xi(i,t,n,r+1)):xi(s,t,n,r+1)}function Wg(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=t;jg(e,t),r&&Gg(e,r),Vg(e,n),zg(e,o),qg(e,s)}function Wn(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:p,transactionName:f,span:h}=t;Qr(e,"extra",n),Qr(e,"tags",r),Qr(e,"user",o),Qr(e,"contexts",s),e.sdkProcessingMetadata=Rr(e.sdkProcessingMetadata,a,2),i&&(e.level=i),f&&(e.transactionName=f),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...p}}function Qr(e,t,n){e[t]=Rr(e[t],n,1)}function jg(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function zg(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function qg(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Gg(e,t){e.contexts={trace:Ld(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:st(t),...e.sdkProcessingMetadata};const n=Se(t),r=D(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Vg(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Zt,tu,nu,Pt;function qd(e){const t=$._sentryDebugIds,n=$._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],o=n?Object.keys(n):[];if(Pt&&r.length===tu&&o.length===nu)return Pt;tu=r.length,nu=o.length,Pt={},Zt||(Zt={});const s=(i,a)=>{for(const c of i){const u=a[c],d=Zt?.[c];if(d&&Pt&&u)Pt[d[0]]=u,Zt&&(Zt[c]=[d[0],u]);else if(u){const l=e(c);for(let p=l.length-1;p>=0;p--){const h=l[p]?.filename;if(h&&Pt&&Zt){Pt[h]=u,Zt[c]=[h,u];break}}}}};return t&&s(r,t),n&&s(o,n),Pt}function Yg(e,t){const n=qd(e);if(!n)return[];const r=[];for(const o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function Gd(e,t,n,r,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ie(),timestamp:t.timestamp||En()},u=n.integrations||e.integrations.map(_=>_.name);Jg(c,e),Qg(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&Kg(c,e.stackParser);const d=e_(r,n.captureContext);n.mechanism&&kt(c,n.mechanism);const l=o?o.getEventProcessors():[],p=fn().getScopeData();if(s){const _=s.getScopeData();Wn(p,_)}if(d){const _=d.getScopeData();Wn(p,_)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),Wg(c,p);const h=[...l,...p.eventProcessors];return Hg(h,c,n).then(_=>(_&&Xg(_),typeof i=="number"&&i>0?Zg(_,i,a):_))}function Jg(e,t){const{environment:n,release:r,dist:o,maxValueLength:s}=t;e.environment=e.environment||n||_s,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);const i=e.request;i?.url&&(i.url=s?gs(i.url,s):i.url)}function Kg(e,t){const n=qd(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function Xg(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function Qg(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Zg(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:je(o.data,t,n)}}))},...e.user&&{user:je(e.user,t,n)},...e.contexts&&{contexts:je(e.contexts,t,n)},...e.extra&&{extra:je(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=je(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:je(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=je(e.contexts.flags,3,n)),r}function e_(e,t){if(!t)return e;const n=e?e.clone():new mt;return n.update(t),n}function t_(e){if(e)return n_(e)?{captureContext:e}:o_(e)?{captureContext:e}:e}function n_(e){return e instanceof mt||typeof e=="function"}const r_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function o_(e){return Object.keys(e).some(t=>r_.includes(t))}function Ce(e,t){return j().captureException(e,t_(t))}function Mi(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return j().captureMessage(e,n,r)}function Mr(e,t){return j().captureEvent(e,t)}function Vd(e,t){we().setContext(e,t)}function gA(e){we().setExtras(e)}function _A(e,t){we().setExtra(e,t)}function yA(e){we().setTags(e)}function SA(e,t){we().setTag(e,t)}function bA(e){we().setUser(e)}function s_(){return we().lastEventId()}async function EA(e){const t=O();return t?t.flush(e):(C&&g.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function vA(e){const t=O();return t?t.close(e):(C&&g.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function TA(){return!!O()}function i_(){const e=O();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function a_(e){we().addEventProcessor(e)}function ru(e){const t=we(),n=j(),{userAgent:r}=$.navigator||{},o=wm({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),s=t.getSession();return s?.status==="ok"&&Fn(s,{status:"exited"}),Yd(),t.setSession(o),o}function Yd(){const e=we(),n=j().getSession()||e.getSession();n&&km(n),Jd(),e.setSession()}function Jd(){const e=we(),t=O(),n=e.getSession();n&&t&&t.captureSession(n)}function ou(e=!1){if(e){Yd();return}Jd()}const c_="7";function Kd(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function u_(e){return`${Kd(e)}${e.projectId}/envelope/`}function l_(e,t){const n={sentry_version:c_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Xd(e,t,n){return t||`${u_(e)}?${l_(e,n)}`}function d_(e,t){const n=Ad(e);if(!n)return"";const r=`${Kd(n)}embed/error-page/`;let o=`dsn=${Mt(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const i=t.user;if(!i)continue;i.name&&(o+=`&name=${encodeURIComponent(i.name)}`),i.email&&(o+=`&email=${encodeURIComponent(i.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${o}`}const su=[];function f_(e){const t={};return e.forEach(n=>{const{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function p_(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return f_(r)}function h_(e,t){const n={};return t.forEach(r=>{r&&Qd(e,r,n)}),n}function iu(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Qd(e,t,n){if(n[t.name]){C&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,su.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),su.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>r(o,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),o=Object.assign((s,i)=>r(s,i,e),{id:t.name});e.addEventProcessor(o)}C&&g.log(`Integration installed: ${t.name}`)}function au(e){const t=O();if(!t){C&&g.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Zd(e,t){return t?Ge(t,()=>{const n=_e(),r=n?Ld(n):Ed(t);return[n?st(n):ba(e,t),r]}):[void 0,void 0]}const m_={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function g_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function __(e,t,n,r){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=Mt(r)),it(o,[g_(e)])}const y_=100;function S_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function ut(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function b_(e,t){const n=ka(),r=ef(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=y_&&wa(e,r))}function jo(e,t=j(),n=b_){const r=t?.getClient()??O();if(!r){C&&g.warn("No client available to capture log.");return}const{release:o,environment:s,enableLogs:i=!1,beforeSendLog:a}=r.getOptions();if(!i){C&&g.warn("logging option not enabled, log will not be captured.");return}const[,c]=Zd(r,t),u={...e.attributes},{user:{id:d,email:l,username:p}}=E_(t);ut(u,"user.id",d,!1),ut(u,"user.email",l,!1),ut(u,"user.name",p,!1),ut(u,"sentry.release",o),ut(u,"sentry.environment",s);const{name:f,version:h}=r.getSdkMetadata()?.sdk??{};ut(u,"sentry.sdk.name",f),ut(u,"sentry.sdk.version",h);const m=r.getIntegrationByName("Replay"),_=m?.getReplayId(!0);ut(u,"sentry.replay_id",_),_&&m?.getRecordingMode()==="buffer"&&ut(u,"sentry._internal.replay_is_buffering",!0);const y=e.message;if(hs(y)){const{__sentry_template_string__:v,__sentry_template_values__:P=[]}=y;P?.length&&(u["sentry.message.template"]=v),P.forEach((k,A)=>{u[`sentry.message.parameter.${A}`]=k})}const E=Bn(t);ut(u,"sentry.trace.parent_span_id",E?.spanContext().spanId);const w={...e,attributes:u};r.emit("beforeCaptureLog",w);const I=a?Vt(()=>a(w)):w;if(!I){r.recordDroppedEvent("before_send","log_item",1),C&&g.warn("beforeSendLog returned null, log will not be captured.");return}const{level:b,message:M,attributes:S={},severityNumber:x}=I,F={timestamp:he(),level:b,body:M,trace_id:c?.trace_id,severity_number:x??m_[b],attributes:Object.keys(S).reduce((v,P)=>(v[P]=S_(S[P]),v),{})};n(r,F),r.emit("afterCaptureLog",I)}function wa(e,t){const n=t??ef(e)??[];if(n.length===0)return;const r=e.getOptions(),o=__(n,r._metadata,r.tunnel,e.getDsn());ka().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function ef(e){return ka().get(e)}function E_(e){const t=fn().getScopeData();return Wn(t,we().getScopeData()),Wn(t,e.getScopeData()),t}function ka(){return Zn("clientToLogBufferMap",()=>new WeakMap)}function v_(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function T_(e,t,n,r){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=Mt(r)),it(o,[v_(e)])}const I_=1e3;function w_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function yt(e,t,n,r=!0){n&&(r||!(t in e))&&(e[t]=n)}function k_(e,t){const n=Ca(),r=tf(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=I_&&Ra(e,r))}function R_(e,t,n){const{release:r,environment:o}=t.getOptions(),s={...e.attributes},{user:{id:i,email:a,username:c}}=x_(n);yt(s,"user.id",i,!1),yt(s,"user.email",a,!1),yt(s,"user.name",c,!1),yt(s,"sentry.release",r),yt(s,"sentry.environment",o);const{name:u,version:d}=t.getSdkMetadata()?.sdk??{};yt(s,"sentry.sdk.name",u),yt(s,"sentry.sdk.version",d);const l=t.getIntegrationByName("Replay"),p=l?.getReplayId(!0);return yt(s,"sentry.replay_id",p),p&&l?.getRecordingMode()==="buffer"&&yt(s,"sentry._internal.replay_is_buffering",!0),{...e,attributes:s}}function C_(e,t,n){const r={};for(const c in e.attributes)e.attributes[c]!==void 0&&(r[c]=w_(e.attributes[c]));const[,o]=Zd(t,n),s=Bn(n),i=s?s.spanContext().traceId:o?.trace_id,a=s?s.spanContext().spanId:void 0;return{timestamp:he(),trace_id:i??"",span_id:a,name:e.name,type:e.type,unit:e.unit,value:e.value,attributes:r}}function A_(e,t){const n=t?.scope??j(),r=t?.captureSerializedMetric??k_,o=n?.getClient()??O();if(!o){C&&g.warn("No client available to capture metric.");return}const{_experiments:s,enableMetrics:i,beforeSendMetric:a}=o.getOptions();if(!(i??s?.enableMetrics??!0)){C&&g.warn("metrics option not enabled, metric will not be captured.");return}const u=R_(e,o,n),d=a||s?.beforeSendMetric,l=d?d(u):u;if(!l){C&&g.log("`beforeSendMetric` returned `null`, will not send metric.");return}const p=C_(l,o,n);C&&g.log("[Metric]",p),r(o,p),o.emit("afterCaptureMetric",u)}function Ra(e,t){const n=t??tf(e)??[];if(n.length===0)return;const r=e.getOptions(),o=T_(n,r._metadata,r.tunnel,e.getDsn());Ca().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(o)}function tf(e){return Ca().get(e)}function x_(e){const t=fn().getScopeData();return Wn(t,we().getScopeData()),Wn(t,e.getScopeData()),t}function Ca(){return Zn("clientToMetricBufferMap",()=>new WeakMap)}function M_(e,t,n){const r=[{type:"client_report"},{timestamp:En(),discarded_events:e}];return it(t?{dsn:t}:{},[r])}function nf(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function N_(e){const{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:s,data:i,op:a}=e.contexts?.trace??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:i?.[ma],exclusive_time:i?.[tr],measurements:e.measurements,is_segment:!0}}function O_(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ma]:e.profile_id},...e.exclusive_time&&{[tr]:e.exclusive_time}}}},measurements:e.measurements}}const cu="Not capturing exception because it's already been captured.",uu="Discarded session because of missing or non-string release",rf=Symbol.for("SentryInternalError"),of=Symbol.for("SentryDoNotSendEventError"),P_=5e3;function vo(e){return{message:e,[rf]:!0}}function Qs(e){return{message:e,[of]:!0}}function lu(e){return!!e&&typeof e=="object"&&rf in e}function du(e){return!!e&&typeof e=="object"&&of in e}function fu(e,t,n,r,o){let s=0,i;e.on(n,()=>{s=0,clearTimeout(i)}),e.on(t,a=>{s+=r(a),s>=8e5?o(e):(clearTimeout(i),i=setTimeout(()=>{o(e)},P_))}),e.on("flush",()=>{o(e)})}class L_{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ad(t.dsn):C&&g.warn("No DSN provided, client will not send events."),this._dsn){const r=Xd(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs&&fu(this,"afterCaptureLog","flushLogs",B_,wa),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&fu(this,"afterCaptureMetric","flushMetrics",F_,Ra)}captureException(t,n,r){const o=Ie();if(Fc(t))return C&&g.log(cu),o;const s={event_id:o,...n};return this._process(this.eventFromException(t,s).then(i=>this._captureEvent(i,s,r))),s.event_id}captureMessage(t,n,r,o){const s={event_id:Ie(),...r},i=hs(t)?t:String(t),a=qt(t)?this.eventFromMessage(i,n,s):this.eventFromException(t,s);return this._process(a.then(c=>this._captureEvent(c,s,o))),s.event_id}captureEvent(t,n,r){const o=Ie();if(n?.originalException&&Fc(n.originalException))return C&&g.log(cu),o;const s={event_id:o,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,s,a||r,c)),s.event_id}captureSession(t){this.sendSession(t),Fn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),o=await n.flush(t);return r&&o}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Qd(this,t,this._integrations),n||iu(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ig(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=mg(r,bg(o));this.sendEnvelope(r).then(o=>this.emit("afterSendEvent",t,o))}sendSession(t){const{release:n,environment:r=_s}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){C&&g.warn(uu);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){C&&g.warn(uu);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const o=Tg(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const o=`${t}:${n}`;C&&g.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,o=(...s)=>n(...s);return r.add(o),()=>{r.delete(o)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(o=>o(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return C&&g.error("Error while sending envelope:",n),{}}return C&&g.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=h_(this,t),iu(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1;const s=n.exception?.values;if(s){o=!0,r=!1;for(const c of s)if(c.mechanism?.handled===!1){r=!0;break}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Fn(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){const s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i?.length&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),Gd(s,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Ed(r),...a.contexts};const c=ba(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=j(),o=we()){return C&&Ni(t)&&g.log(`Captured error event \`${nf(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(s=>s.event_id,s=>{C&&(du(s)?g.log(s.message):lu(s)?g.warn(s.message):g.warn(s))})}_processEvent(t,n,r,o){const s=this.getOptions(),{sampleRate:i}=s,a=sf(t),c=Ni(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:pn(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Ia(Qs(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Qs("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const m=$_(this,s,f,n);return D_(m,d)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw Qs(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||o.getSession();if(c&&h&&this._updateSessionFromEvent(h,f),a){const _=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,y=f.spans?f.spans.length:0,E=_-y;E>0&&this.recordDroppedEvent("before_send","span",E)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const _="custom";f.transaction_info={...m,source:_}}return this.sendEvent(f,n),f}).then(null,f=>{throw du(f)||lu(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),vo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[o,s]=n.split(":");return{reason:o,category:s,quantity:r}})}_flushOutcomes(){C&&g.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){C&&g.log("No outcomes to send");return}if(!this._dsn){C&&g.log("No dsn provided, will not send outcomes");return}C&&g.log("Sending outcomes:",t);const n=M_(t,this._options.tunnel&&Mt(this._dsn));this.sendEnvelope(n)}}function D_(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Sn(e))return e.then(r=>{if(!dt(r)&&r!==null)throw vo(n);return r},r=>{throw vo(`${t} rejected with ${r}`)});if(!dt(e)&&e!==null)throw vo(n);return e}function $_(e,t,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i,ignoreSpans:a}=t;let c=n;if(Ni(c)&&o)return o(c,r);if(sf(c)){if(i||a){const u=N_(c);if(a?.length&&Fo(u,a))return null;if(i){const d=i(u);d?c=Rr(n,O_(d)):Ci()}if(c.spans){const d=[],l=c.spans;for(const f of l){if(a?.length&&Fo(f,a)){cg(l,f);continue}if(i){const h=i(f);h?d.push(h):(Ci(),d.push(f))}else d.push(f)}const p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(s){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(c,r)}}return c}function Ni(e){return e.type===void 0}function sf(e){return e.type==="transaction"}function F_(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+af(e.attributes)}function B_(e){let t=0;return e.message&&(t+=e.message.length*2),t+af(e.attributes)}function af(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*pu(n[0]):qt(n)?t+=pu(n):t+=100}),t}function pu(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function U_(e,t){t.debug===!0&&(C?g.enable():Vt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),j().update(t.initialScope);const r=new e(t);return H_(r),r.init(),r}function H_(e){j().setClient(e)}const cf=Symbol.for("SentryBufferFullError");function uf(e=100){const t=new Set;function n(){return t.size<e}function r(i){t.delete(i)}function o(i){if(!n())return Ia(cf);const a=i();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function s(i){if(!t.size)return Es(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!i)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),i))];return Promise.race(c)}return{get $(){return Array.from(t)},add:o,drain:s}}const W_=60*1e3;function lf(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?W_:r-t}function j_(e,t){return e[t]||e.all||0}function df(e,t,n=Date.now()){return j_(e,t)>n}function ff(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n?.["x-sentry-rate-limits"],i=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),p=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[f]=r+p):o[f]=r+p}else i?o.all=r+lf(i,r):t===429&&(o.all=r+60*1e3);return o}const z_=64;function q_(e,t,n=uf(e.bufferSize||z_)){let r={};const o=i=>n.drain(i);function s(i){const a=[];if(hn(i,(l,p)=>{const f=Vc(p);df(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(l)}),a.length===0)return Promise.resolve({});const c=it(i[0],a),u=l=>{hn(c,(p,f)=>{e.recordDroppedEvent(l,Vc(f))})},d=()=>t({body:Uo(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&C&&g.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=ff(r,l),l),l=>{throw u("network_error"),C&&g.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===cf)return C&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw l})}return{send:s,flush:o}}const Zs=100,ei=5e3,G_=36e5;function V_(e){function t(...n){C&&g.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const o=n.createStore(n);let s=ei,i;function a(l,p,f){return Gc(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,p,f):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const p=await o.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(s),s=Math.min(s*2,G_))}async function d(l,p=!1){if(!p&&Gc(l,["replay_event","replay_recording"]))return await o.push(l),c(Zs),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const f=await r.send(l);let h=Zs;if(f){if(f.headers?.["retry-after"])h=lf(f.headers["retry-after"]);else if(f.headers?.["x-sentry-rate-limits"])h=6e4;else if((f.statusCode||0)>=400)return f}return c(h),s=ei,f}catch(f){if(await a(l,f,s))return p?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",f),{};throw f}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(s=ei,c(Zs)),r.flush(l))}}}function pf(e,t){let n;return hn(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Y_(e,t){return n=>{const r=e(n);return{...r,send:async o=>{const s=pf(o,["event","transaction","profile","replay_event"]);return s&&(s.release=t),r.send(o)}}}}function J_(e,t){return it(t?{...e[0],dsn:t}:e[0],e[1])}function IA(e,t){return n=>{const r=e(n),o=new Map;function s(c,u){const d=u?`${c}:${u}`:c;let l=o.get(d);if(!l){const p=kd(c);if(!p)return;const f=Xd(p,n.tunnel);l=u?Y_(e,u)({...n,url:f}):e({...n,url:f}),o.set(d,l)}return[c,l]}async function i(c){function u(f){const h=f?.length?f:["event"];return pf(c,h)}const d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?s(f,void 0):s(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,h])=>h.send(J_(c,f)))))[0]}async function a(c){const u=[...o.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}const K_="thismessage:/";function Aa(e){return"isRelative"in e}function xa(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?K_:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function X_(e){if(Aa(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function un(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function hf(e){return e.split(/[?#]/,1)[0]}function mf(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return Z_(e,n)||Q_(e,r)}function Q_(e,t){return t?hu(e)===hu(t):!1}function Z_(e,t){const n=xa(e);return!n||Aa(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function hu(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function ey(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}const ty=ey;function ny(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function gf(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Bt})),version:Bt}),e._metadata=o}function _f(e={}){const t=e.client||O();if(!i_()||!t)return{};const n=xt(),r=Kt(n);if(r.getTraceData)return r.getTraceData(e);const o=e.scope||j(),s=e.span||_e(),i=s?ng(s):ry(o),a=s?st(s):ba(t,o),c=wd(a);if(!xd.test(i))return g.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":i,baggage:c};if(e.propagateTraceparent){const l=s?rg(s):oy(o);l&&(d.traceparent=l)}return d}function ry(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Nd(t,r,n)}function oy(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Od(t,r,n)}function sy(e,t,n){let r,o,s;const i=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),s!==void 0&&clearTimeout(s),o=s=void 0}function d(){return o!==void 0||s!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),i&&s===void 0&&(s=a(c,i)),r}return l.cancel=u,l.flush=d,l}const iy=100;function gt(e,t){const n=O(),r=we();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=iy}=n.getOptions();if(s<=0)return;const a={timestamp:En(),...e},c=o?Vt(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,s))}let mu;const ay="FunctionToString",gu=new WeakMap,cy=(()=>({name:ay,setupOnce(){mu=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=pa(this),n=gu.has(O())&&t!==void 0?t:this;return mu.apply(n,e)}}catch{}},setup(e){gu.set(e,!0)}})),uy=cy,ly=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],dy="EventFilters",fy=(e={})=>{let t;return{name:dy,setup(n){const r=n.getOptions();t=_u(e,r)},processEvent(n,r,o){if(!t){const s=o.getOptions();t=_u(e,s)}return hy(n,t)?null:n}}},py=((e={})=>({...fy(e),name:"InboundFilters"}));function _u(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:ly],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function hy(e,t){if(e.type){if(e.type==="transaction"&&gy(e,t.ignoreTransactions))return C&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${tn(e)}`),!0}else{if(my(e,t.ignoreErrors))return C&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${tn(e)}`),!0;if(by(e))return C&&g.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${tn(e)}`),!0;if(_y(e,t.denyUrls))return C&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${tn(e)}.
Url: ${zo(e)}`),!0;if(!yy(e,t.allowUrls))return C&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${tn(e)}.
Url: ${zo(e)}`),!0}return!1}function my(e,t){return t?.length?nf(e).some(n=>nt(n,t)):!1}function gy(e,t){if(!t?.length)return!1;const n=e.transaction;return n?nt(n,t):!1}function _y(e,t){if(!t?.length)return!1;const n=zo(e);return n?nt(n,t):!1}function yy(e,t){if(!t?.length)return!0;const n=zo(e);return n?nt(n,t):!0}function Sy(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function zo(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Sy(n):null}catch{return C&&g.error(`Cannot extract url for event ${tn(e)}`),null}}function by(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Ey(e,t,n,r,o,s){if(!o.exception?.values||!s||!wt(s.originalException,Error))return;const i=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;i&&(o.exception.values=Oi(e,t,r,s.originalException,n,o.exception.values,i,0))}function Oi(e,t,n,r,o,s,i,a){if(s.length>=n+1)return s;let c=[...s];if(wt(r[o],Error)){yu(i,a);const u=e(t,r[o]),d=c.length;Su(u,o,d,a),c=Oi(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(wt(u,Error)){yu(i,a);const l=e(t,u),p=c.length;Su(l,`errors[${d}]`,p,a),c=Oi(e,t,n,u,o,[l,...c],l,p)}}),c}function yu(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Su(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const yf=new Map,bu=new Set;function vy(e){if($._sentryModuleMetadata)for(const t of Object.keys($._sentryModuleMetadata)){const n=$._sentryModuleMetadata[t];if(bu.has(t))continue;bu.add(t);const r=e(t);for(const o of r.reverse())if(o.filename){yf.set(o.filename,n);break}}}function Ty(e,t){return vy(e),yf.get(t)}function Sf(e,t){t.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(r=>{if(!r.filename||r.module_metadata)return;const o=Ty(e,r.filename);o&&(r.module_metadata=o)})})}function bf(e){e.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(n=>{delete n.module_metadata})})}const wA=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{hn(t,(n,r)=>{if(r==="event"){const o=Array.isArray(n)?n[1]:void 0;o&&(bf(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Sf(n,t)})}});function Ma(e){const t="console";Yt(t,e),Jt(t,Iy)}function Iy(){"console"in $&&ua.forEach(function(e){e in $.console&&Me($.console,e,function(t){return Po[e]=t,function(...n){Je("console",{args:n,level:e}),Po[e]?.apply($.console,n)}})})}function Na(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const wy="CaptureConsole",ky=((e={})=>{const t=e.levels||ua,n=e.handled??!0;return{name:wy,setup(r){"console"in $&&Ma(({args:o,level:s})=>{O()!==r||!t.includes(s)||Ry(o,s,n)})}}}),kA=ky;function Ry(e,t,n){const r={level:Na(t),extra:{arguments:e}};Ge(o=>{if(o.addEventProcessor(a=>(a.logger="console",kt(a,{handled:n,type:"auto.core.capture_console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${Lo(e.slice(1)," ")||"console.assert"}`;o.setExtra("arguments",e.slice(1)),Mi(a,r)}return}const s=e.find(a=>a instanceof Error);if(s){Ce(s,r);return}const i=Lo(e," ");Mi(i,r)})}const Cy="Dedupe",Ay=(()=>{let e;return{name:Cy,processEvent(t){if(t.type)return t;try{if(My(t,e))return C&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),xy=Ay;function My(e,t){return t?!!(Ny(e,t)||Oy(e,t)):!1}function Ny(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!vf(e,t)||!Ef(e,t))}function Oy(e,t){const n=Eu(t),r=Eu(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!vf(e,t)||!Ef(e,t))}function Ef(e,t){let n=Ti(e),r=Ti(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){const s=r[o],i=n[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function vf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Eu(e){return e.exception?.values?.[0]}const Py="ExtraErrorData",Ly=((e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:Py,processEvent(r,o,s){const{maxValueLength:i}=s.getOptions();return Dy(r,o,t,n,i)}}}),RA=Ly;function Dy(e,t={},n,r,o){if(!t.originalException||!Et(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,i=Tf(t.originalException,r,o);if(i){const a={...e.contexts},c=je(i,n);return dt(c)&&(Re(c,"__sentry_skip_normalization__",!0),a[s]=c),{...e,contexts:a}}return e}function Tf(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const s of Object.keys(e)){if(r.indexOf(s)!==-1)continue;const i=e[s];o[s]=Et(i)||typeof i=="string"?n?gs(`${i}`,n):`${i}`:i}if(t&&e.cause!==void 0)if(Et(e.cause)){const s=e.cause.name||e.cause.constructor.name;o.cause={[s]:Tf(e.cause,!1,n)}}else o.cause=e.cause;if(typeof e.toJSON=="function"){const s=e.toJSON();for(const i of Object.keys(s)){const a=s[i];o[i]=Et(a)?a.toString():a}}return o}catch(r){C&&g.error("Unable to extract extra data from the Error object:",r)}return null}function $y(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const Fy=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function By(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Fy.exec(t);return n?n.slice(1):[]}function vu(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=$y(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Tu(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Uy(e,t){e=vu(e).slice(1),t=vu(t).slice(1);const n=Tu(e.split("/")),r=Tu(t.split("/")),o=Math.min(n.length,r.length);let s=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){s=a;break}let i=[];for(let a=s;a<n.length;a++)i.push("..");return i=i.concat(r.slice(s)),i.join("/")}function Hy(e,t){return By(e)[2]||""}const Wy="RewriteFrames",CA=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in $&&!!$.window,o=e.iteratee||jy({isBrowser:r,root:t,prefix:n});function s(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a?.frames?.map(c=>o(c))}}return{name:Wy,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=s(c)),c}}};function jy({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(o||s){const i=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Uy(t,i):Hy(i);r.filename=`${n}${a}`}return r}}const zy=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],qy=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],Gy={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},If=["select","insert","upsert","update","delete"];function vs(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Ts(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function Vy(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function Yy(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&Gy[n]||"filter",`${o}(${e}, ${r.join(".")})`}function Iu(e,t=!1){return new Proxy(e,{apply(n,r,o){return nr({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[Y]:"auto.db.supabase",[Te]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},s=>Reflect.apply(n,r,o).then(i=>(i&&typeof i=="object"&&"error"in i&&i.error?(s.setStatus({code:se}),Ce(i.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):s.setStatus({code:ga}),s.end(),i)).catch(i=>{throw s.setStatus({code:se}),s.end(),Ce(i,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),i}).then(...o))}})}function Jy(e){const t=e.auth;if(!(!t||Ts(e.auth))){for(const n of zy){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Iu(r))}for(const n of qy){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Iu(r,!0))}vs(e.auth)}}function Ky(e){Ts(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const o=Reflect.apply(t,n,r),s=o.constructor;return Qy(s),o}}),vs(e.prototype.from))}function Xy(e){Ts(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){const o=If,s=n,i=Vy(s.method,s.headers);if(!o.includes(i)||!s?.url?.pathname||typeof s.url.pathname!="string")return Reflect.apply(t,n,r);const a=s.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[f,h]of s.url.searchParams.entries())u.push(Yy(f,h));const d=Object.create(null);if(dt(s.body))for(const[f,h]of Object.entries(s.body))d[f]=h;const l=`${i==="select"?"":`${i}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,p={"db.table":c,"db.schema":s.schema,"db.url":s.url.origin,"db.sdk":s.headers["X-Client-Info"],"db.system":"postgresql","db.operation":i,[Y]:"auto.db.supabase",[Te]:"db"};return u.length&&(p["db.query"]=u),Object.keys(d).length&&(p["db.body"]=d),nr({name:l,attributes:p},f=>Reflect.apply(t,n,[]).then(h=>{if(f&&(h&&typeof h=="object"&&"status"in h&&Do(f,h.status||500),f.end()),h.error){const y=new Error(h.error.message);h.error.code&&(y.code=h.error.code),h.error.details&&(y.details=h.error.details);const E={};u.length&&(E.query=u),Object.keys(d).length&&(E.body=d),Ce(y,w=>(w.addEventProcessor(I=>(kt(I,{handled:!1,type:"auto.db.supabase.postgres"}),I)),w.setContext("supabase",E),w))}const m={type:"supabase",category:`db.${i}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(m.data=_),gt(m),h},h=>{throw f&&(Do(f,500),f.end()),h}).then(...r))}}),vs(e.prototype.then))}function Qy(e){for(const t of If)Ts(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){const s=Reflect.apply(n,r,o),i=s.constructor;return C&&g.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),Xy(i),s}}),vs(e.prototype[t]))}const Zy=e=>{if(!e){C&&g.warn("Supabase integration was not installed because no Supabase client was provided.");return}const t=e.constructor===Function?e:e.constructor;Ky(t),Jy(e)},eS="Supabase",tS=(e=>({setupOnce(){Zy(e)},name:eS})),AA=e=>tS(e.supabaseClient),nS=10,rS="ZodErrors";function oS(e){return Et(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function sS(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function iS(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function aS(e){const t=new Set;for(const r of e.issues){const o=iS(r.path);o.length>0&&t.add(o)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${gs(n.join(", "),100)}`}function cS(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!oS(r.originalException)||r.originalException.issues.length===0)return n;try{const s=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(sS);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:s})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:aS(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":s.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}const uS=((e={})=>{const t=e.limit??nS;return{name:rS,processEvent(n,r){return cS(t,e.saveZodIssuesAsAttachment,n,r)}}}),xA=uS,MA=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{hn(n,(r,o)=>{if(o==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(bf(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Sf(r,n)})},processEvent(t){const n=lS(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function lS(e){const t=Ti(e);if(t)return t.filter(n=>!!n.filename&&(n.lineno??n.colno)!=null).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(wu)).map(r=>r.slice(wu.length)):[])}const wu="_sentryBundlerPluginAppKey:",dS=100,fS=10,Zr="flag.evaluation.";function rr(e){const n=j().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function mn(e,t,n=dS){const r=j().getScopeData().contexts;r.flags||(r.flags={values:[]});const o=r.flags.values;pS(o,e,t,n)}function pS(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){C&&g.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const o=e.findIndex(s=>s.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function gn(e,t,n=fS){if(typeof t!="boolean")return;const r=_e();if(!r)return;const o=D(r).data;if(`${Zr}${e}`in o){r.setAttribute(`${Zr}${e}`,t);return}Object.keys(o).filter(i=>i.startsWith(Zr)).length<n&&r.setAttribute(`${Zr}${e}`,t)}const NA=()=>({name:"FeatureFlags",processEvent(e,t,n){return rr(e)},addFeatureFlag(e,t){mn(e,t),gn(e,t)}}),hS=({growthbookClass:e})=>({name:"GrowthBook",setupOnce(){const t=e.prototype;typeof t.isOn=="function"&&Me(t,"isOn",ku),typeof t.getFeatureValue=="function"&&Me(t,"getFeatureValue",ku)},processEvent(t,n,r){return rr(t)}});function ku(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"&&(mn(n,r),gn(n,r)),r}}function mS(e,t,n,r,o){if(!e.fetchData)return;const{method:s,url:i}=e.fetchData,a=Ke()&&t(i);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const h=r[f];h&&(yS(h,e),gS(h,e,o),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof o=="object"?o:{spanOrigin:o},d=!!_e(),l=a&&d?rt(bS(i,s,c)):new Ct;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],h=e.args[1]||{},m=_S(f,h,Ke()&&d?l:void 0,u);m&&(e.args[1]=h,h.headers=m)}const p=O();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",l,f)}return l}function gS(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function _S(e,t,n,r){const o=_f({span:n,propagateTraceparent:r}),s=o["sentry-trace"],i=o.baggage,a=o.traceparent;if(!s)return;const c=t.headers||(md(e)?e.headers:void 0);if(c)if(SS(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",s),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),i){const d=u.get("baggage");d?eo(d)||u.set("baggage",`${d},${i}`):u.set("baggage",i)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",s]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&eo(l[1]));return i&&!d&&u.push(["baggage",i]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,p=l?Array.isArray(l)?[...l]:[l]:[],f=l&&(Array.isArray(l)?l.find(m=>eo(m)):eo(l));i&&!f&&p.push(i);const h={...c,"sentry-trace":u??s,baggage:p.length>0?p.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...o}}function yS(e,t){if(t.response){Do(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:se,message:"internal_error"});e.end()}function eo(e){return e.split(",").some(t=>t.trim().startsWith(_a))}function SS(e){return typeof Headers<"u"&&wt(e,Headers)}function bS(e,t,n){const r=xa(e);return{name:r?`${t} ${X_(r)}`:t,attributes:ES(e,r,t,n)}}function ES(e,t,n,r){const o={url:e,type:"fetch","http.method":n,[Y]:r,[Te]:"http.client"};return t&&(Aa(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function vS(e,t={},n=j()){const{message:r,name:o,email:s,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:s,name:o,message:r,url:i,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||O();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function or(e,t,n,r,o){jo({level:e,message:t,attributes:n,severityNumber:o},r)}function TS(e,t,{scope:n}={}){or("trace",e,t,n)}function IS(e,t,{scope:n}={}){or("debug",e,t,n)}function wS(e,t,{scope:n}={}){or("info",e,t,n)}function kS(e,t,{scope:n}={}){or("warn",e,t,n)}function RS(e,t,{scope:n}={}){or("error",e,t,n)}function CS(e,t,{scope:n}={}){or("fatal",e,t,n)}const OA=Object.freeze(Object.defineProperty({__proto__:null,debug:IS,error:RS,fatal:CS,fmt:ty,info:wS,trace:TS,warn:kS},Symbol.toStringTag,{value:"Module"}));function Pi(e,t,n){return"util"in $&&typeof $.util.format=="function"?$.util.format(...e):AS(e,t,n)}function AS(e,t,n){return e.map(r=>qt(r)?String(r):JSON.stringify(je(r,t,n))).join(" ")}function xS(e){return/%[sdifocO]/.test(e)}function MS(e,t){const n={},r=new Array(t.length).fill("{}").join(" ");return n["sentry.message.template"]=`${e} ${r}`,t.forEach((o,s)=>{n[`sentry.message.parameter.${s}`]=o}),n}const NS="ConsoleLogs",Ru={[Y]:"auto.log.console"},OS=((e={})=>{const t=e.levels||ua;return{name:NS,setup(n){const{enableLogs:r,normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=n.getOptions();if(!r){C&&g.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Ma(({args:i,level:a})=>{if(O()!==n||!t.includes(a))return;const c=i[0],u=i.slice(1);if(a==="assert"){if(!c){const f=u.length>0?`Assertion failed: ${Pi(u,o,s)}`:"Assertion failed";jo({level:"error",message:f,attributes:Ru})}return}const d=a==="log",l=i.length>1&&typeof i[0]=="string"&&!xS(i[0]),p={...Ru,...l?MS(c,u):{}};jo({level:d?"info":a,message:Pi(i,o,s),severityNumber:d?10:void 0,attributes:p})})}}}),PA=OS;function Oa(e,t,n,r){A_({type:e,name:t,value:n,unit:r?.unit,attributes:r?.attributes},{scope:r?.scope})}function PS(e,t=1,n){Oa("counter",e,t,n)}function LS(e,t,n){Oa("gauge",e,t,n)}function DS(e,t,n){Oa("distribution",e,t,n)}const LA=Object.freeze(Object.defineProperty({__proto__:null,count:PS,distribution:DS,gauge:LS},Symbol.toStringTag,{value:"Module"})),$S=["trace","debug","info","warn","error","fatal"];function DA(e={}){const t=new Set(e.levels??$S),n=e.client;return{log(r){const{type:o,level:s,message:i,args:a,tag:c,date:u,...d}=r,l=n||O();if(!l)return;const p=US(o,s);if(!t.has(p))return;const{normalizeDepth:f=3,normalizeMaxBreadth:h=1e3}=l.getOptions(),m=[];i&&m.push(i),a&&a.length>0&&m.push(Pi(a,f,h));const _=m.join(" ");d["sentry.origin"]="auto.log.consola",c&&(d["consola.tag"]=c),o&&(d["consola.type"]=o),s!=null&&typeof s=="number"&&(d["consola.level"]=s),jo({level:p,message:_,attributes:d})}}}const FS={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},BS={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"};function US(e,t){if(e==="verbose")return"debug";if(e==="silent")return"trace";if(e){const n=FS[e];if(n)return n}if(typeof t=="number"){const n=BS[t];if(n)return n}return"info"}const HS="gen_ai.prompt",Pa="gen_ai.system",ot="gen_ai.request.model",wf="gen_ai.request.stream",La="gen_ai.request.temperature",kf="gen_ai.request.max_tokens",Da="gen_ai.request.frequency_penalty",Rf="gen_ai.request.presence_penalty",$a="gen_ai.request.top_p",Cf="gen_ai.request.top_k",sr="gen_ai.response.finish_reasons",Nr="gen_ai.response.model",Or="gen_ai.response.id",Is="gen_ai.usage.input_tokens",ws="gen_ai.usage.output_tokens",ks="gen_ai.usage.total_tokens",Fa="gen_ai.operation.name",ln="gen_ai.request.messages",ft="gen_ai.response.text",Ba="gen_ai.request.available_tools",Rs="gen_ai.response.streaming",Qt="gen_ai.response.tool_calls",WS="openai.response.id",jS="openai.response.model",zS="openai.response.timestamp",qS="openai.usage.completion_tokens",GS="openai.usage.prompt_tokens",Cu={CHAT:"chat",RESPONSES:"responses"},Au="anthropic.response.timestamp",Af=2e4,qo=e=>new TextEncoder().encode(e).length,Go=e=>qo(JSON.stringify(e));function Ua(e,t){if(qo(e)<=t)return e;let n=0,r=e.length,o="";for(;n<=r;){const s=Math.floor((n+r)/2),i=e.slice(0,s);qo(i)<=t?(o=i,n=s+1):r=s-1}return o}function VS(e){return typeof e=="string"?e:e.text}function xu(e,t){return typeof e=="string"?t:{...e,text:t}}function YS(e){return e!==null&&typeof e=="object"&&"content"in e&&typeof e.content=="string"}function JS(e){return e!==null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)&&e.parts.length>0}function KS(e,t){const n={...e,content:""},r=Go(n),o=t-r;if(o<=0)return[];const s=Ua(e.content,o);return[{...e,content:s}]}function XS(e,t){const{parts:n}=e,r=n.map(a=>xu(a,"")),o=Go({...e,parts:r});let s=t-o;if(s<=0)return[];const i=[];for(const a of n){const c=VS(a),u=qo(c);if(u<=s)i.push(a),s-=u;else if(i.length===0){const d=Ua(c,s);d&&i.push(xu(a,d));break}else break}return i.length>0?[{...e,parts:i}]:[]}function QS(e,t){return!e||typeof e!="object"?[]:YS(e)?KS(e,t):JS(e)?XS(e,t):[]}function ZS(e,t){if(!Array.isArray(e)||e.length===0||Go(e)<=t)return e;const r=e.map(Go);let o=0,s=e.length;for(let i=e.length-1;i>=0;i--){const a=r[i];if(a&&o+a>t)break;a&&(o+=a),s=i}if(s===e.length){const i=e[e.length-1];return QS(i,t)}return e.slice(s)}function eb(e){return ZS(e,Af)}function tb(e){return Ua(e,Af)}function Pr(e){return e.includes("messages")?"messages":e.includes("completions")?"completions":e.includes("models")?"models":e.includes("chat")?"chat":e.split(".").pop()||"unknown"}function Vo(e){return`gen_ai.${Pr(e)}`}function xf(e,t){return e?`${e}.${t}`:t}function Ha(e,t,n,r,o){if(t!==void 0&&e.setAttributes({[Is]:t}),n!==void 0&&e.setAttributes({[ws]:n}),t!==void 0||n!==void 0||r!==void 0||o!==void 0){const s=(t??0)+(n??0)+(r??0)+(o??0);e.setAttributes({[ks]:s})}}function dn(e){if(typeof e=="string")return tb(e);if(Array.isArray(e)){const t=eb(e);return JSON.stringify(t)}return JSON.stringify(e)}const nb="OpenAI",rb=["responses.create","chat.completions.create"],ob=["response.output_item.added","response.function_call_arguments.delta","response.function_call_arguments.done","response.output_item.done"],sb=["response.created","response.in_progress","response.failed","response.completed","response.incomplete","response.queued","response.output_text.delta",...ob];function Wa(e){return e.includes("chat.completions")?Cu.CHAT:e.includes("responses")?Cu.RESPONSES:e.split(".").pop()||"unknown"}function Mu(e){return`gen_ai.${Wa(e)}`}function ib(e){return rb.includes(e)}function ab(e,t){return e?`${e}.${t}`:t}function cb(e){return e!==null&&typeof e=="object"&&"object"in e&&e.object==="chat.completion"}function ub(e){return e!==null&&typeof e=="object"&&"object"in e&&e.object==="response"}function lb(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"&&e.type.startsWith("response.")}function db(e){return e!==null&&typeof e=="object"&&"object"in e&&e.object==="chat.completion.chunk"}function ja(e,t,n,r){t!==void 0&&e.setAttributes({[GS]:t,[Is]:t}),n!==void 0&&e.setAttributes({[qS]:n,[ws]:n}),r!==void 0&&e.setAttributes({[ks]:r})}function za(e,t,n,r){e.setAttributes({[WS]:t,[Or]:t}),e.setAttributes({[jS]:n,[Nr]:n}),e.setAttributes({[zS]:new Date(r*1e3).toISOString()})}function fb(e,t){for(const n of e){const r=n.index;if(!(r===void 0||!n.function))if(!(r in t.chatCompletionToolCalls))t.chatCompletionToolCalls[r]={...n,function:{name:n.function.name,arguments:n.function.arguments||""}};else{const o=t.chatCompletionToolCalls[r];n.function.arguments&&o?.function&&(o.function.arguments+=n.function.arguments)}}}function pb(e,t,n){t.responseId=e.id??t.responseId,t.responseModel=e.model??t.responseModel,t.responseTimestamp=e.created??t.responseTimestamp,e.usage&&(t.promptTokens=e.usage.prompt_tokens,t.completionTokens=e.usage.completion_tokens,t.totalTokens=e.usage.total_tokens);for(const r of e.choices??[])n&&(r.delta?.content&&t.responseTexts.push(r.delta.content),r.delta?.tool_calls&&fb(r.delta.tool_calls,t)),r.finish_reason&&t.finishReasons.push(r.finish_reason)}function hb(e,t,n,r){if(!(e&&typeof e=="object")){t.eventTypes.push("unknown:non-object");return}if(e instanceof Error){r.setStatus({code:se,message:"internal_error"}),Ce(e,{mechanism:{handled:!1,type:"auto.ai.openai.stream-response"}});return}if(!("type"in e))return;const o=e;if(!sb.includes(o.type)){t.eventTypes.push(o.type);return}if(n&&(o.type==="response.output_item.done"&&"item"in o&&t.responsesApiToolCalls.push(o.item),o.type==="response.output_text.delta"&&"delta"in o&&o.delta)){t.responseTexts.push(o.delta);return}if("response"in o){const{response:s}=o;t.responseId=s.id??t.responseId,t.responseModel=s.model??t.responseModel,t.responseTimestamp=s.created_at??t.responseTimestamp,s.usage&&(t.promptTokens=s.usage.input_tokens,t.completionTokens=s.usage.output_tokens,t.totalTokens=s.usage.total_tokens),s.status&&t.finishReasons.push(s.status),n&&s.output_text&&t.responseTexts.push(s.output_text)}}async function*mb(e,t,n){const r={eventTypes:[],responseTexts:[],finishReasons:[],responseId:"",responseModel:"",responseTimestamp:0,promptTokens:void 0,completionTokens:void 0,totalTokens:void 0,chatCompletionToolCalls:{},responsesApiToolCalls:[]};try{for await(const o of e)db(o)?pb(o,r,n):lb(o)&&hb(o,r,n,t),yield o}finally{za(t,r.responseId,r.responseModel,r.responseTimestamp),ja(t,r.promptTokens,r.completionTokens,r.totalTokens),t.setAttributes({[Rs]:!0}),r.finishReasons.length&&t.setAttributes({[sr]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length&&t.setAttributes({[ft]:r.responseTexts.join("")});const s=[...Object.values(r.chatCompletionToolCalls),...r.responsesApiToolCalls];s.length>0&&t.setAttributes({[Qt]:JSON.stringify(s)}),t.end()}}function gb(e,t){const n={[Pa]:"openai",[Fa]:Wa(t),[Y]:"auto.ai.openai"};if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const r=e[0],o=Array.isArray(r.tools)?r.tools:[],i=r.web_search_options&&typeof r.web_search_options=="object"?[{type:"web_search_options",...r.web_search_options}]:[],a=[...o,...i];a.length>0&&(n[Ba]=JSON.stringify(a))}if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const r=e[0];n[ot]=r.model??"unknown","temperature"in r&&(n[La]=r.temperature),"top_p"in r&&(n[$a]=r.top_p),"frequency_penalty"in r&&(n[Da]=r.frequency_penalty),"presence_penalty"in r&&(n[Rf]=r.presence_penalty),"stream"in r&&(n[wf]=r.stream)}else n[ot]="unknown";return n}function _b(e,t,n){if(za(e,t.id,t.model,t.created),t.usage&&ja(e,t.usage.prompt_tokens,t.usage.completion_tokens,t.usage.total_tokens),Array.isArray(t.choices)){const r=t.choices.map(o=>o.finish_reason).filter(o=>o!==null);if(r.length>0&&e.setAttributes({[sr]:JSON.stringify(r)}),n){const o=t.choices.map(s=>s.message?.tool_calls).filter(s=>Array.isArray(s)&&s.length>0).flat();o.length>0&&e.setAttributes({[Qt]:JSON.stringify(o)})}}}function yb(e,t,n){if(za(e,t.id,t.model,t.created_at),t.status&&e.setAttributes({[sr]:JSON.stringify([t.status])}),t.usage&&ja(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.total_tokens),n){const r=t;if(Array.isArray(r.output)&&r.output.length>0){const o=r.output.filter(s=>typeof s=="object"&&s!==null&&s.type==="function_call");o.length>0&&e.setAttributes({[Qt]:JSON.stringify(o)})}}}function Sb(e,t,n){if(!t||typeof t!="object")return;const r=t;if(cb(r)){if(_b(e,r,n),n&&r.choices?.length){const o=r.choices.map(s=>s.message?.content||"");e.setAttributes({[ft]:JSON.stringify(o)})}}else ub(r)&&(yb(e,r,n),n&&r.output_text&&e.setAttributes({[ft]:r.output_text}))}function Nu(e,t){if("messages"in t){const n=dn(t.messages);e.setAttributes({[ln]:n})}if("input"in t){const n=dn(t.input);e.setAttributes({[ln]:n})}}function bb(){const t=j().getClient(),n=t?.getIntegrationByName(nb),r=n?!!t?.getOptions().sendDefaultPii:!1;return{recordInputs:n?.options?.recordInputs??r,recordOutputs:n?.options?.recordOutputs??r}}function Eb(e,t,n,r){return async function(...s){const i=r||bb(),a=gb(s,t),c=a[ot]||"unknown",u=Wa(t),d=s[0];return d&&typeof d=="object"&&d.stream===!0?Wo({name:`${u} ${c} stream-response`,op:Mu(t),attributes:a},async p=>{try{i.recordInputs&&s[0]&&typeof s[0]=="object"&&Nu(p,s[0]);const f=await e.apply(n,s);return mb(f,p,i.recordOutputs??!1)}catch(f){throw p.setStatus({code:se,message:"internal_error"}),Ce(f,{mechanism:{handled:!1,type:"auto.ai.openai.stream",data:{function:t}}}),p.end(),f}}):nr({name:`${u} ${c}`,op:Mu(t),attributes:a},async p=>{try{i.recordInputs&&s[0]&&typeof s[0]=="object"&&Nu(p,s[0]);const f=await e.apply(n,s);return Sb(p,f,i.recordOutputs),f}catch(f){throw Ce(f,{mechanism:{handled:!1,type:"auto.ai.openai",data:{function:t}}}),f}})}}function Mf(e,t="",n){return new Proxy(e,{get(r,o){const s=r[o],i=ab(t,String(o));return typeof s=="function"&&ib(i)?Eb(s,i,r,n):typeof s=="function"?s.bind(r):s&&typeof s=="object"?Mf(s,i,n):s}})}function $A(e,t){return Mf(e,"",t)}function vb(e,t){return"type"in e&&typeof e.type=="string"&&e.type==="error"?(t.setStatus({code:se,message:e.error?.type??"internal_error"}),Ce(e.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}),!0):!1}function Tb(e,t){if(e.type==="message_delta"&&e.usage&&"output_tokens"in e.usage&&typeof e.usage.output_tokens=="number"&&(t.completionTokens=e.usage.output_tokens),e.message){const n=e.message;n.id&&(t.responseId=n.id),n.model&&(t.responseModel=n.model),n.stop_reason&&t.finishReasons.push(n.stop_reason),n.usage&&(typeof n.usage.input_tokens=="number"&&(t.promptTokens=n.usage.input_tokens),typeof n.usage.cache_creation_input_tokens=="number"&&(t.cacheCreationInputTokens=n.usage.cache_creation_input_tokens),typeof n.usage.cache_read_input_tokens=="number"&&(t.cacheReadInputTokens=n.usage.cache_read_input_tokens))}}function Ib(e,t){e.type!=="content_block_start"||typeof e.index!="number"||!e.content_block||(e.content_block.type==="tool_use"||e.content_block.type==="server_tool_use")&&(t.activeToolBlocks[e.index]={id:e.content_block.id,name:e.content_block.name,inputJsonParts:[]})}function wb(e,t,n){if(!(e.type!=="content_block_delta"||!e.delta)){if(typeof e.index=="number"&&"partial_json"in e.delta&&typeof e.delta.partial_json=="string"){const r=t.activeToolBlocks[e.index];r&&r.inputJsonParts.push(e.delta.partial_json)}n&&typeof e.delta.text=="string"&&t.responseTexts.push(e.delta.text)}}function kb(e,t){if(e.type!=="content_block_stop"||typeof e.index!="number")return;const n=t.activeToolBlocks[e.index];if(!n)return;const r=n.inputJsonParts.join("");let o;try{o=r?JSON.parse(r):{}}catch{o={__unparsed:r}}t.toolCalls.push({type:"tool_use",id:n.id,name:n.name,input:o}),delete t.activeToolBlocks[e.index]}function Nf(e,t,n,r){!(e&&typeof e=="object")||vb(e,r)||(Tb(e,t),Ib(e,t),wb(e,t,n),kb(e,t))}function Rb(e,t,n){t.isRecording()&&(e.responseId&&t.setAttributes({[Or]:e.responseId}),e.responseModel&&t.setAttributes({[Nr]:e.responseModel}),Ha(t,e.promptTokens,e.completionTokens,e.cacheCreationInputTokens,e.cacheReadInputTokens),t.setAttributes({[Rs]:!0}),e.finishReasons.length>0&&t.setAttributes({[sr]:JSON.stringify(e.finishReasons)}),n&&e.responseTexts.length>0&&t.setAttributes({[ft]:e.responseTexts.join("")}),n&&e.toolCalls.length>0&&t.setAttributes({[Qt]:JSON.stringify(e.toolCalls)}),t.end())}async function*Cb(e,t,n){const r={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};try{for await(const o of e)Nf(o,r,n,t),yield o}finally{r.responseId&&t.setAttributes({[Or]:r.responseId}),r.responseModel&&t.setAttributes({[Nr]:r.responseModel}),Ha(t,r.promptTokens,r.completionTokens,r.cacheCreationInputTokens,r.cacheReadInputTokens),t.setAttributes({[Rs]:!0}),r.finishReasons.length>0&&t.setAttributes({[sr]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length>0&&t.setAttributes({[ft]:r.responseTexts.join("")}),n&&r.toolCalls.length>0&&t.setAttributes({[Qt]:JSON.stringify(r.toolCalls)}),t.end()}}function Ab(e,t,n){const r={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};return e.on("streamEvent",o=>{Nf(o,r,n,t)}),e.on("message",()=>{Rb(r,t,n)}),e.on("error",o=>{Ce(o,{mechanism:{handled:!1,type:"auto.ai.anthropic.stream_error"}}),t.isRecording()&&(t.setStatus({code:se,message:"stream_error"}),t.end())}),e}const xb=["messages.create","messages.stream","messages.countTokens","models.get","completions.create","models.retrieve","beta.messages.create"];function Mb(e){return xb.includes(e)}function Nb(e,t){t.error&&(e.setStatus({code:se,message:t.error.type||"internal_error"}),Ce(t.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}))}function Ob(e,t){const n={[Pa]:"anthropic",[Fa]:Pr(t),[Y]:"auto.ai.anthropic"};if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const r=e[0];r.tools&&Array.isArray(r.tools)&&(n[Ba]=JSON.stringify(r.tools)),n[ot]=r.model??"unknown","temperature"in r&&(n[La]=r.temperature),"top_p"in r&&(n[$a]=r.top_p),"stream"in r&&(n[wf]=r.stream),"top_k"in r&&(n[Cf]=r.top_k),"frequency_penalty"in r&&(n[Da]=r.frequency_penalty),"max_tokens"in r&&(n[kf]=r.max_tokens)}else t==="models.retrieve"||t==="models.get"?n[ot]=e[0]:n[ot]="unknown";return n}function Li(e,t){if("messages"in t){const n=dn(t.messages);e.setAttributes({[ln]:n})}if("input"in t){const n=dn(t.input);e.setAttributes({[ln]:n})}"prompt"in t&&e.setAttributes({[HS]:JSON.stringify(t.prompt)})}function Pb(e,t){if("content"in t&&Array.isArray(t.content)){e.setAttributes({[ft]:t.content.map(r=>r.text).filter(r=>!!r).join("")});const n=[];for(const r of t.content)(r.type==="tool_use"||r.type==="server_tool_use")&&n.push(r);n.length>0&&e.setAttributes({[Qt]:JSON.stringify(n)})}"completion"in t&&e.setAttributes({[ft]:t.completion}),"input_tokens"in t&&e.setAttributes({[ft]:JSON.stringify(t.input_tokens)})}function Lb(e,t){"id"in t&&"model"in t&&(e.setAttributes({[Or]:t.id,[Nr]:t.model}),"created"in t&&typeof t.created=="number"&&e.setAttributes({[Au]:new Date(t.created*1e3).toISOString()}),"created_at"in t&&typeof t.created_at=="number"&&e.setAttributes({[Au]:new Date(t.created_at*1e3).toISOString()}),"usage"in t&&t.usage&&Ha(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.cache_creation_input_tokens,t.usage.cache_read_input_tokens))}function Db(e,t,n){if(!(!t||typeof t!="object")){if("type"in t&&t.type==="error"){Nb(e,t);return}n&&Pb(e,t),Lb(e,t)}}function Ou(e,t,n){throw Ce(e,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:n}}}),t.isRecording()&&(t.setStatus({code:se,message:"internal_error"}),t.end()),e}function $b(e,t,n,r,o,s,i,a,c,u,d){const l=o[ot]??"unknown",p={name:`${s} ${l} stream-response`,op:Vo(i),attributes:o};return u&&!d?Wo(p,async f=>{try{c.recordInputs&&a&&Li(f,a);const h=await e.apply(n,r);return Cb(h,f,c.recordOutputs??!1)}catch(h){return Ou(h,f,i)}}):Wo(p,f=>{try{c.recordInputs&&a&&Li(f,a);const h=t.apply(n,r);return Ab(h,f,c.recordOutputs??!1)}catch(h){return Ou(h,f,i)}})}function Fb(e,t,n,r){return new Proxy(e,{apply(o,s,i){const a=Ob(i,t),c=a[ot]??"unknown",u=Pr(t),d=typeof i[0]=="object"?i[0]:void 0,l=!!d?.stream,p=t==="messages.stream";return l||p?$b(e,o,n,i,a,u,t,d,r,l,p):nr({name:`${u} ${c}`,op:Vo(t),attributes:a},f=>(r.recordInputs&&d&&Li(f,d),bs(()=>o.apply(n,i),h=>{Ce(h,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:t}}})},()=>{},h=>Db(f,h,r.recordOutputs))))}})}function Of(e,t="",n){return new Proxy(e,{get(r,o){const s=r[o],i=xf(t,String(o));return typeof s=="function"&&Mb(i)?Fb(s,i,r,n):typeof s=="function"?s.bind(r):s&&typeof s=="object"?Of(s,i,n):s}})}function FA(e,t){const n=!!O()?.getOptions().sendDefaultPii,r={recordInputs:n,recordOutputs:n,...t};return Of(e,"",r)}const Pu=["models.generateContent","models.generateContentStream","chats.create","sendMessage","sendMessageStream"],Bb="google_genai",Pf="chats.create",Ub="chat";function Hb(e,t){const n=e?.promptFeedback;if(n?.blockReason){const r=n.blockReasonMessage??n.blockReason;return t.setStatus({code:se,message:`Content blocked: ${r}`}),Ce(`Content blocked: ${r}`,{mechanism:{handled:!1,type:"auto.ai.google_genai"}}),!0}return!1}function Wb(e,t){typeof e.responseId=="string"&&(t.responseId=e.responseId),typeof e.modelVersion=="string"&&(t.responseModel=e.modelVersion);const n=e.usageMetadata;n&&(typeof n.promptTokenCount=="number"&&(t.promptTokens=n.promptTokenCount),typeof n.candidatesTokenCount=="number"&&(t.completionTokens=n.candidatesTokenCount),typeof n.totalTokenCount=="number"&&(t.totalTokens=n.totalTokenCount))}function jb(e,t,n){Array.isArray(e.functionCalls)&&t.toolCalls.push(...e.functionCalls);for(const r of e.candidates??[]){r?.finishReason&&!t.finishReasons.includes(r.finishReason)&&t.finishReasons.push(r.finishReason);for(const o of r?.content?.parts??[])n&&o.text&&t.responseTexts.push(o.text),o.functionCall&&t.toolCalls.push({type:"function",id:o.functionCall.id,name:o.functionCall.name,arguments:o.functionCall.args})}}function zb(e,t,n,r){!e||Hb(e,r)||(Wb(e,t),jb(e,t,n))}async function*qb(e,t,n){const r={responseTexts:[],finishReasons:[],toolCalls:[]};try{for await(const o of e)zb(o,r,n,t),yield o}finally{const o={[Rs]:!0};r.responseId&&(o[Or]=r.responseId),r.responseModel&&(o[Nr]=r.responseModel),r.promptTokens!==void 0&&(o[Is]=r.promptTokens),r.completionTokens!==void 0&&(o[ws]=r.completionTokens),r.totalTokens!==void 0&&(o[ks]=r.totalTokens),r.finishReasons.length&&(o[sr]=JSON.stringify(r.finishReasons)),n&&r.responseTexts.length&&(o[ft]=r.responseTexts.join("")),n&&r.toolCalls.length&&(o[Qt]=JSON.stringify(r.toolCalls)),t.setAttributes(o),t.end()}}function Gb(e){if(Pu.includes(e))return!0;const t=e.split(".").pop();return Pu.includes(t)}function Vb(e){return e.includes("Stream")||e.endsWith("generateContentStream")||e.endsWith("sendMessageStream")}function Lu(e,t){if("model"in e&&typeof e.model=="string")return e.model;if(t&&typeof t=="object"){const n=t;if("model"in n&&typeof n.model=="string")return n.model;if("modelVersion"in n&&typeof n.modelVersion=="string")return n.modelVersion}return"unknown"}function Yb(e){const t={};return"temperature"in e&&typeof e.temperature=="number"&&(t[La]=e.temperature),"topP"in e&&typeof e.topP=="number"&&(t[$a]=e.topP),"topK"in e&&typeof e.topK=="number"&&(t[Cf]=e.topK),"maxOutputTokens"in e&&typeof e.maxOutputTokens=="number"&&(t[kf]=e.maxOutputTokens),"frequencyPenalty"in e&&typeof e.frequencyPenalty=="number"&&(t[Da]=e.frequencyPenalty),"presencePenalty"in e&&typeof e.presencePenalty=="number"&&(t[Rf]=e.presencePenalty),t}function Jb(e,t,n){const r={[Pa]:Bb,[Fa]:Pr(e),[Y]:"auto.ai.google_genai"};if(t){if(r[ot]=Lu(t,n),"config"in t&&typeof t.config=="object"&&t.config){const o=t.config;if(Object.assign(r,Yb(o)),"tools"in o&&Array.isArray(o.tools)){const s=o.tools.map(i=>i.functionDeclarations);r[Ba]=JSON.stringify(s)}}}else r[ot]=Lu({},n);return r}function Du(e,t){if("contents"in t){const n=t.contents,r=dn(n);e.setAttributes({[ln]:r})}if("message"in t){const n=t.message,r=dn(n);e.setAttributes({[ln]:r})}if("history"in t){const n=t.history,r=dn(n);e.setAttributes({[ln]:r})}}function Kb(e,t,n){if(!(!t||typeof t!="object")){if(t.usageMetadata&&typeof t.usageMetadata=="object"){const r=t.usageMetadata;typeof r.promptTokenCount=="number"&&e.setAttributes({[Is]:r.promptTokenCount}),typeof r.candidatesTokenCount=="number"&&e.setAttributes({[ws]:r.candidatesTokenCount}),typeof r.totalTokenCount=="number"&&e.setAttributes({[ks]:r.totalTokenCount})}if(n&&Array.isArray(t.candidates)&&t.candidates.length>0){const r=t.candidates.map(o=>o.content?.parts&&Array.isArray(o.content.parts)?o.content.parts.map(s=>typeof s.text=="string"?s.text:"").filter(s=>s.length>0).join(""):"").filter(o=>o.length>0);r.length>0&&e.setAttributes({[ft]:r.join("")})}if(n&&t.functionCalls){const r=t.functionCalls;Array.isArray(r)&&r.length>0&&e.setAttributes({[Qt]:JSON.stringify(r)})}}}function $u(e,t,n,r){const o=t===Pf;return new Proxy(e,{apply(s,i,a){const c=a[0],u=Jb(t,c,n),d=u[ot]??"unknown",l=Pr(t);return Vb(t)?Wo({name:`${l} ${d} stream-response`,op:Vo(t),attributes:u},async p=>{try{r.recordInputs&&c&&Du(p,c);const f=await s.apply(n,a);return qb(f,p,!!r.recordOutputs)}catch(f){throw p.setStatus({code:se,message:"internal_error"}),Ce(f,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}}),p.end(),f}}):nr({name:o?`${l} ${d} create`:`${l} ${d}`,op:Vo(t),attributes:u},p=>(r.recordInputs&&c&&Du(p,c),bs(()=>s.apply(n,a),f=>{Ce(f,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}})},()=>{},f=>{o||Kb(p,f,r.recordOutputs)})))}})}function Di(e,t="",n){return new Proxy(e,{get:(r,o,s)=>{const i=Reflect.get(r,o,s),a=xf(t,String(o));if(typeof i=="function"&&Gb(a)){if(a===Pf){const c=$u(i,a,r,n);return function(...d){const l=c(...d);return l&&typeof l=="object"?Di(l,Ub,n):l}}return $u(i,a,r,n)}return typeof i=="function"?i.bind(r):i&&typeof i=="object"?Di(i,a,n):i}})}function BA(e,t){const n=!!O()?.getOptions().sendDefaultPii,r={recordInputs:n,recordOutputs:n,...t};return Di(e,"",r)}function Lf(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const jn=$;function Xb(){return"history"in jn&&!!jn.history}function Qb(){if(!("fetch"in jn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function $i(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Df(){if(typeof EdgeRuntime=="string")return!0;if(!Qb())return!1;if($i(jn.fetch))return!0;let e=!1;const t=jn.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=$i(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){C&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Zb(){return"ReportingObserver"in jn}function qa(e,t){const n="fetch";Yt(n,e),Jt(n,()=>$f(void 0,t))}function eE(e){const t="fetch-body-resolved";Yt(t,e),Jt(t,()=>$f(nE))}function $f(e,t=!1){t&&!Df()||Me($,"fetch",function(n){return function(...r){const o=new Error,{method:s,url:i}=rE(r),a={args:r,fetchData:{method:s,url:i},startTimestamp:he()*1e3,virtualError:o,headers:oE(r)};return e||Je("fetch",{...a}),n.apply($,r).then(async c=>(e?e(c):Je("fetch",{...a,endTimestamp:he()*1e3,response:c}),c),c=>{if(Je("fetch",{...a,endTimestamp:he()*1e3,error:c}),Et(c)&&c.stack===void 0&&(c.stack=o.stack,Re(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function tE(e,t){if(e?.body){const n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(i)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function nE(e){let t;try{t=e.clone()}catch{return}tE(t,()=>{Je("fetch-body-resolved",{endTimestamp:he()*1e3,response:e})})}function Fi(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Fu(e){return typeof e=="string"?e:e?Fi(e,"url")?e.url:e.toString?e.toString():"":""}function rE(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Fu(n),method:Fi(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Fu(t),method:Fi(t,"method")?String(t.method).toUpperCase():"GET"}}function oE(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(md(t))return new Headers(t.headers)}catch{}}function sE(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function iE(){return"npm"}function aE(){return!sE()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Yo(){return typeof window<"u"&&(!aE()||cE())}function cE(){return $.process?.type==="renderer"}const et=$,ce=et.document,fr=et.navigator,Ff="Report a Bug",uE="Cancel",lE="Send Bug Report",dE="Confirm",fE="Report a Bug",pE="your.email@example.org",hE="Email",mE="What's the bug? What did you expect?",gE="Description",_E="Your Name",yE="Name",SE="Thank you for your report!",bE="(required)",EE="Add a screenshot",vE="Remove screenshot",TE="Highlight",IE="Hide",wE="Remove",kE="widget",RE="api",CE=5e3,AE=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=O();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&j().setTags(e.tags);const r=vS({source:RE,url:bn(),...e},t);return new Promise((o,s)=>{const i=setTimeout(()=>s("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u?.statusCode&&u.statusCode>=200&&u.statusCode<300?o(r):u?.statusCode===403?s("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):s("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},To=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function xE(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(fr.userAgent)||/Macintosh/i.test(fr.userAgent)&&fr.maxTouchPoints&&fr.maxTouchPoints>1||!isSecureContext)}function to(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function ME(e){const t=ce.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function qe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const In=20,NE="http://www.w3.org/2000/svg";function OE(){const e=a=>et.document.createElementNS(NE,a),t=qe(e("svg"),{width:`${In}`,height:`${In}`,viewBox:`0 0 ${In} ${In}`,fill:"var(--actor-color, var(--foreground))"}),n=qe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=qe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),s=qe(e("clipPath"),{id:"clip0_57_80"}),i=qe(e("rect"),{width:`${In}`,height:`${In}`,fill:"white"});return s.appendChild(i),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(i),t}function PE({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const o=ce.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||Ff,o.appendChild(OE()),e){const i=ce.createElement("span");i.appendChild(ce.createTextNode(e)),o.appendChild(i)}const s=ME(r);return{el:o,appendToDom(){n.appendChild(s),n.appendChild(o)},removeFromDom(){o.remove(),s.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}const Bf="rgba(88, 74, 192, 1)",LE={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Bf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Bu={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Bf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Uu(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function DE({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const o=ce.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Uu(e==="dark"?{...Bu,...t}:{...LE,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Uu({...Bu,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}const Uf=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>(({id:o="sentry-feedback",autoInject:s=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:p={email:"email",name:"username"},tags:f,styleNonce:h,scriptNonce:m,colorScheme:_="system",themeLight:y={},themeDark:E={},addScreenshotButtonLabel:w=EE,cancelButtonLabel:I=uE,confirmButtonLabel:b=dE,emailLabel:M=hE,emailPlaceholder:S=pE,formTitle:x=fE,isRequiredLabel:F=bE,messageLabel:v=gE,messagePlaceholder:P=mE,nameLabel:k=yE,namePlaceholder:A=_E,removeScreenshotButtonLabel:H=vE,submitButtonLabel:X=lE,successMessageText:J=SE,triggerLabel:re=Ff,triggerAriaLabel:T="",highlightToolText:q=TE,hideToolText:R=IE,removeHighlightText:K=wE,onFormOpen:ie,onFormClose:te,onSubmitSuccess:Ee,onSubmitError:Le,onFormSubmitted:Nt}={})=>{const De={id:o,autoInject:s,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:p,tags:f,styleNonce:h,scriptNonce:m,colorScheme:_,themeDark:E,themeLight:y,triggerLabel:re,triggerAriaLabel:T,cancelButtonLabel:I,submitButtonLabel:X,confirmButtonLabel:b,formTitle:x,emailLabel:M,emailPlaceholder:S,messageLabel:v,messagePlaceholder:P,nameLabel:k,namePlaceholder:A,successMessageText:J,isRequiredLabel:F,addScreenshotButtonLabel:w,removeScreenshotButtonLabel:H,highlightToolText:q,hideToolText:R,removeHighlightText:K,onFormClose:te,onFormOpen:ie,onSubmitError:Le,onSubmitSuccess:Ee,onFormSubmitted:Nt};let Be=null,at=[];const Ot=ae=>{if(!Be){const me=ce.createElement("div");me.id=String(ae.id),ce.body.appendChild(me),Be=me.attachShadow({mode:"open"}),Be.appendChild(DE(ae))}return Be},cr=async ae=>{const me=ae.enableScreenshot&&xE();let Ve,Ae;try{Ve=(t?t():await e("feedbackModalIntegration",m))(),au(Ve)}catch{throw To&&g.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const ct=me?n?n():await e("feedbackScreenshotIntegration",m):void 0;ct&&(Ae=ct(),au(Ae))}catch{To&&g.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const Ne=Ve.createDialog({options:{...ae,onFormClose:()=>{Ne?.close(),ae.onFormClose?.()},onFormSubmitted:()=>{Ne?.close(),ae.onFormSubmitted?.()}},screenshotIntegration:Ae,sendFeedback:AE,shadow:Ot(ae)});return Ne},Kr=(ae,me={})=>{const Ve=to(De,me),Ae=typeof ae=="string"?ce.querySelector(ae):typeof ae.addEventListener=="function"?ae:null;if(!Ae)throw To&&g.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Ne=null;const ct=async()=>{Ne||(Ne=await cr({...Ve,onFormSubmitted:()=>{Ne?.removeFromDom(),Ve.onFormSubmitted?.()}})),Ne.appendToDom(),Ne.open()};Ae.addEventListener("click",ct);const Q=()=>{at=at.filter(We=>We!==Q),Ne?.removeFromDom(),Ne=null,Ae.removeEventListener("click",ct)};return at.push(Q),Q},ur=(ae={})=>{const me=to(De,ae),Ve=Ot(me),Ae=PE({triggerLabel:me.triggerLabel,triggerAriaLabel:me.triggerAriaLabel,shadow:Ve,styleNonce:h});return Kr(Ae.el,{...me,onFormOpen(){Ae.hide()},onFormClose(){Ae.show()},onFormSubmitted(){Ae.show()}}),Ae};return{name:"Feedback",setupOnce(){!Yo()||!De.autoInject||(ce.readyState==="loading"?ce.addEventListener("DOMContentLoaded",()=>ur().appendToDom()):ur().appendToDom())},attachTo:Kr,createWidget(ae={}){const me=ur(to(De,ae));return me.appendToDom(),me},async createForm(ae={}){return cr(to(De,ae))},remove(){Be&&(Be.parentElement?.remove(),Be=null),at.forEach(ae=>ae()),at=[]}}});function UA(){return O()?.getIntegrationByName("Feedback")}var Cs,le,Hf,nn,Hu,Wf,Bi,br={},Ga=[],$E=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Va=Array.isArray;function Ft(e,t){for(var n in t)e[n]=t[n];return e}function jf(e){var t=e.parentNode;t&&t.removeChild(e)}function V(e,t,n){var r,o,s,i={};for(s in t)s=="key"?r=t[s]:s=="ref"?o=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?Cs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)i[s]===void 0&&(i[s]=e.defaultProps[s]);return Io(e,i,r,o,null)}function Io(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Hf,__i:-1,__u:0};return o==null&&le.vnode!=null&&le.vnode(s),s}function Lr(e){return e.children}function wo(e,t){this.props=e,this.context=t}function zn(e,t){if(t==null)return e.__?zn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?zn(e):null}function FE(e,t,n){var r,o=e.__v,s=o.__e,i=e.__P;if(i)return(r=Ft({},o)).__v=o.__v+1,le.vnode&&le.vnode(r),Ya(i,r,o,e.__n,i.ownerSVGElement!==void 0,32&o.__u?[s]:null,t,s??zn(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=s&&zf(r),r}function zf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return zf(e)}}function Wu(e){(!e.__d&&(e.__d=!0)&&nn.push(e)&&!Jo.__r++||Hu!==le.debounceRendering)&&((Hu=le.debounceRendering)||Wf)(Jo)}function Jo(){var e,t,n,r=[],o=[];for(nn.sort(Bi);e=nn.shift();)e.__d&&(n=nn.length,t=FE(e,r,o)||t,n===0||nn.length>n?(Ui(r,t,o),o.length=r.length=0,t=void 0,nn.sort(Bi)):t&&le.__c&&le.__c(t,Ga));t&&Ui(r,t,o),Jo.__r=0}function qf(e,t,n,r,o,s,i,a,c,u,d){var l,p,f,h,m,_=r&&r.__k||Ga,y=t.length;for(n.__d=c,BE(n,t,_),c=n.__d,l=0;l<y;l++)(f=n.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?br:_[f.__i]||br,f.__i=l,Ya(e,f,p,o,s,i,a,c,u,d),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Ja(p.ref,null,f),d.push(f.ref,f.__c||h,f)),m==null&&h!=null&&(m=h),65536&f.__u||p.__k===f.__k?c=Gf(f,c,e):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:h&&(c=h.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function BE(e,t,n){var r,o,s,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Io(null,o,null,null,o):Va(o)?Io(Lr,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Io(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=UE(o,n,i=r+l,d),o.__i=a,s=null,a!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(o.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=zn(s)),Hi(s,s,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==e.__d&&(e.__d=zn(s)),Hi(s,s))}function Gf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Gf(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function UE(e,t,n,r){var o=e.key,s=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&s===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&(131072&c.__u)==0&&o==c.key&&s===c.type)return i;i--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&s===c.type)return a;a++}}return-1}function ju(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||$E.test(t)?n:n+"px"}function no(e,t,n,r,o){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ju(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ju(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?qu:zu,s)):e.removeEventListener(t,s?qu:zu,s);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function zu(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(le.event?le.event(e):e)}}function qu(e){if(this.l)return this.l[e.type+!0](le.event?le.event(e):e)}function Ya(e,t,n,r,o,s,i,a,c,u){var d,l,p,f,h,m,_,y,E,w,I,b,M,S,x,F=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=t.__e=n.__e]),(d=le.__b)&&d(t);e:if(typeof F=="function")try{if(y=t.props,E=(d=F.contextType)&&r[d.__c],w=d?E?E.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in F&&F.prototype.render?t.__c=l=new F(y,w):(t.__c=l=new wo(y,w),l.constructor=F,l.render=WE),E&&E.sub(l),l.props=y,l.state||(l.state={}),l.context=w,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),F.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ft({},l.__s)),Ft(l.__s,F.getDerivedStateFromProps(y,l.__s))),f=l.props,h=l.state,l.__v=t,p)F.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(F.getDerivedStateFromProps==null&&y!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,w),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,w)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(v){v&&(v.__=t)}),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,w),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,h,m)})}if(l.context=w,l.props=y,l.__P=e,l.__e=!1,b=le.__r,M=0,"prototype"in F&&F.prototype.render){for(l.state=l.__s,l.__d=!1,b&&b(t),d=l.render(l.props,l.state,l.context),S=0;S<l._sb.length;S++)l.__h.push(l._sb[S]);l._sb=[]}else do l.__d=!1,b&&b(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++M<25);l.state=l.__s,l.getChildContext!=null&&(r=Ft(Ft({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(f,h)),qf(e,Va(x=d!=null&&d.type===Lr&&d.key==null?d.props.children:d)?x:[x],t,n,r,o,s,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),_&&(l.__E=l.__=null)}catch(v){t.__v=null,c||s!=null?(t.__e=a,t.__u|=c?160:32,s[s.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),le.__e(v,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=HE(n.__e,t,n,r,o,s,i,c,u);(d=le.diffed)&&d(t)}function Ui(e,t,n){for(var r=0;r<n.length;r++)Ja(n[r],n[++r],n[++r]);le.__c&&le.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(s){s.call(o)})}catch(s){le.__e(s,o.__v)}})}function HE(e,t,n,r,o,s,i,a,c){var u,d,l,p,f,h,m,_=n.props,y=t.props,E=t.type;if(E==="svg"&&(o=!0),s!=null){for(u=0;u<s.length;u++)if((f=s[u])&&"setAttribute"in f==!!E&&(E?f.localName===E:f.nodeType===3)){e=f,s[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,y.is&&y),s=null,a=!1}if(E===null)_===y||a&&e.data===y||(e.data=y);else{if(s=s&&Cs.call(e.childNodes),_=n.props||br,!a&&s!=null)for(_={},u=0;u<e.attributes.length;u++)_[(f=e.attributes[u]).name]=f.value;for(u in _)f=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=f:u==="key"||u in y||no(e,u,null,f,o));for(u in y)f=y[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?h=f:u=="checked"?m=f:u==="key"||a&&typeof f!="function"||_[u]===f||no(e,u,f,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),qf(e,Va(p)?p:[p],t,n,r,o&&E!=="foreignObject",s,i,s?s[0]:n.__k&&zn(n,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&jf(s[u]);a||(u="value",h!==void 0&&(h!==e[u]||E==="progress"&&!h||E==="option"&&h!==_[u])&&no(e,u,h,_[u],!1),u="checked",m!==void 0&&m!==e[u]&&no(e,u,m,_[u],!1))}return e}function Ja(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){le.__e(r,n)}}function Hi(e,t,n){var r,o;if(le.unmount&&le.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ja(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){le.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Hi(r[o],t,n||typeof e.type!="function");n||e.__e==null||jf(e.__e),e.__=e.__e=e.__d=void 0}function WE(e,t,n){return this.constructor(e,n)}function jE(e,t,n){var r,o,s,i;le.__&&le.__(e,t),o=(r=!1)?null:t.__k,s=[],i=[],Ya(t,e=t.__k=V(Lr,null,[e]),o||br,br,t.ownerSVGElement!==void 0,o?null:t.firstChild?Cs.call(t.childNodes):null,s,o?o.__e:t.firstChild,r,i),e.__d=void 0,Ui(s,e,i)}Cs=Ga.slice,le={__e:function(e,t,n,r){for(var o,s,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(a){e=a}throw e}},Hf=0,wo.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ft({},this.state),typeof e=="function"&&(e=e(Ft({},n),this.props)),e&&Ft(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Wu(this))},wo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Wu(this))},wo.prototype.render=Lr,nn=[],Wf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bi=function(e,t){return e.__v.__b-t.__v.__b},Jo.__r=0;var At,ue,ti,Gu,qn=0,Vf=[],ko=[],ge=le,Vu=ge.__b,Yu=ge.__r,Ju=ge.diffed,Ku=ge.__c,Xu=ge.unmount,Qu=ge.__;function vn(e,t){ge.__h&&ge.__h(ue,e,qn||t),qn=0;var n=ue.__H||(ue.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ko}),n.__[e]}function rn(e){return qn=1,Yf(Kf,e)}function Yf(e,t,n){var r=vn(At++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Kf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ue,!ue.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!s||s.call(this,a,c,u);var l=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!s||s.call(this,a,c,u))};ue.u=!0;var s=ue.shouldComponentUpdate,i=ue.componentWillUpdate;ue.componentWillUpdate=function(a,c,u){if(this.__e){var d=s;s=void 0,o(a,c,u),s=d}i&&i.call(this,a,c,u)},ue.shouldComponentUpdate=o}return r.__N||r.__}function zE(e,t){var n=vn(At++,3);!ge.__s&&Ka(n.__H,t)&&(n.__=e,n.i=t,ue.__H.__h.push(n))}function Jf(e,t){var n=vn(At++,4);!ge.__s&&Ka(n.__H,t)&&(n.__=e,n.i=t,ue.__h.push(n))}function qE(e){return qn=5,Dr(function(){return{current:e}},[])}function GE(e,t,n){qn=6,Jf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Dr(e,t){var n=vn(At++,7);return Ka(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Dn(e,t){return qn=8,Dr(function(){return e},t)}function VE(e){var t=ue.context[e.__c],n=vn(At++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ue)),t.props.value):e.__}function YE(e,t){ge.useDebugValue&&ge.useDebugValue(t?t(e):e)}function JE(e){var t=vn(At++,10),n=rn();return t.__=e,ue.componentDidCatch||(ue.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function KE(){var e=vn(At++,11);if(!e.__){for(var t=ue.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function XE(){for(var e;e=Vf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ro),e.__H.__h.forEach(Wi),e.__H.__h=[]}catch(t){e.__H.__h=[],ge.__e(t,e.__v)}}ge.__b=function(e){ue=null,Vu&&Vu(e)},ge.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Qu&&Qu(e,t)},ge.__r=function(e){Yu&&Yu(e),At=0;var t=(ue=e.__c).__H;t&&(ti===ue?(t.__h=[],ue.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ko,n.__N=n.i=void 0})):(t.__h.forEach(Ro),t.__h.forEach(Wi),t.__h=[],At=0)),ti=ue},ge.diffed=function(e){Ju&&Ju(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Vf.push(t)!==1&&Gu===ge.requestAnimationFrame||((Gu=ge.requestAnimationFrame)||QE)(XE)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ko&&(n.__=n.__V),n.i=void 0,n.__V=ko})),ti=ue=null},ge.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ro),n.__h=n.__h.filter(function(r){return!r.__||Wi(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ge.__e(r,n.__v)}}),Ku&&Ku(e,t)},ge.unmount=function(e){Xu&&Xu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ro(r)}catch(o){t=o}}),n.__H=void 0,t&&ge.__e(t,n.__v))};var Zu=typeof requestAnimationFrame=="function";function QE(e){var t,n=function(){clearTimeout(r),Zu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Zu&&(t=requestAnimationFrame(n))}function Ro(e){var t=ue,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ue=t}function Wi(e){var t=ue;e.__c=e.__(),ue=t}function Ka(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Kf(e,t){return typeof t=="function"?t(e):t}const ZE=Object.defineProperty({__proto__:null,useCallback:Dn,useContext:VE,useDebugValue:YE,useEffect:zE,useErrorBoundary:JE,useId:KE,useImperativeHandle:GE,useLayoutEffect:Jf,useMemo:Dr,useReducer:Yf,useRef:qE,useState:rn},Symbol.toStringTag,{value:"Module"}),ev="http://www.w3.org/2000/svg";function tv(){const e=r=>ce.createElementNS(ev,r),t=qe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=qe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function nv({options:e}){const t=Dr(()=>({__html:tv().outerHTML}),[]);return V("h2",{class:"dialog__header"},V("span",{class:"dialog__title"},e.formTitle),e.showBranding?V("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function rv(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function ni(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function ov({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:s,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:h,emailPlaceholder:m,isEmailRequired:_,isNameRequired:y,messageLabel:E,messagePlaceholder:w,nameLabel:I,namePlaceholder:b,submitButtonLabel:M,isRequiredLabel:S}=e,[x,F]=rn(!1),[v,P]=rn(null),[k,A]=rn(!1),H=u?.input,[X,J]=rn(null),re=Dn(R=>{J(R),A(!1)},[]),T=Dn(R=>{const K=rv(R,{emailLabel:h,isEmailRequired:_,isNameRequired:y,messageLabel:E,nameLabel:I});return K.length>0?P(`Please enter in the following required fields: ${K.join(", ")}`):P(null),K.length===0},[h,_,y,E,I]),q=Dn(async R=>{F(!0);try{if(R.preventDefault(),!(R.target instanceof HTMLFormElement))return;const K=new FormData(R.target),ie=await(u&&k?u.value():void 0),te={name:ni(K,"name"),email:ni(K,"email"),message:ni(K,"message"),attachments:ie?[ie]:void 0};if(!T(te))return;try{const Ee=await o({name:te.name,email:te.email,message:te.message,source:kE,tags:d},{attachments:te.attachments});s(te,Ee)}catch(Ee){To&&g.error(Ee),P(Ee),i(Ee)}}finally{F(!1)}},[u&&k,s,i]);return V("form",{class:"form",onSubmit:q},H&&k?V(H,{onError:re}):null,V("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:x},V("div",{class:"form__top"},v?V("div",{class:"form__error-container"},v):null,c?V("label",{for:"name",class:"form__label"},V(ri,{label:I,isRequiredLabel:S,isRequired:y}),V("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:b,required:y,type:"text"})):V("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?V("label",{for:"email",class:"form__label"},V(ri,{label:h,isRequiredLabel:S,isRequired:_}),V("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:_,type:"email"})):V("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),V("label",{for:"message",class:"form__label"},V(ri,{label:E,isRequiredLabel:S,isRequired:!0}),V("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:w,required:!0,rows:5})),H?V("label",{for:"screenshot",class:"form__label"},V("button",{class:"btn btn--default",disabled:x,type:"button",onClick:()=>{J(null),A(R=>!R)}},k?p:l),X?V("div",{class:"form__error-container"},X.message):null):null),V("div",{class:"btn-group"},V("button",{class:"btn btn--primary",disabled:x,type:"submit"},M),V("button",{class:"btn btn--default",disabled:x,type:"button",onClick:r},f))))}function ri({label:e,isRequired:t,isRequiredLabel:n}){return V("span",{class:"form__label__text"},e,t&&V("span",{class:"form__label__text--required"},n))}const ro=16,el=17,sv="http://www.w3.org/2000/svg";function iv(){const e=c=>et.document.createElementNS(sv,c),t=qe(e("svg"),{width:`${ro}`,height:`${el}`,viewBox:`0 0 ${ro} ${el}`,fill:"inherit"}),n=qe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=qe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=qe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const s=e("defs"),i=qe(e("clipPath"),{id:"clip0_57_156"}),a=qe(e("rect"),{width:`${ro}`,height:`${ro}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(a),t}function av({open:e,onFormSubmitted:t,...n}){const r=n.options,o=Dr(()=>({__html:iv().outerHTML}),[]),[s,i]=rn(null),a=Dn(()=>{s&&(clearTimeout(s),i(null)),t()},[s]),c=Dn((u,d)=>{n.onSubmitSuccess(u,d),i(setTimeout(()=>{t(),i(null)},CE))},[t]);return V(Lr,null,s?V("div",{class:"success__position",onClick:a},V("div",{class:"success__content"},r.successMessageText,V("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):V("dialog",{class:"dialog",onClick:r.onFormClose,open:e},V("div",{class:"dialog__position"},V("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},V(nv,{options:r}),V(ov,{...n,onSubmitSuccess:c})))))}const cv=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,uv=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,lv=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,dv=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,fv=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function pv(e){const t=ce.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${cv}
${uv}
${lv}
${dv}
${fv}
`,e&&t.setAttribute("nonce",e),t}function hv(){const e=j().getUser(),t=we().getUser(),n=fn().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const mv=(()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const o=r,s=e.useSentryUser,i=hv(),a=ce.createElement("div"),c=pv(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),ce.body.style.overflow=u},open(){p(!0),e.onFormOpen?.(),O()?.emit("openFeedbackWidget"),u=ce.body.style.overflow,ce.body.style.overflow="hidden"},close(){p(!1),ce.body.style.overflow=u}},l=t?.createInput({h:V,hooks:ZE,dialog:d,options:e}),p=f=>{jE(V(av,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:s&&i?.[s.name]||"",defaultEmail:s&&i?.[s.email]||"",onFormClose:()=>{p(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(h,m)=>{p(!1),e.onSubmitSuccess?.(h,m)},onSubmitError:h=>{e.onSubmitError?.(h)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:f}),a)};return d}}));function gv({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function _v(e){const t=ce.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function yv({h:e}){return function({action:n,setAction:r,options:o}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},o.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},o.hideToolText)))}}function Sv({hooks:e}){function t(){const[n,r]=e.useState(et.devicePixelRatio??1);return e.useEffect(()=>{const o=()=>{r(et.devicePixelRatio)},s=matchMedia(`(resolution: ${et.devicePixelRatio}dppx)`);return s.addEventListener("change",o),()=>{s.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:s,onError:i}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await fr.mediaDevices.getDisplayMedia({video:{width:et.innerWidth*a,height:et.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=ce.createElement("video");await new Promise((l,p)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(f=>f.stop()),l()},d.play().catch(p)}),s()})().catch(i)},[])}}function bv(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Lt(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function oi(e,t){Lt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function si(e,t,n){Lt(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(s=>{bv(s,o,t)})})}function Ev({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){const s=Sv({hooks:t}),i=yv({h:e}),a=gv({h:e}),c={__html:_v(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[p,f]=t.useState("highlight"),[h,m]=t.useState([]),_=t.useRef(null),y=t.useRef(null),E=t.useRef(null),w=t.useRef(null),[I,b]=t.useState(1),M=t.useMemo(()=>{const k=ce.getElementById(o.id);if(!k)return"white";const A=getComputedStyle(k);return A.getPropertyValue("--button-primary-background")||A.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{const k=()=>{const A=_.current;A&&(Lt(l.canvas,{alpha:!1},H=>{const X=Math.min(A.clientWidth/H.width,A.clientHeight/H.height);b(X)}),(A.clientHeight===0||A.clientWidth===0)&&setTimeout(k,0))};return k(),et.addEventListener("resize",k),()=>{et.removeEventListener("resize",k)}},[l]);const S=t.useCallback((k,A)=>{Lt(k,{alpha:!0},(H,X)=>{X.scale(A,A),H.width=l.canvas.width,H.height=l.canvas.height})},[l]);t.useEffect(()=>{S(y.current,l.dpi),oi(y.current,l.canvas)},[l]),t.useEffect(()=>{S(E.current,l.dpi),Lt(E.current,{alpha:!0},(k,A)=>{A.clearRect(0,0,k.width,k.height)}),si(E.current,M,h)},[h,M]),t.useEffect(()=>{S(n,l.dpi),oi(n,l.canvas),Lt(ce.createElement("canvas"),{alpha:!0},(k,A)=>{A.scale(l.dpi,l.dpi),k.width=l.canvas.width,k.height=l.canvas.height,si(k,M,h),oi(n,k)})},[h,l,M]);const x=k=>{if(!p||!w.current)return;const A=w.current.getBoundingClientRect(),H={type:p,x:k.offsetX/I,y:k.offsetY/I},X=(T,q)=>{const R=(q.clientX-A.x)/I,K=(q.clientY-A.y)/I;return{type:T.type,x:Math.min(T.x,R),y:Math.min(T.y,K),w:Math.abs(R-T.x),h:Math.abs(K-T.y)}},J=T=>{Lt(E.current,{alpha:!0},(q,R)=>{R.clearRect(0,0,q.width,q.height)}),si(E.current,M,[...h,X(H,T)])},re=T=>{const q=X(H,T);q.w*I>=1&&q.h*I>=1&&m(R=>[...R,q]),ce.removeEventListener("mousemove",J),ce.removeEventListener("mouseup",re)};ce.addEventListener("mousemove",J),ce.addEventListener("mouseup",re)},F=t.useCallback(k=>A=>{A.preventDefault(),A.stopPropagation(),m(H=>{const X=[...H];return X.splice(k,1),X})},[]),v={width:`${l.canvas.width*I}px`,height:`${l.canvas.height*I}px`},P=k=>{k.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:y,id:"background",style:v}),e("canvas",{ref:E,id:"foreground",style:v}),e("div",{ref:w,onMouseDown:x,style:v},h.map((k,A)=>e("div",{key:A,class:"editor__rect",style:{top:`${k.y*I}px`,left:`${k.x*I}px`,width:`${k.w*I}px`,height:`${k.h*I}px`}},e("button",{"aria-label":o.removeHighlightText,onClick:F(A),onMouseDown:P,onMouseUp:P,type:"button"},e(a,null))))))),e(i,{options:o,action:p,setAction:f}))};return function({onError:p}){const[f,h]=t.useState();return s({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((m,_)=>{Lt(ce.createElement("canvas"),{alpha:!1},(y,E)=>{E.scale(_,_),y.width=m.videoWidth,y.height=m.videoHeight,E.drawImage(m,0,0,y.width,y.height),h({canvas:y,dpi:_})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(m=>{u.display="block",p(m)},[])}),f?e(d,{screenshot:f}):e("div",null)}}const vv=(()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const o=ce.createElement("canvas");return{input:Ev({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{const s=await new Promise(i=>{o.toBlob(i,"image/png")});if(s)return{data:new Uint8Array(await s.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}})),L=$;let ji=0;function Xf(){return ji>0}function Tv(){ji++,setTimeout(()=>{ji--})}function Gn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{const o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(pa(e))return e}catch{return e}const r=function(...o){try{const s=o.map(i=>Gn(i,t));return e.apply(this,s)}catch(s){throw Tv(),Ge(i=>{i.addEventProcessor(a=>(t.mechanism&&(Ii(a,void 0),kt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),Ce(s)}),s}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}_d(r,e),Re(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Xa(){const e=bn(),{referrer:t}=L.document||{},{userAgent:n}=L.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}const Iv={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata",instrumentAnthropicAiClient:"instrumentanthropicaiclient",instrumentOpenAiClient:"instrumentopenaiclient",instrumentGoogleGenAIClient:"instrumentgooglegenaiclient"},tl=L;async function wv(e,t){const n=Iv[e],r=tl.Sentry=tl.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;const s=kv(n),i=L.document.createElement("script");i.src=s,i.crossOrigin="anonymous",i.referrerPolicy="strict-origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,p)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",p)}),c=L.document.currentScript,u=L.document.body||L.document.head||c?.parentElement;if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function kv(e){const n=O()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Bt}/${e}.min.js`,n).toString()}const HA=Uf({lazyLoadIntegration:wv}),WA=Uf({getModalIntegration:()=>mv,getScreenshotIntegration:()=>vv});function Qa(e,t){const n=Za(e,t),r={type:Mv(t),value:Nv(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Rv(e,t,n,r){const s=O()?.getOptions().normalizeDepth,i=$v(t),a={__serialized__:Hd(t,s)};if(i)return{exception:{values:[Qa(e,i)]},extra:a};const c={exception:{values:[{type:ms(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Lv(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Za(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function ii(e,t){return{exception:{values:[Qa(e,t)]}}}function Za(e,t){const n=t.stacktrace||t.stack||"",r=Av(t),o=xv(t);try{return e(n,r,o)}catch{}return[]}const Cv=/Minified React error #\d+;/i;function Av(e){return e&&Cv.test(e.message)?1:0}function xv(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Qf(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Mv(e){const t=e?.name;return!t&&Qf(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Nv(e){const t=e?.message;return Qf(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Ov(e,t,n,r){const o=n?.syntheticException||void 0,s=As(e,t,o,r);return kt(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),Es(s)}function Pv(e,t,n="info",r,o){const s=r?.syntheticException||void 0,i=zi(e,t,s,o);return i.level=n,r?.event_id&&(i.event_id=r.event_id),Es(i)}function As(e,t,n,r,o){let s;if(pd(t)&&t.error)return ii(e,t.error);if(Lc(t)||fm(t)){const i=t;if("stack"in t)s=ii(e,t);else{const a=i.name||(Lc(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;s=zi(e,c,n,r),Ii(s,c)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}return Et(t)?ii(e,t):dt(t)||ms(t)?(s=Rv(e,t,n,o),kt(s,{synthetic:!0}),s):(s=zi(e,t,n,r),Ii(s,`${t}`),kt(s,{synthetic:!0}),s)}function zi(e,t,n,r){const o={};if(r&&n){const s=Za(e,n);s.length&&(o.exception={values:[{value:t,stacktrace:{frames:s}}]}),kt(o,{synthetic:!0})}if(hs(t)){const{__sentry_template_string__:s,__sentry_template_values__:i}=t;return o.logentry={message:s,params:i},o}return o.message=t,o}function Lv(e,{isUnhandledRejection:t}){const n=ym(e),r=t?"promise rejection":"exception";return pd(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ms(e)?`Event \`${Dv(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Dv(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function $v(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class Fv extends L_{constructor(t){const n=Bv(t),r=L.SENTRY_SDK_SOURCE||iE();gf(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:o,sendClientReports:s,enableLogs:i,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;L.document&&(s||i||u)&&L.document.addEventListener("visibilitychange",()=>{L.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),i&&wa(this),u&&Ra(this))}),o&&this.on("beforeSendSession",ny)}eventFromException(t,n){return Ov(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Pv(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}}function Bv(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:L.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const _n=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,z=$,Uv=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",$r=(e,t,n,r)=>{let o,s;return i=>{t.value>=0&&(i||r)&&(s=t.value-(o??0),(s||o===void 0)&&(o=t.value,t.delta=s,t.rating=Uv(t.value,n),e(t)))}},Hv=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Fr=(e=!0)=>{const t=z.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},ir=()=>Fr()?.activationStart??0,Br=(e,t=-1)=>{const n=Fr();let r="navigate";return n&&(z.document?.prerendering||ir()>0?r="prerender":z.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Hv(),navigationType:r}},ai=new WeakMap;function ec(e,t){return ai.get(e)||ai.set(e,new t),ai.get(e)}class Ko{constructor(){Ko.prototype.__init.call(this),Ko.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const ar=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},tc=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let pr=-1;const Wv=()=>z.document?.visibilityState==="hidden"&&!z.document?.prerendering?0:1/0,Xo=e=>{z.document.visibilityState==="hidden"&&pr>-1&&(pr=e.type==="visibilitychange"?e.timeStamp:0,zv())},jv=()=>{addEventListener("visibilitychange",Xo,!0),addEventListener("prerenderingchange",Xo,!0)},zv=()=>{removeEventListener("visibilitychange",Xo,!0),removeEventListener("prerenderingchange",Xo,!0)},nc=()=>{if(z.document&&pr<0){const e=ir();pr=(z.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??Wv(),jv()}return{get firstHiddenTime(){return pr}}},xs=e=>{z.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},qv=[1800,3e3],Gv=(e,t={})=>{xs(()=>{const n=nc(),r=Br("FCP");let o;const i=ar("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-ir(),0),r.entries.push(c),o(!0)))});i&&(o=$r(e,r,qv,t.reportAllChanges))})},Vv=[.1,.25],Yv=(e,t={})=>{Gv(tc(()=>{const n=Br("CLS",0);let r;const o=ec(t,Ko),s=a=>{for(const c of a)o._processEntry(c);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},i=ar("layout-shift",s);i&&(r=$r(e,n,Vv,t.reportAllChanges),z.document?.addEventListener("visibilitychange",()=>{z.document?.visibilityState==="hidden"&&(s(i.takeRecords()),r(!0))}),z?.setTimeout?.(r))}))};let Zf=0,ci=1/0,oo=0;const Jv=e=>{e.forEach(t=>{t.interactionId&&(ci=Math.min(ci,t.interactionId),oo=Math.max(oo,t.interactionId),Zf=oo?(oo-ci)/7+1:0)})};let qi;const ep=()=>qi?Zf:performance.interactionCount||0,Kv=()=>{"interactionCount"in performance||qi||(qi=ar("event",Jv,{type:"event",buffered:!0,durationThreshold:0}))},ui=10;let tp=0;const Xv=()=>ep()-tp;class Qo{constructor(){Qo.prototype.__init.call(this),Qo.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){tp=ep(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(Xv()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<ui||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,s)=>s._latency-o._latency),this._longestInteractionList.length>ui){const o=this._longestInteractionList.splice(ui);for(const s of o)this._longestInteractionMap.delete(s.id)}this._onAfterProcessingINPCandidate?.(r)}}}const rc=e=>{const t=n=>{(n.type==="pagehide"||z.document?.visibilityState==="hidden")&&e(n)};z.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},np=e=>{const t=z.requestIdleCallback||z.setTimeout;z.document?.visibilityState==="hidden"?e():(e=tc(e),t(e),rc(e))},Qv=[200,500],Zv=40,eT=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&xs(()=>{Kv();const n=Br("INP");let r;const o=ec(t,Qo),s=a=>{np(()=>{for(const u of a)o._processEntry(u);const c=o._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},i=ar("event",s,{durationThreshold:t.durationThreshold??Zv});r=$r(e,n,Qv,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),rc(()=>{s(i.takeRecords()),r(!0)}))})};class tT{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const nT=[2500,4e3],rT=(e,t={})=>{xs(()=>{const n=nc(),r=Br("LCP");let o;const s=ec(t,tT),i=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)s._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-ir(),0),r.entries=[u],o())},a=ar("largest-contentful-paint",i);if(a){o=$r(e,r,nT,t.reportAllChanges);const c=tc(()=>{i(a.takeRecords()),a.disconnect(),o(!0)});for(const u of["keydown","click","visibilitychange"])z.document&&addEventListener(u,()=>np(c),{capture:!0,once:!0})}})},oT=[800,1800],Gi=e=>{z.document?.prerendering?xs(()=>Gi(e)):z.document?.readyState!=="complete"?addEventListener("load",()=>Gi(e),!0):setTimeout(e)},sT=(e,t={})=>{const n=Br("TTFB"),r=$r(e,n,oT,t.reportAllChanges);Gi(()=>{const o=Fr();o&&(n.value=Math.max(o.responseStart-ir(),0),n.entries=[o],r(!0))})},hr={},Zo={};let rp,op,sp,ip;function oc(e,t=!1){return Ms("cls",e,aT,rp,t)}function sc(e,t=!1){return Ms("lcp",e,cT,op,t)}function iT(e){return Ms("ttfb",e,uT,sp)}function ap(e){return Ms("inp",e,lT,ip)}function yn(e,t){return cp(e,t),Zo[e]||(dT(e),Zo[e]=!0),up(e,t)}function Ur(e,t){const n=hr[e];if(n?.length)for(const r of n)try{r(t)}catch(o){_n&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${It(r)}
Error:`,o)}}function aT(){return Yv(e=>{Ur("cls",{metric:e}),rp=e},{reportAllChanges:!0})}function cT(){return rT(e=>{Ur("lcp",{metric:e}),op=e},{reportAllChanges:!0})}function uT(){return sT(e=>{Ur("ttfb",{metric:e}),sp=e})}function lT(){return eT(e=>{Ur("inp",{metric:e}),ip=e})}function Ms(e,t,n,r,o=!1){cp(e,t);let s;return Zo[e]||(s=n(),Zo[e]=!0),r&&t({metric:r}),up(e,t,o?s:void 0)}function dT(e){const t={};e==="event"&&(t.durationThreshold=0),ar(e,n=>{Ur(e,{entries:n})},t)}function cp(e,t){hr[e]=hr[e]||[],hr[e].push(t)}function up(e,t,n){return()=>{n&&n();const r=hr[e];if(!r)return;const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function fT(e){return"duration"in e}function li(e){return typeof e=="number"&&isFinite(e)}function Gt(e,t,n,{...r}){const o=D(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Hn(e,()=>{const s=rt({startTime:t,...r});return s&&s.end(n),s})}function ic(e){const t=O();if(!t)return;const{name:n,transaction:r,attributes:o,startTime:s}=e,{release:i,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=j(),p=l.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const m={release:i,environment:a,user:f||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":z.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return rt({name:n,attributes:m,startTime:s,experimental:{standalone:!0}})}function Hr(){return z.addEventListener&&z.performance}function be(e){return e/1e3}function pT(e){let t="unknown",n="unknown",r="";for(const o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function lp(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function dp(e,t){let n,r=!1;function o(a){!r&&n&&t(a,n),r=!0}rc(()=>{o("pagehide")});const s=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(o("navigation"),s(),i())}),i=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,i()})}function hT(e){let t=0,n;if(!lp("layout-shift"))return;const r=oc(({metric:o})=>{const s=o.entries[o.entries.length-1];s&&(t=o.value,n=s)},!0);dp(e,(o,s)=>{mT(t,n,s,o),r()})}function mT(e,t,n,r){_n&&g.log(`Sending CLS span (${e})`);const o=t?be((Pe()||0)+t.startTime):he(),s=j().getScopeData().transactionName,i=t?He(t.sources[0]?.node):"Layout shift",a={[Y]:"auto.http.browser.cls",[Te]:"ui.webvital.cls",[tr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=He(u.node)});const c=ic({name:i,transaction:s,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Cr]:"",[Ar]:e}),c.end(o))}function gT(e){let t=0,n;if(!lp("largest-contentful-paint"))return;const r=sc(({metric:o})=>{const s=o.entries[o.entries.length-1];s&&(t=o.value,n=s)},!0);dp(e,(o,s)=>{_T(t,n,s,o),r()})}function _T(e,t,n,r){_n&&g.log(`Sending LCP span (${e})`);const o=be((Pe()||0)+(t?.startTime||0)),s=j().getScopeData().transactionName,i=t?He(t.element):"Largest contentful paint",a={[Y]:"auto.http.browser.lcp",[Te]:"ui.webvital.lcp",[tr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=He(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=ic({name:i,transaction:s,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Cr]:"millisecond",[Ar]:e}),c.end(o))}function Ye(e){return e&&((Pe()||performance.timeOrigin)+e)/1e3}function fp(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=pT(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return Pe()||Hr()?.timeOrigin?yT({...t,"http.request.redirect_start":Ye(e.redirectStart),"http.request.redirect_end":Ye(e.redirectEnd),"http.request.worker_start":Ye(e.workerStart),"http.request.fetch_start":Ye(e.fetchStart),"http.request.domain_lookup_start":Ye(e.domainLookupStart),"http.request.domain_lookup_end":Ye(e.domainLookupEnd),"http.request.connect_start":Ye(e.connectStart),"http.request.secure_connection_start":Ye(e.secureConnectionStart),"http.request.connection_end":Ye(e.connectEnd),"http.request.request_start":Ye(e.requestStart),"http.request.response_start":Ye(e.responseStart),"http.request.response_end":Ye(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function yT(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const ST=2147483647;let nl=0,Ze={},Ue,es;function bT({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Hr();if(r&&Pe()){r.mark&&z.performance.mark("sentry-tracing-init");const o=t?gT(n):wT(),s=kT(),i=e?hT(n):IT();return()=>{o?.(),s(),i?.()}}return()=>{}}function ET(){yn("longtask",({entries:e})=>{const t=_e();if(!t)return;const{op:n,start_timestamp:r}=D(t);for(const o of e){const s=be(Pe()+o.startTime),i=be(o.duration);n==="navigation"&&r&&s<r||Gt(t,s,s+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Y]:"auto.ui.browser.metrics"}})}})}function vT(){new PerformanceObserver(t=>{const n=_e();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const o=be(Pe()+r.startTime),{start_timestamp:s,op:i}=D(n);if(i==="navigation"&&s&&o<s)continue;const a=be(r.duration),c={[Y]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),h!==-1&&(c["browser.script.source_char_position"]=h),Gt(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function TT(){yn("event",({entries:e})=>{const t=_e();if(t){for(const n of e)if(n.name==="click"){const r=be(Pe()+n.startTime),o=be(n.duration),s={name:He(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Y]:"auto.ui.browser.metrics"}},i=gd(n.target);i&&(s.attributes["ui.component_name"]=i),Gt(t,r,r+o,s)}}})}function IT(){return oc(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ze.cls={value:e.value,unit:""},es=t)},!0)}function wT(){return sc(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ze.lcp={value:e.value,unit:"millisecond"},Ue=t)},!0)}function kT(){return iT(({metric:e})=>{e.entries[e.entries.length-1]&&(Ze.ttfb={value:e.value,unit:"millisecond"})})}function RT(e,t){const n=Hr(),r=Pe();if(!n?.getEntries||!r)return;const o=be(r),s=n.getEntries(),{op:i,start_timestamp:a}=D(e);s.slice(nl).forEach(c=>{const u=be(c.startTime),d=be(Math.max(0,c.duration));if(!(i==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{MT(e,c,o);break}case"mark":case"paint":case"measure":{AT(e,c,u,d,o,t.ignorePerformanceApiSpans);const l=nc(),p=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&p&&(Ze.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(Ze.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{PT(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),nl=Math.max(s.length-1,0),LT(e),i==="pageload"&&(FT(Ze),t.recordClsOnPageloadSpan||delete Ze.cls,t.recordLcpOnPageloadSpan||delete Ze.lcp,Object.entries(Ze).forEach(([c,u])=>{Cg(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",ir()),DT(e,t)),Ue=void 0,es=void 0,Ze={}}function CT(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function AT(e,t,n,r,o,s){if(CT(t)||["mark","measure"].includes(t.entryType)&&nt(t.name,s))return;const i=Fr(!1),a=be(i?i.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[Y]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),xT(l,t),c<=d&&Gt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function xT(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,o]of Object.entries(n))if(o&&qt(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(qt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function MT(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{so(e,t,r,n)}),so(e,t,"secureConnection",n,"TLS/SSL"),so(e,t,"fetch",n,"cache"),so(e,t,"domainLookup",n,"DNS"),OT(e,t,n)}function so(e,t,n,r,o=n){const s=NT(n),i=t[s],a=t[`${n}Start`];!a||!i||Gt(e,r+be(a),r+be(i),{op:`browser.${o}`,name:t.name,attributes:{[Y]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function NT(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function OT(e,t,n){const r=n+be(t.requestStart),o=n+be(t.responseEnd),s=n+be(t.responseStart);t.responseEnd&&(Gt(e,r,o,{op:"browser.request",name:t.name,attributes:{[Y]:"auto.ui.browser.metrics"}}),Gt(e,s,o,{op:"browser.response",name:t.name,attributes:{[Y]:"auto.ui.browser.metrics"}}))}function PT(e,t,n,r,o,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i?.includes(a))return;const c={[Y]:"auto.resource.browser.metrics"},u=un(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(z.location.origin),$T(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const d={...c,...fp(t)},l=s+r,p=l+o;Gt(e,l,p,{name:n.replace(z.location.origin,""),op:a,attributes:d})}function LT(e){const t=z.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),li(n.rtt)&&(Ze["connection.rtt"]={value:n.rtt,unit:"millisecond"})),li(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),li(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function DT(e,t){Ue&&t.recordLcpOnPageloadSpan&&(Ue.element&&e.setAttribute("lcp.element",He(Ue.element)),Ue.id&&e.setAttribute("lcp.id",Ue.id),Ue.url&&e.setAttribute("lcp.url",Ue.url.trim().slice(0,200)),Ue.loadTime!=null&&e.setAttribute("lcp.loadTime",Ue.loadTime),Ue.renderTime!=null&&e.setAttribute("lcp.renderTime",Ue.renderTime),e.setAttribute("lcp.size",Ue.size)),es?.sources&&t.recordClsOnPageloadSpan&&es.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,He(n.node)))}function $T(e,t,n){n.forEach(([r,o])=>{const s=e[r];s!=null&&(typeof s=="number"&&s<ST||typeof s=="string")&&(t[o]=s)})}function FT(e){const t=Fr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function BT(){return Hr()&&Pe()?yn("element",UT):()=>{}}const UT=({entries:e})=>{const t=_e(),n=t?Se(t):void 0,r=n?D(n).description:j().getScopeData().transactionName;e.forEach(o=>{const s=o;if(!s.identifier)return;const i=s.name,a=s.renderTime,c=s.loadTime,[u,d]=c?[be(c),"load-time"]:a?[be(a),"render-time"]:[he(),"entry-emission"],l=i==="image-paint"?be(Math.max(0,(a??0)-(c??0))):0,p={[Y]:"auto.ui.browser.elementtiming",[Te]:"ui.elementtiming",[pe]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":s.id,"element.type":s.element?.tagName?.toLowerCase()||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":i};nr({name:`element[${s.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+l)})})},HT=1e3;let rl,Vi,Yi;function pp(e){Yt("dom",e),Jt("dom",WT)}function WT(){if(!z.document)return;const e=Je.bind(null,"dom"),t=ol(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const o=z[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(Me(o,"addEventListener",function(s){return function(i,a,c){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const l=ol(e);d.handler=l,s.call(this,i,l,c)}d.refCount++}catch{}return s.call(this,i,a,c)}}),Me(o,"removeEventListener",function(s){return function(i,a,c){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,c),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,c)}}))})}function jT(e){if(e.type!==Vi)return!1;try{if(!e.target||e.target._sentryId!==Yi)return!1}catch{}return!0}function zT(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function ol(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=qT(n);if(zT(n.type,r))return;Re(n,"_sentryCaptured",!0),r&&!r._sentryId&&Re(r,"_sentryId",Ie());const o=n.type==="keypress"?"input":n.type;jT(n)||(e({event:n,name:o,global:t}),Vi=n.type,Yi=r?r._sentryId:void 0),clearTimeout(rl),rl=z.setTimeout(()=>{Yi=void 0,Vi=void 0},HT)}}function qT(e){try{return e.target}catch{return null}}let io;function Ns(e){const t="history";Yt(t,e),Jt(t,GT)}function GT(){if(z.addEventListener("popstate",()=>{const t=z.location.href,n=io;if(io=t,n===t)return;Je("history",{from:n,to:t})}),!Xb())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const o=io,s=VT(String(r));if(io=s,o===s)return t.apply(this,n);Je("history",{from:o,to:s})}return t.apply(this,n)}}Me(z.history,"pushState",e),Me(z.history,"replaceState",e)}function VT(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}const Co={};function ac(e){const t=Co[e];if(t)return t;let n=z[e];if($i(n))return Co[e]=n.bind(z);const r=z.document;if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const s=o.contentWindow;s?.[e]&&(n=s[e]),r.head.removeChild(o)}catch(o){_n&&g.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(Co[e]=n.bind(z))}function YT(e){Co[e]=void 0}function Wr(...e){return ac("setTimeout")(...e)}const bt="__sentry_xhr_v3__";function cc(e){Yt("xhr",e),Jt("xhr",JT)}function JT(){if(!z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const o=new Error,s=he()*1e3,i=tt(r[0])?r[0].toUpperCase():void 0,a=KT(r[1]);if(!i||!a)return t.apply(n,r);n[bt]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[bt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:he()*1e3,startTimestamp:s,xhr:n,virtualError:o};Je("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[p,f]=l,h=d[bt];return h&&tt(p)&&tt(f)&&(h.request_headers[p.toLowerCase()]=f),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const o=n[bt];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);const s={startTimestamp:he()*1e3,xhr:n};return Je("xhr",s),t.apply(n,r)}})}function KT(e){if(tt(e))return e;try{return e.toString()}catch{}}function hp(e){return new URLSearchParams(e).toString()}function ts(e,t=g){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[hp(e)];if(!e)return[void 0]}catch(n){return _n&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return _n&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function uc(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function mp(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return _n&&g.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[o,s]=r.split(": ");return s&&(n[o.toLowerCase()]=s),n},{}):{}}const di=[],Ao=new Map,wn=new Map,XT=60;function QT(){if(Hr()&&Pe()){const t=ZT();return()=>{t()}}return()=>{}}const Ji={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ZT(){return ap(e0)}const e0=({metric:e})=>{if(e.value==null)return;const t=be(e.value);if(t>XT)return;const n=e.entries.find(h=>h.duration===e.value&&Ji[h.name]);if(!n)return;const{interactionId:r}=n,o=Ji[n.name],s=be(Pe()+n.startTime),i=_e(),a=i?Se(i):void 0,c=r!=null?Ao.get(r):void 0,u=c?.span||a,d=u?D(u).description:j().getScopeData().transactionName,l=c?.elementName||He(n.target),p={[Y]:"auto.http.browser.inp",[Te]:`ui.interaction.${o}`,[tr]:n.duration},f=ic({name:l,transaction:d,attributes:p,startTime:s});f&&(f.addEvent("inp",{[Cr]:"millisecond",[Ar]:e.value}),f.end(s+t))};function t0(){const e=Object.keys(Ji);Yo()&&e.forEach(o=>{z.addEventListener(o,t,{capture:!0,passive:!0})});function t(o){const s=o.target;if(!s)return;const i=He(s),a=Math.round(o.timeStamp);if(wn.set(a,i),wn.size>50){const c=wn.keys().next().value;c!==void 0&&wn.delete(c)}}function n(o){const s=Math.round(o.startTime);let i=wn.get(s);if(!i)for(let a=-5;a<=5;a++){const c=wn.get(s+a);if(c){i=c;break}}return i||"<unknown>"}const r=({entries:o})=>{const s=_e(),i=s&&Se(s);o.forEach(a=>{if(!fT(a))return;const c=a.interactionId;if(c==null||Ao.has(c))return;const u=a.target?He(a.target):n(a);if(di.length>10){const d=di.shift();Ao.delete(d)}di.push(c),Ao.set(c,{span:i,elementName:u})})};yn("event",r),yn("first-input",r)}const n0=40;function gp(e,t=ac("fetch")){let n=0,r=0;async function o(s){const i=s.body.length;n+=i,r++;const a={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw YT("fetch"),c}finally{n-=i,r--}}return q_(e,o,uf(e.bufferSize||n0))}const r0=10,o0=20,s0=30,i0=40,a0=50;function Vn(e,t,n,r){const o={filename:e,function:t==="<anonymous>"?pt:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}const c0=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,u0=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,l0=/\((\S*)(?::(\d+))(?::(\d+))\)/,d0=/at (.+?) ?\(data:(.+?),/,f0=e=>{const t=e.match(d0);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=c0.exec(e);if(n){const[,o,s,i]=n;return Vn(o,pt,+s,+i)}const r=u0.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=l0.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,i]=_p(r[1]||pt,r[2]);return Vn(i,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},p0=[s0,f0],h0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,m0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,g0=e=>{const t=h0.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=m0.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],o=t[1]||pt;return[o,r]=_p(o,r),Vn(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},_0=[a0,g0],y0=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,S0=e=>{const t=y0.exec(e);return t?Vn(t[2],t[1]||pt,+t[3],t[4]?+t[4]:void 0):void 0},jA=[i0,S0],b0=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,E0=e=>{const t=b0.exec(e);return t?Vn(t[2],t[3]||pt,+t[1]):void 0},zA=[r0,E0],v0=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,T0=e=>{const t=v0.exec(e);return t?Vn(t[5],t[3]||t[4]||pt,+t[1],+t[2]):void 0},qA=[o0,T0],I0=[p0,_0],w0=ud(...I0),_p=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:pt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function GA(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Mt(r)}},s=k0(e);return it(o,[s])}function k0(e){return[{type:"user_report"},e]}const N=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ao=1024,R0="Breadcrumbs",C0=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:R0,setup(n){t.console&&Ma(N0(n)),t.dom&&pp(M0(n,t.dom)),t.xhr&&cc(O0(n)),t.fetch&&qa(P0(n)),t.history&&Ns(L0(n)),t.sentry&&n.on("beforeSendEvent",x0(n))}}}),A0=C0;function x0(e){return function(n){O()===e&&gt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:tn(n)},{event:n})}}function M0(e,t){return function(r){if(O()!==e)return;let o,s,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>ao&&(N&&g.warn(`\`dom.maxStringLength\` cannot exceed ${ao}, but a value of ${a} was configured. Sentry will use ${ao} instead.`),a=ao),typeof i=="string"&&(i=[i]);try{const u=r.event,d=D0(u)?u.target:u;o=He(d,{keyAttrs:i,maxStringLength:a}),s=gd(d)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${r.name}`,message:o};s&&(c.data={"ui.component_name":s}),gt(c,{event:r.event,name:r.name,global:r.global})}}function N0(e){return function(n){if(O()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Na(n.level),message:Lo(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Lo(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;gt(r,{input:n.args,level:n.level})}}function O0(e){return function(n){if(O()!==e)return;const{startTimestamp:r,endTimestamp:o}=n,s=n.xhr[bt];if(!r||!o||!s)return;const{method:i,url:a,status_code:c,body:u}=s,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},p={category:"xhr",data:d,type:"http",level:Lf(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,l),gt(p,l)}}function P0(e){return function(n){if(O()!==e)return;const{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),gt(a,i)}else{const s=n.response,i={...n.fetchData,status_code:s?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s?.status;const a={input:n.args,response:s,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:i,type:"http",level:Lf(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),gt(c,a)}}}function L0(e){return function(n){if(O()!==e)return;let r=n.from,o=n.to;const s=un(L.location.href);let i=r?un(r):void 0;const a=un(o);i?.path||(i=s),s.protocol===a.protocol&&s.host===a.host&&(o=a.relative),s.protocol===i.protocol&&s.host===i.host&&(r=i.relative),gt({category:"navigation",data:{from:r,to:o}})}}function D0(e){return!!e&&!!e.target}const $0=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],F0="BrowserApiErrors",B0=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:F0,setupOnce(){t.setTimeout&&Me(L,"setTimeout",sl),t.setInterval&&Me(L,"setInterval",sl),t.requestAnimationFrame&&Me(L,"requestAnimationFrame",H0),t.XMLHttpRequest&&"XMLHttpRequest"in L&&Me(XMLHttpRequest.prototype,"send",W0);const n=t.eventTarget;n&&(Array.isArray(n)?n:$0).forEach(o=>j0(o,t))}}}),U0=B0;function sl(e){return function(...t){const n=t[0];return t[0]=Gn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${It(e)}`}}),e.apply(this,t)}}function H0(e){return function(t){return e.apply(this,[Gn(t,{mechanism:{data:{handler:It(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function W0(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&Me(n,o,function(s){const i={mechanism:{data:{handler:It(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},a=pa(s);return a&&(i.mechanism.data.handler=It(a)),Gn(s,i)})}),e.apply(this,t)}}function j0(e,t){const r=L[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Me(r,"addEventListener",function(o){return function(s,i,a){try{z0(i)&&(i.handleEvent=Gn(i.handleEvent,{mechanism:{data:{handler:It(i),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&q0(this,s,i),o.apply(this,[s,Gn(i,{mechanism:{data:{handler:It(i),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),Me(r,"removeEventListener",function(o){return function(s,i,a){try{const c=i.__sentry_wrapped__;c&&o.call(this,s,c,a)}catch{}return o.call(this,s,i,a)}}))}function z0(e){return typeof e.handleEvent=="function"}function q0(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const G0=()=>({name:"BrowserSession",setupOnce(){if(typeof L.document>"u"){N&&g.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}ru({ignoreDuration:!0}),ou(),Ns(({from:e,to:t})=>{e!==void 0&&e!==t&&(ru({ignoreDuration:!0}),ou())})}}),V0="GlobalHandlers",Y0=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:V0,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(K0(n),il("onerror")),t.onunhandledrejection&&(X0(n),il("onunhandledrejection"))}}}),J0=Y0;function K0(e){ld(t=>{const{stackParser:n,attachStacktrace:r}=bp();if(O()!==e||Xf())return;const{msg:o,url:s,line:i,column:a,error:c}=t,u=Q0(As(n,c||o,void 0,r,!1),s,i,a);u.level="error",Mr(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function X0(e){dd(t=>{const{stackParser:n,attachStacktrace:r}=bp();if(O()!==e||Xf())return;const o=yp(t),s=qt(o)?Sp(o):As(n,o,void 0,r,!0);s.level="error",Mr(s,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function yp(e){if(qt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Sp(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Q0(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=Z0(t)??bn();return c.length===0&&c.push({colno:u,filename:l,function:pt,in_app:!0,lineno:d}),e}function il(e){N&&g.log(`Global Handler attached: ${e}`)}function bp(){return O()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function Z0(e){if(!(!tt(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const eI=()=>({name:"HttpContext",preprocessEvent(e){if(!L.navigator&&!L.location&&!L.document)return;const t=Xa(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),tI="cause",nI=5,rI="LinkedErrors",oI=((e={})=>{const t=e.limit||nI,n=e.key||tI;return{name:rI,preprocessEvent(r,o,s){const i=s.getOptions();Ey(Qa,i.stackParser,n,t,r,o)}}}),sI=oI,iI="SpotlightBrowser",aI=((e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:iI,setup:()=>{N&&g.log("Using Sidecar URL",t)},processEvent:n=>uI(n)?null:n,afterAllSetup:n=>{cI(n,t)}}});function cI(e,t){const n=ac("fetch");let r=0;e.on("beforeEnvelope",o=>{if(r>3){g.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Uo(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(s=>{s.status>=200&&s.status<400&&(r=0)},s=>{r++,g.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",s)})})}const VA=aI;function uI(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}function lI(){return dI()?(N&&Vt(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function dI(){if(typeof L.window>"u")return!1;const e=L;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=bn(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(L===L.top&&r.some(s=>n.startsWith(`${s}://`)))}function fI(e){return[py(),uy(),U0(),A0(),J0(),sI(),xy(),eI(),G0()]}function pI(e={}){const t=!e.skipBrowserExtensionCheck&&lI();let n=e.defaultIntegrations==null?fI():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:cm(e.stackParser||w0),integrations:p_({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||gp};return U_(Fv,r)}function YA(){}function JA(e){e()}function al(e={}){const t=L.document,n=t?.head||t?.body;if(!n){N&&g.error("[showReportDialog] Global document not defined");return}const r=j(),s=O()?.getDsn();if(!s){N&&g.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||s_()},a=L.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=d_(s,i);const{onLoad:c,onClose:u}=i;if(c&&(a.onload=c),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{L.removeEventListener("message",d)}};L.addEventListener("message",d)}n.appendChild(a)}const hI=$,mI="ReportingObserver",cl=new WeakMap,gI=((e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(cl.has(O()))for(const o of r)Ge(s=>{s.setExtra("url",o.url);const i=`ReportingObserver [${o.type}]`;let a="No details available";if(o.body){const c={};for(const u in o.body)c[u]=o.body[u];if(s.setExtra("body",c),o.type==="crash"){const u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}Mi(`${i}: ${a}`)})}return{name:mI,setupOnce(){if(!Zb())return;new hI.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){cl.set(r,!0)}}}),KA=gI,_I="HttpClient",yI=((e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:_I,setup(n){kI(n,t),RI(n,t)}}}),XA=yI;function SI(e,t,n,r,o){if(vp(e,n.status,n.url)){const s=CI(t,r);let i,a,c,u;Ip()&&([i,c]=ul("Cookie",s),[a,u]=ul("Set-Cookie",n));const d=Tp({url:s.url,method:s.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:o,type:"fetch"});Mr(d)}}function ul(e,t){const n=vI(t.headers);let r;try{const o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=Ep(o))}catch{}return[n,r]}function bI(e,t,n,r,o){if(vp(e,t.status,t.responseURL)){let s,i,a;if(Ip()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=Ep(u))}catch{}try{a=TI(t)}catch{}s=r}const c=Tp({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:a,responseCookies:i,error:o,type:"xhr"});Mr(c)}}function EI(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Ep(e){return e.split("; ").reduce((t,n)=>{const[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function vI(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function TI(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[o,s]=r.split(": ");return o&&s&&(n[o]=s),n},{}):{}}function II(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function wI(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function kI(e,t){Df()&&qa(n=>{if(O()!==e)return;const{response:r,args:o,error:s,virtualError:i}=n,[a,c]=o;r&&SI(t,a,r,c,s||i)},!1)}function RI(e,t){"XMLHttpRequest"in $&&cc(n=>{if(O()!==e)return;const{error:r,virtualError:o}=n,s=n.xhr,i=s[bt];if(!i)return;const{method:a,request_headers:c}=i;try{bI(t,s,a,c,r||o)}catch(u){N&&g.warn("Error while extracting response event form XHR response",u)}})}function vp(e,t,n){return wI(e.failedRequestStatusCodes,t)&&II(e.failedRequestTargets,n)&&!mf(n,O())}function Tp(e){const t=O(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,s={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:EI(e.responseHeaders)}}};return kt(s,{type:`auto.http.client.${e.type}`,handled:!1}),s}function CI(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Ip(){const e=O();return e?!!e.getOptions().sendDefaultPii:!1}const fi=$,AI=7,xI="ContextLines",MI=((e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:AI;return{name:xI,processEvent(n){return NI(n,t)}}}),QA=MI;function NI(e,t){const n=fi.document,r=fi.location&&hf(fi.location.href);if(!n||!r)return e;const o=e.exception?.values;if(!o?.length)return e;const s=n.documentElement.innerHTML;if(!s)return e;const i=["<!DOCTYPE html>","<html>",...s.split(`
`),"</html>"];return o.forEach(a=>{const c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>OI(u,i,r,t)))}),e}function OI(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Em(t,e,r),e}const PI="GraphQLClient",LI=(e=>({name:PI,setup(t){DI(t,e),$I(t,e)}}));function DI(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const s=D(n).data||{};if(!(s[Te]==="http.client"))return;const c=s[Dm]||s["http.url"],u=s[Lm]||s["http.method"];if(!tt(c)||!tt(u))return;const{endpoints:d}=t,l=nt(c,d),p=kp(r);if(l&&p){const f=Rp(p);if(f){const h=wp(f);n.updateName(`${u} ${c} (${h})`),n.setAttribute("graphql.document",p)}}})}function $I(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:o,type:s,data:i}=n;if(s==="http"&&(o==="fetch"||o==="xhr")){const d=i?.url,{endpoints:l}=t,p=nt(d,l),f=kp(r);if(p&&i&&f){const h=Rp(f);if(!i.graphql&&h){const m=wp(h);i["graphql.document"]=h.query,i["graphql.operation"]=m}}}})}function wp(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=FI(t);return r?`${o} ${r}`:`${o}`}function kp(e){const t="xhr"in e;let n;if(t){const r=e.xhr[bt];n=r&&ts(r.body)[0]}else{const r=uc(e.input);n=ts(r)[0]}return n}function FI(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Rp(e){let t;try{const n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}const ZA=LI,fe=$,lc="sentryReplaySession",BI="replay_event",dc="Unable to send Replay",UI=3e5,HI=9e5,WI=5e3,jI=5500,zI=6e4,qI=5e3,GI=3,ll=15e4,co=5e3,VI=3e3,YI=300,fc=2e7,JI=4999,KI=15e3,dl=36e5;var XI=Object.defineProperty,QI=(e,t,n)=>t in e?XI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fl=(e,t,n)=>QI(e,typeof t!="symbol"?t+"":t,n),ve=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ve||{});function ZI(e){return e.nodeType===e.ELEMENT_NODE}function mr(e){return e?.host?.shadowRoot===e}function gr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function ew(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function tw(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ns(e){try{const t=e.rules||e.cssRules;return t?ew(Array.from(t,Cp).join("")):null}catch{return null}}function nw(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,o=r[n],s=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function Cp(e){let t;if(ow(e))try{t=ns(e.styleSheet)||tw(e)}catch{}else if(sw(e)){let n=e.cssText;const r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=nw(e)),r&&(n=rw(n)),r||o)return n}return t||e.cssText}function rw(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function ow(e){return"styleSheet"in e}function sw(e){return"selectorText"in e}let Ap=class{constructor(){fl(this,"idNodeMap",new Map),fl(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function iw(){return new Ap}function Os({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Er({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Yn(e){return e.toLowerCase()}function Ki(e){return e.toUpperCase()}const pl="__rrweb_original__";function aw(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){const s=t.getImageData,i=pl in s?s[pl]:s;if(new Uint32Array(i.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function pc(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Yn(t):null}function rs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function xp(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}const hl={};function Mp(e){const t=hl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const s=o.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(o)}catch{}return hl[e]=r.bind(window)}function Xi(...e){return Mp("setTimeout")(...e)}function Np(...e){return Mp("clearTimeout")(...e)}function Op(e){try{return e.contentDocument}catch{}}let cw=1;const uw=new RegExp("[^a-z0-9-_:]"),vr=-2;function hc(){return cw++}function lw(e){if(e instanceof HTMLFormElement)return"form";const t=Yn(e.tagName);return uw.test(t)?"div":t}function dw(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let kn,ml;const fw=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,pw=/^(?:[a-z+]+:)?\/\//i,hw=/^www\..*/i,mw=/^(data:)([^,]*),(.*)/i;function gw(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let o of n){if(o=o.trim(),!o)continue;const s=o.indexOf(":");if(s===-1){r.push(o);continue}const i=o.slice(0,s).trim();t.has(i)||r.push(o)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function os(e,t){return(e||"").replace(fw,(n,r,o,s,i,a)=>{const c=o||i||a,u=r||s||"";if(!c)return n;if(pw.test(c)||hw.test(c))return`url(${u}${c}${u})`;if(mw.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${dw(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const p of l)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${u}${d.join("/")}${u})`})}const _w=/^[^ \t\n\r\u000c]+/,yw=/^[, \t\n\r\u000c]+/;function Sw(e,t){if(t.trim()==="")return t;let n=0;function r(s){let i;const a=s.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const o=[];for(;r(yw),!(n>=t.length);){let s=r(_w);if(s.slice(-1)===",")s=xn(e,s.substring(0,s.length-1)),o.push(s);else{let i="";s=xn(e,s);let a=!1;for(;;){const c=t.charAt(n);if(c===""){o.push((s+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((s+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return o.join(", ")}const gl=new WeakMap;function xn(e,t){return!t||t.trim()===""?t:Ps(e,t)}function bw(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ps(e,t){let n=gl.get(e);if(n||(n=e.createElement("a"),gl.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Pp(e,t,n,r,o,s,i){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return xn(e,r);if(n==="xlink:href"&&r[0]!=="#")return xn(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return xn(e,r);if(n==="srcset")return Sw(e,r);if(n==="style"){let a=os(r,Ps(e));return i&&i.size>0&&(a=gw(a,i)),a}else if(t==="object"&&n==="data")return xn(e,r);return typeof s=="function"?s(n,r,o):r}function Lp(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Ew(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){const s=e.classList[o];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function vw(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function on(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:on(e.parentNode,t,n,r+1)}function Mn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(vw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Jn(e,t,n,r,o,s){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(s){if(c=on(i,Mn(r,o)),c<0)return!0;a=on(i,Mn(t,n),c>=0?c:1/0)}else{if(a=on(i,Mn(t,n)),a<0)return!1;c=on(i,Mn(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch{}return!!s}function Tw(e,t,n){const r=e.contentWindow;if(!r)return;let o=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Xi(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{Np(a),o=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Xi(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Iw(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;const s=Xi(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Np(s),r=!0,t()})}function ww(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:h={},maskTextFn:m,maskInputFn:_,dataURLOptions:y={},inlineImages:E,recordCanvas:w,keepIframeSrcFn:I,newlyAddedElement:b=!1,ignoreCSSAttributes:M}=t,S=kw(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ve.Document,childNodes:[],compatMode:e.compatMode}:{type:ve.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ve.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return Cw(e,{doc:n,blockClass:o,blockSelector:s,unblockSelector:i,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:h,maskInputFn:_,dataURLOptions:y,inlineImages:E,recordCanvas:w,keepIframeSrcFn:I,newlyAddedElement:b,rootId:S,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,ignoreCSSAttributes:M});case e.TEXT_NODE:return Rw(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:h,maskInputFn:_,rootId:S});case e.CDATA_SECTION_NODE:return{type:ve.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:ve.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function kw(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Rw(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const f=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(p=ns(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}p=os(p,Ps(t.doc))}h&&(p="SCRIPT_PLACEHOLDER");const _=Jn(e,r,s,o,i,n);if(!f&&!h&&!m&&p&&_&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),m&&p&&(c.textarea||_)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),l==="OPTION"&&p){const y=Os({type:null,tagName:l,maskInputOptions:c});p=Er({isMasked:Jn(e,r,s,o,i,y),element:e,value:p,maskInputFn:u})}return{type:ve.Text,textContent:p||"",isStyle:f,rootId:d}}function Cw(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:s,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:h=!1,rootId:m,maskTextClass:_,unmaskTextClass:y,maskTextSelector:E,unmaskTextSelector:w,ignoreCSSAttributes:I}=t,b=Ew(e,r,o,s),M=lw(e);let S={};const x=e.attributes.length;for(let v=0;v<x;v++){const P=e.attributes[v];P.name&&!Lp(M,P.name,P.value)&&(S[P.name]=Pp(n,M,Yn(P.name),P.value,e,c,I))}if(M==="link"&&i){const v=Array.from(n.styleSheets).find(k=>k.href===e.href);let P=null;v&&(P=ns(v)),P&&(S.rel=null,S.href=null,S.crossorigin=null,S._cssText=os(P,v.href))}if(M==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const v=ns(e.sheet);v&&(S._cssText=os(v,Ps(n)))}if(M==="input"||M==="textarea"||M==="select"||M==="option"){const v=e,P=pc(v),k=rs(v,Ki(M),P),A=v.checked;if(P!=="submit"&&P!=="button"&&k){const H=Jn(v,_,E,y,w,Os({type:P,tagName:Ki(M),maskInputOptions:a}));S.value=Er({isMasked:H,element:v,value:k,maskInputFn:u})}A&&(S.checked=A)}if(M==="option"&&(e.selected&&!a.select?S.selected=!0:delete S.selected),M==="canvas"&&p){if(e.__context==="2d")aw(e)||(S.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const v=e.toDataURL(d.type,d.quality),P=n.createElement("canvas");P.width=e.width,P.height=e.height;const k=P.toDataURL(d.type,d.quality);v!==k&&(S.rr_dataURL=v)}}if(M==="img"&&l){kn||(kn=n.createElement("canvas"),ml=kn.getContext("2d"));const v=e,P=v.currentSrc||v.getAttribute("src")||"<unknown-src>",k=v.crossOrigin,A=()=>{v.removeEventListener("load",A);try{kn.width=v.naturalWidth,kn.height=v.naturalHeight,ml.drawImage(v,0,0),S.rr_dataURL=kn.toDataURL(d.type,d.quality)}catch(H){if(v.crossOrigin!=="anonymous"){v.crossOrigin="anonymous",v.complete&&v.naturalWidth!==0?A():v.addEventListener("load",A);return}else console.warn(`Cannot inline img src=${P}! Error: ${H}`)}v.crossOrigin==="anonymous"&&(k?S.crossOrigin=k:v.removeAttribute("crossorigin"))};v.complete&&v.naturalWidth!==0?A():v.addEventListener("load",A)}if((M==="audio"||M==="video")&&(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),b){const{width:v,height:P}=e.getBoundingClientRect();S={class:S.class,rr_width:`${v}px`,rr_height:`${P}px`}}M==="iframe"&&!f(S.src)&&(!b&&!Op(e)&&(S.rr_src=S.src),delete S.src);let F;try{customElements.get(M)&&(F=!0)}catch{}return{type:ve.Element,tagName:M,attributes:S,childNodes:[],isSVG:bw(e)||void 0,needBlock:b,rootId:m,isCustom:F}}function de(e){return e==null?"":e.toLowerCase()}function Aw(e,t){if(t.comment&&e.type===ve.Comment)return!0;if(e.type===ve.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&xp(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(de(e.attributes.name).match(/^msapplication-tile(image|color)$/)||de(e.attributes.name)==="application-name"||de(e.attributes.rel)==="icon"||de(e.attributes.rel)==="apple-touch-icon"||de(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&de(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(de(e.attributes.property).match(/^(og|twitter|fb):/)||de(e.attributes.name).match(/^(og|twitter):/)||de(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(de(e.attributes.name)==="robots"||de(e.attributes.name)==="googlebot"||de(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(de(e.attributes.name)==="author"||de(e.attributes.name)==="generator"||de(e.attributes.name)==="framework"||de(e.attributes.name)==="publisher"||de(e.attributes.name)==="progid"||de(e.attributes.property).match(/^article:/)||de(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(de(e.attributes.name)==="google-site-verification"||de(e.attributes.name)==="yandex-verification"||de(e.attributes.name)==="csrf-token"||de(e.attributes.name)==="p:domain_verify"||de(e.attributes.name)==="verify-v1"||de(e.attributes.name)==="verification"||de(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Nn(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:E,dataURLOptions:w={},inlineImages:I=!1,recordCanvas:b=!1,onSerialize:M,onIframeLoad:S,iframeLoadTimeout:x=5e3,onBlockedImageLoad:F,onStylesheetLoad:v,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:k=()=>!1,newlyAddedElement:A=!1,ignoreCSSAttributes:H}=t;let{preserveWhiteSpace:X=!0}=t;const J=ww(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,dataURLOptions:w,inlineImages:I,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:A,ignoreCSSAttributes:H});if(!J)return console.warn(e,"not serialized"),null;let re;r.hasNode(e)?re=r.getId(e):Aw(J,E)||!X&&J.type===ve.Text&&!J.isStyle&&!J.textContent.replace(/^\s+|\s+$/gm,"").length?re=vr:re=hc();const T=Object.assign(J,{id:re});if(r.add(e,T),re===vr)return null;M&&M(e);let q=!p;if(T.type===ve.Element){q=q&&!T.needBlock;const R=e.shadowRoot;R&&gr(R)&&(T.isShadowHost=!0)}if((T.type===ve.Document||T.type===ve.Element)&&q){E.headWhitespace&&T.type===ve.Element&&T.tagName==="head"&&(X=!1);const R={doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:E,dataURLOptions:w,inlineImages:I,recordCanvas:b,preserveWhiteSpace:X,onSerialize:M,onIframeLoad:S,iframeLoadTimeout:x,onBlockedImageLoad:F,onStylesheetLoad:v,stylesheetLoadTimeout:P,keepIframeSrcFn:k,ignoreCSSAttributes:H},K=e.childNodes?Array.from(e.childNodes):[];for(const ie of K){const te=Nn(ie,R);te&&T.childNodes.push(te)}if(ZI(e)&&e.shadowRoot)for(const ie of Array.from(e.shadowRoot.childNodes)){const te=Nn(ie,R);te&&(gr(e.shadowRoot)&&(te.isShadow=!0),T.childNodes.push(te))}}if(e.parentNode&&mr(e.parentNode)&&gr(e.parentNode)&&(T.isShadow=!0),T.type===ve.Element&&T.tagName==="iframe"&&!T.needBlock&&Tw(e,()=>{const R=Op(e);if(R&&S){const K=Nn(R,{doc:R,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:E,dataURLOptions:w,inlineImages:I,recordCanvas:b,preserveWhiteSpace:X,onSerialize:M,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:v,stylesheetLoadTimeout:P,keepIframeSrcFn:k,ignoreCSSAttributes:H});K&&S(e,K)}},x),T.type===ve.Element&&T.tagName==="img"&&!e.complete&&T.needBlock){const R=e,K=()=>{if(R.isConnected&&!R.complete&&F)try{const ie=R.getBoundingClientRect();ie.width>0&&ie.height>0&&F(R,T,ie)}catch{}R.removeEventListener("load",K)};R.isConnected&&R.addEventListener("load",K)}return T.type===ve.Element&&T.tagName==="link"&&typeof T.attributes.rel=="string"&&(T.attributes.rel==="stylesheet"||T.attributes.rel==="preload"&&typeof T.attributes.href=="string"&&xp(T.attributes.href)==="css")&&Iw(e,()=>{if(v){const R=Nn(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:E,dataURLOptions:w,inlineImages:I,recordCanvas:b,preserveWhiteSpace:X,onSerialize:M,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:v,stylesheetLoadTimeout:P,keepIframeSrcFn:k,ignoreCSSAttributes:H});R&&v(e,R)}},P),T.type===ve.Element&&delete T.needBlock,T}function xw(e,t){const{mirror:n=new Ap,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOM:E=!1,dataURLOptions:w,preserveWhiteSpace:I,onSerialize:b,onIframeLoad:M,iframeLoadTimeout:S,onBlockedImageLoad:x,onStylesheetLoad:F,stylesheetLoadTimeout:v,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:k=new Set([])}=t||{};return Nn(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:w,inlineImages:p,recordCanvas:f,preserveWhiteSpace:I,onSerialize:b,onIframeLoad:M,iframeLoadTimeout:S,onBlockedImageLoad:x,onStylesheetLoad:F,stylesheetLoadTimeout:v,keepIframeSrcFn:P,newlyAddedElement:!1,ignoreCSSAttributes:k})}function Fe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Rn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let _l={map:{},getId(){return console.error(Rn),-1},getNode(){return console.error(Rn),null},removeNodeFromMap(){console.error(Rn)},has(){return console.error(Rn),!1},reset(){console.error(Rn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(_l=new Proxy(_l,{get(e,t,n){return t==="map"&&console.error(Rn),Reflect.get(e,t,n)}}));function Tr(e,t,n={}){let r=null,o=0;return function(...s){const i=Date.now();!o&&n.leading===!1&&(o=i);const a=t-(i-o),c=this;a<=0||a>t?(r&&($w(r),r=null),o=i,e.apply(c,s)):!r&&n.trailing!==!1&&(r=Ls(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,s)},a))}}function Dp(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(i){Ls(()=>{n.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>Dp(e,t,s||{},!0)}function mc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}let ss=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ss=()=>new Date().getTime());function $p(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Fp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Bp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Up(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ze(e,t,n,r,o){if(!e)return!1;const s=Up(e);if(!s)return!1;const i=Mn(t,n);if(!o){const u=r&&s.matches(r);return i(s)&&!u}const a=on(s,i);let c=-1;return a<0?!1:(r&&(c=on(s,Mn(null,r))),a>-1&&c<0?!0:a<c)}function Mw(e,t){return t.getId(e)!==-1}function pi(e,t){return t.getId(e)===vr}function Hp(e,t){if(mr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Hp(e.parentNode,t):!0:!0}function Qi(e){return!!e.changedTouches}function Nw(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Wp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function jp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Zi(e){return!!e?.shadowRoot}class Ow{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function zp(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Pw(e){let t=e,n;for(;n=zp(t);)t=n;return t}function Lw(e){const t=e.ownerDocument;if(!t)return!1;const n=Pw(e);return t.contains(n)}function qp(e){const t=e.ownerDocument;return t?t.contains(e)||Lw(e):!1}const yl={};function gc(e){const t=yl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const s=o.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(o)}catch{}return yl[e]=r.bind(window)}function Dw(...e){return gc("requestAnimationFrame")(...e)}function Ls(...e){return gc("setTimeout")(...e)}function $w(...e){return gc("clearTimeout")(...e)}var G=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(G||{}),W=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(W||{}),$e=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))($e||{}),St=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(St||{}),Cn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Cn||{});function _c(e){try{return e.contentDocument}catch{}}function Fw(e){try{return e.contentWindow}catch{}}function Sl(e){return"__ln"in e}class Bw{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Sl(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Sl(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const bl=(e,t)=>`${e}@${t}`;class Uw{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Bw,o=c=>{let u=c,d=vr;for(;d===vr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},s=c=>{if(!c.parentNode||!qp(c))return;const u=mr(c.parentNode)?this.mirror.getId(zp(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);const l=Nn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{Wp(p,this.mirror)&&!ze(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),jp(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Zi(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{ze(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,f),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)},onBlockedImageLoad:(p,f,{width:h,height:m})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${h}px`,height:`${m}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)El(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(const c of this.addedSet)!vl(this.droppedSet,c)&&!El(this.removes,c,this.mirror)||vl(this.movedSet,c)?s(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=o(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{const f=d.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=f.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),s(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!pi(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Jn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Up(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){const i=pc(n),a=n.tagName;o=rs(n,a,i);const c=Os({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Jn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Er({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!_c(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Lp(n.tagName,r)&&(s.attributes[r]=Pp(this.doc,Yn(n.tagName),Yn(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=c:s.styleDiff[a]=[c,u]:s._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),o=mr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||pi(n,this.mirror)||!Mw(n,this.mirror)||(this.addedSet.has(n)?(ea(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Hp(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[bl(r,o)]?ea(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:mr(t.target)&&gr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(pi(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[bl(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ze(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Zi(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ea(e,t){e.delete(t),t.childNodes?.forEach(n=>ea(e,n))}function El(e,t,n){return e.length===0?!1:Hw(e,t,n)}function Hw(e,t,n){let r=t.parentNode;for(;r;){const o=n.getId(r);if(e.some(s=>s.id===o))return!0;r=r.parentNode}return!1}function vl(e,t){return e.size===0?!1:Gp(e,t)}function Gp(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Gp(e,n):!1}let _r;function Ww(e){_r=e}function jw(){_r=void 0}const ee=e=>_r?(...n)=>{try{return e(...n)}catch(r){if(_r&&_r(r)===!0)return()=>{};throw r}}:e,On=[];function jr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Vp(e,t){const n=new Uw;On.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);const s=new r(ee(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function zw({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const o=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=Tr(ee(l=>{const p=Date.now()-a;e(i.map(f=>(f.timeOffset-=p,f)),l),i=[],a=null}),s),u=ee(Tr(ee(l=>{const p=jr(l),{clientX:f,clientY:h}=Qi(l)?l.changedTouches[0]:l;a||(a=ss()),i.push({x:f,y:h,id:r.getId(p),timeOffset:ss()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?W.Drag:l instanceof MouseEvent?W.MouseMove:W.TouchMove)}),o,{trailing:!1})),d=[Fe("mousemove",u,n),Fe("touchmove",u,n),Fe("drag",u,n)];return ee(()=>{d.forEach(l=>l())})}function qw({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>p=>{const f=jr(p);if(ze(f,r,o,s,!0))return;let h=null,m=l;if("pointerType"in p){switch(p.pointerType){case"mouse":h=St.Mouse;break;case"touch":h=St.Touch;break;case"pen":h=St.Pen;break}h===St.Touch?$e[l]===$e.MouseDown?m="TouchStart":$e[l]===$e.MouseUp&&(m="TouchEnd"):St.Pen}else Qi(p)&&(h=St.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===St.Touch||m.startsWith("Mouse")&&h===St.Mouse)&&(h=null)):$e[l]===$e.Click&&(h=u,u=null);const _=Qi(p)?p.changedTouches[0]:p;if(!_)return;const y=n.getId(f),{clientX:E,clientY:w}=_;ee(e)({type:$e[m],id:y,x:E,y:w,...h!==null&&{pointerType:h}})};return Object.keys($e).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let p=Yn(l);const f=d(l);if(window.PointerEvent)switch($e[l]){case $e.MouseDown:case $e.MouseUp:p=p.replace("mouse","pointer");break;case $e.TouchStart:case $e.TouchEnd:return}c.push(Fe(p,f,t))}),ee(()=>{c.forEach(l=>l())})}function Yp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){const a=ee(Tr(ee(c=>{const u=jr(c);if(!u||ze(u,r,o,s,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=$p(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Fe("scroll",a,t)}function Gw({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const o=ee(Tr(ee(()=>{const s=Fp(),i=Bp();(n!==s||r!==i)&&(e({width:Number(i),height:Number(s)}),n=s,r=i)}),200));return Fe("resize",o,t)}const Vw=["INPUT","TEXTAREA","SELECT"],Tl=new WeakMap;function Yw({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:p,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:m}){function _(S){let x=jr(S);const F=S.isTrusted,v=x&&Ki(x.tagName);if(v==="OPTION"&&(x=x.parentElement),!x||!v||Vw.indexOf(v)<0||ze(x,r,o,s,!0))return;const P=x;if(P.classList.contains(i)||a&&P.matches(a))return;const k=pc(x);let A=rs(P,v,k),H=!1;const X=Os({maskInputOptions:c,tagName:v,type:k}),J=Jn(x,p,h,f,m,X);(k==="radio"||k==="checkbox")&&(H=x.checked),A=Er({isMasked:J,element:x,value:A,maskInputFn:u}),y(x,l?{text:A,isChecked:H,userTriggered:F}:{text:A,isChecked:H});const re=x.name;k==="radio"&&re&&H&&t.querySelectorAll(`input[type="radio"][name="${re}"]`).forEach(T=>{if(T!==x){const q=Er({isMasked:J,element:T,value:rs(T,v,k),maskInputFn:u});y(T,l?{text:q,isChecked:!H,userTriggered:!1}:{text:q,isChecked:!H})}})}function y(S,x){const F=Tl.get(S);if(!F||F.text!==x.text||F.isChecked!==x.isChecked){Tl.set(S,x);const v=n.getId(S);ee(e)({...x,id:v})}}const w=(d.input==="last"?["change"]:["input","change"]).map(S=>Fe(S,ee(_),t)),I=t.defaultView;if(!I)return()=>{w.forEach(S=>S())};const b=I.Object.getOwnPropertyDescriptor(I.HTMLInputElement.prototype,"value"),M=[[I.HTMLInputElement.prototype,"value"],[I.HTMLInputElement.prototype,"checked"],[I.HTMLSelectElement.prototype,"value"],[I.HTMLTextAreaElement.prototype,"value"],[I.HTMLSelectElement.prototype,"selectedIndex"],[I.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&w.push(...M.map(S=>Dp(S[0],S[1],{set(){ee(_)({target:this,isTrusted:!1})}},!1,I))),ee(()=>{w.forEach(S=>S())})}function is(e){const t=[];function n(r,o){if(uo("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||uo("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||uo("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||uo("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(i)}return o}return n(e,t)}function Dt(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Jw({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:ee((d,l,p)=>{const[f,h]=p,{id:m,styleId:_}=Dt(l,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,adds:[{rule:f,index:h}]}),d.apply(l,p)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:ee((d,l,p)=>{const[f]=p,{id:h,styleId:m}=Dt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:f}]}),d.apply(l,p)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:ee((d,l,p)=>{const[f]=p,{id:h,styleId:m}=Dt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:f}),d.apply(l,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ee((d,l,p)=>{const[f]=p,{id:h,styleId:m}=Dt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:f}),d.apply(l,p)})}));const c={};lo("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(lo("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),lo("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),lo("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:ee((p,f,h)=>{const[m,_]=h,{id:y,styleId:E}=Dt(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||E&&E!==-1)&&e({id:y,styleId:E,adds:[{rule:m,index:[...is(f),_||0]}]}),p.apply(f,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:ee((p,f,h)=>{const[m]=h,{id:_,styleId:y}=Dt(f.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,removes:[{index:[...is(f),m]}]}),p.apply(f,h)})})}),ee(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=s,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Jp({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,s=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return s.get?.call(this)},set(i){const a=s.set?.call(this,i);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),ee(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function Kw({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ee((a,c,u)=>{const[d,l,p]=u;if(n.has(d))return s.apply(c,[d,l,p]);const{id:f,styleId:h}=Dt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,set:{property:d,value:l,priority:p},index:is(c.parentRule)}),a.apply(c,u)})});const i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:ee((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:p}=Dt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||p&&p!==-1)&&e({id:l,styleId:p,remove:{property:d},index:is(c.parentRule)}),a.apply(c,u)})}),ee(()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=i})}function Xw({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:s,doc:i}){const a=ee(u=>Tr(ee(d=>{const l=jr(d);if(!l||ze(l,t,n,r,!0))return;const{currentTime:p,volume:f,muted:h,playbackRate:m}=l;e({type:u,id:o.getId(l),currentTime:p,volume:f,muted:h,playbackRate:m})}),s.media||500)),c=[Fe("play",a(Cn.Play),i),Fe("pause",a(Cn.Pause),i),Fe("seeked",a(Cn.Seeked),i),Fe("volumechange",a(Cn.VolumeChange),i),Fe("ratechange",a(Cn.RateChange),i)];return ee(()=>{c.forEach(u=>u())})}function Qw({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,s=n.FontFace;n.FontFace=function(c,u,d){const l=new s(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=mc(t.fonts,"add",function(a){return function(c){return Ls(ee(()=>{const u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=s}),r.push(i),ee(()=>{r.forEach(a=>a())})}function Zw(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,selectionCb:i}=e;let a=!0;const c=ee(()=>{const u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let p=0;p<l;p++){const f=u.getRangeAt(p),{startContainer:h,startOffset:m,endContainer:_,endOffset:y}=f;ze(h,r,o,s,!0)||ze(_,r,o,s,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(_),endOffset:y})}i({ranges:d})});return c(),Fe("selectionchange",c)}function ek({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:mc(n.customElements,"define",function(o){return function(s,i,a){try{t({define:{name:s}})}catch{}return o.apply(this,[s,i,a])}})}function tk(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Vp(e,e.doc));const o=zw(e),s=qw(e),i=Yp(e),a=Gw(e,{win:n}),c=Yw(e),u=Xw(e);let d=()=>{},l=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=Jw(e,{win:n}),l=Jp(e,e.doc),p=Kw(e,{win:n}),e.collectFonts&&(f=Qw(e)));const h=Zw(e),m=ek(e),_=[];for(const y of e.plugins)_.push(y.observer(y.callback,n,y.options));return ee(()=>{On.forEach(y=>y.reset()),r?.disconnect(),o(),s(),i(),a(),c(),u(),d(),l(),p(),f(),h(),m(),_.forEach(y=>y())})}function uo(e){return typeof window[e]<"u"}function lo(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ta{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){const s=r||this.getIdToRemoteIdMap(t),i=o||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,o))}getRemoteId(t,n,r){const o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=o.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class nk{constructor(){this.crossOriginIframeMirror=new ta(hc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class rk{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ta(hc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ta(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const r=_c(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const o=this.crossOriginIframeMap.get(t.source);if(!o)return;const s=this.transformCrossOriginEvent(o,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case G.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:G.IncrementalSnapshot,data:{source:W.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case G.Meta:case G.Load:case G.DomContentLoaded:return!1;case G.Plugin:return n;case G.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case G.IncrementalSnapshot:switch(n.data.source){case W.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case W.Drag:case W.TouchMove:case W.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case W.ViewportResize:return!1;case W.MediaInteraction:case W.MouseInteraction:case W.Scroll:case W.CanvasMutation:case W.Input:return this.replaceIds(n.data,t,["id"]),n;case W.StyleSheetRule:case W.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case W.Font:return n;case W.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case W.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(const s of o)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ve.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class ok{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class sk{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!gr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Vp({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Yp({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Ls(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Jp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=_c(t),r=Fw(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(mc(t.prototype,"attachShadow",function(o){return function(s){const i=o.call(this,s);return this.shadowRoot&&qp(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ik=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fo=0;fo<Il.length;fo++)ik[Il.charCodeAt(fo)]=fo;class wl{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ak{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ow,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},o=[];for(const s of t){let i;this.styleMirror.has(s)?i=this.styleMirror.getId(s):(i=this.styleMirror.add(s),o.push({styleId:i,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:Cp(a),index:c}))})),r.styleIds.push(i)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ck{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,Dw(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let ye,as;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Qe=iw();function Tt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:_,slimDOMOptions:y,maskAttributeFn:E,maskInputFn:w,maskTextFn:I,maxCanvasSize:b=null,packFn:M,sampling:S={},dataURLOptions:x={},mousemoveWait:F,recordDOM:v=!0,recordCanvas:P=!1,recordCrossOriginIframes:k=!1,recordAfter:A=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:H=!1,collectFonts:X=!1,inlineImages:J=!1,plugins:re,keepIframeSrcFn:T=()=>!1,ignoreCSSAttributes:q=new Set([]),errorHandler:R,onMutation:K,getCanvasManager:ie}=e;Ww(R);const te=k?window.parent===window:!0;let Ee=!1;if(!te)try{window.parent.document&&(Ee=!1)}catch{Ee=!0}if(te&&!t)throw new Error("emit function is required");if(!te&&!Ee)return()=>{};F!==void 0&&S.mousemove===void 0&&(S.mousemove=F),Qe.reset();const Le=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Nt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};Nw();let De,Be=0;const at=Q=>{for(const We of re||[])We.eventProcessor&&(Q=We.eventProcessor(Q));return M&&!Ee&&(Q=M(Q)),Q};ye=(Q,We)=>{const Z=Q;if(Z.timestamp=ss(),On[0]?.isFrozen()&&Z.type!==G.FullSnapshot&&!(Z.type===G.IncrementalSnapshot&&Z.data.source===W.Mutation)&&On.forEach(xe=>xe.unfreeze()),te)t?.(at(Z),We);else if(Ee){const xe={type:"rrweb",event:at(Z),origin:window.location.origin,isCheckout:We};window.parent.postMessage(xe,"*")}if(Z.type===G.FullSnapshot)De=Z,Be=0;else if(Z.type===G.IncrementalSnapshot){if(Z.data.source===W.Mutation&&Z.data.isAttachIframe)return;Be++;const xe=r&&Be>=r,ne=n&&De&&Z.timestamp-De.timestamp>n;(xe||ne)&&ct(!0)}};const Ot=Q=>{ye({type:G.IncrementalSnapshot,data:{source:W.Mutation,...Q}})},cr=Q=>ye({type:G.IncrementalSnapshot,data:{source:W.Scroll,...Q}}),Kr=Q=>ye({type:G.IncrementalSnapshot,data:{source:W.CanvasMutation,...Q}}),ur=Q=>ye({type:G.IncrementalSnapshot,data:{source:W.AdoptedStyleSheet,...Q}}),ae=new ak({mutationCb:Ot,adoptedStyleSheetCb:ur}),me=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new nk:new rk({mirror:Qe,mutationCb:Ot,stylesheetManager:ae,recordCrossOriginIframes:k,wrappedEmit:ye});for(const Q of re||[])Q.getMirror&&Q.getMirror({nodeMirror:Qe,crossOriginIframeMirror:me.crossOriginIframeMirror,crossOriginIframeStyleMirror:me.crossOriginIframeStyleMirror});const Ve=new ck,Ae=lk(ie,{mirror:Qe,win:window,mutationCb:Q=>ye({type:G.IncrementalSnapshot,data:{source:W.CanvasMutation,...Q}}),recordCanvas:P,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:b,sampling:S.canvas,dataURLOptions:x,errorHandler:R}),Ne=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ok:new sk({mutationCb:Ot,scrollCb:cr,bypassOptions:{onMutation:K,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:Le,dataURLOptions:x,maskAttributeFn:E,maskTextFn:I,maskInputFn:w,recordCanvas:P,inlineImages:J,sampling:S,slimDOMOptions:Nt,iframeManager:me,stylesheetManager:ae,canvasManager:Ae,keepIframeSrcFn:T,processedNodeManager:Ve,ignoreCSSAttributes:q},mirror:Qe}),ct=(Q=!1)=>{if(!v)return;ye({type:G.Meta,data:{href:window.location.href,width:Bp(),height:Fp()}},Q),ae.reset(),Ne.init(),On.forEach(Z=>Z.lock());const We=xw(document,{mirror:Qe,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskAllInputs:Le,maskAttributeFn:E,maskInputFn:w,maskTextFn:I,slimDOM:Nt,dataURLOptions:x,recordCanvas:P,inlineImages:J,onSerialize:Z=>{Wp(Z,Qe)&&me.addIframe(Z),jp(Z,Qe)&&ae.trackLinkElement(Z),Zi(Z)&&Ne.addShadowRoot(Z.shadowRoot,document)},onIframeLoad:(Z,xe)=>{me.attachIframe(Z,xe),Z.contentWindow&&Ae.addWindow(Z.contentWindow),Ne.observeAttachShadow(Z)},onStylesheetLoad:(Z,xe)=>{ae.attachLinkElement(Z,xe)},onBlockedImageLoad:(Z,xe,{width:ne,height:lr})=>{Ot({adds:[],removes:[],texts:[],attributes:[{id:xe.id,attributes:{style:{width:`${ne}px`,height:`${lr}px`}}}]})},keepIframeSrcFn:T,ignoreCSSAttributes:q});if(!We)return console.warn("Failed to snapshot the document");ye({type:G.FullSnapshot,data:{node:We,initialOffset:$p(window)}}),On.forEach(Z=>Z.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ae.adoptStyleSheets(document.adoptedStyleSheets,Qe.getId(document))};as=ct;try{const Q=[],We=xe=>ee(tk)({onMutation:K,mutationCb:Ot,mousemoveCb:(ne,lr)=>ye({type:G.IncrementalSnapshot,data:{source:lr,positions:ne}}),mouseInteractionCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.MouseInteraction,...ne}}),scrollCb:cr,viewportResizeCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.ViewportResize,...ne}}),inputCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.Input,...ne}}),mediaInteractionCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.MediaInteraction,...ne}}),styleSheetRuleCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.StyleSheetRule,...ne}}),styleDeclarationCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.StyleDeclaration,...ne}}),canvasMutationCb:Kr,fontCb:ne=>ye({type:G.IncrementalSnapshot,data:{source:W.Font,...ne}}),selectionCb:ne=>{ye({type:G.IncrementalSnapshot,data:{source:W.Selection,...ne}})},customElementCb:ne=>{ye({type:G.IncrementalSnapshot,data:{source:W.CustomElement,...ne}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:Le,inlineStylesheet:h,sampling:S,recordDOM:v,recordCanvas:P,inlineImages:J,userTriggeredOnInput:H,collectFonts:X,doc:xe,maskAttributeFn:E,maskInputFn:w,maskTextFn:I,keepIframeSrcFn:T,blockSelector:s,unblockSelector:i,slimDOMOptions:Nt,dataURLOptions:x,mirror:Qe,iframeManager:me,stylesheetManager:ae,shadowDomManager:Ne,processedNodeManager:Ve,canvasManager:Ae,ignoreCSSAttributes:q,plugins:re?.filter(ne=>ne.observer)?.map(ne=>({observer:ne.observer,options:ne.options,callback:lr=>ye({type:G.Plugin,data:{plugin:ne.name,payload:lr}})}))||[]},{});me.addLoadListener(xe=>{try{Q.push(We(xe.contentDocument))}catch(ne){console.warn(ne)}});const Z=()=>{ct(),Q.push(We(document))};return document.readyState==="interactive"||document.readyState==="complete"?Z():(Q.push(Fe("DOMContentLoaded",()=>{ye({type:G.DomContentLoaded,data:{}}),A==="DOMContentLoaded"&&Z()})),Q.push(Fe("load",()=>{ye({type:G.Load,data:{}}),A==="load"&&Z()},window))),()=>{Q.forEach(xe=>xe()),Ve.destroy(),as=void 0,jw()}}catch(Q){console.warn(Q)}}function uk(e){if(!as)throw new Error("please take full snapshot after start recording");as(e)}Tt.mirror=Qe;Tt.takeFullSnapshot=uk;function lk(e,t){try{return e?e(t):new wl}catch{return console.warn("Unable to initialize CanvasManager"),new wl}}var kl;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(kl||(kl={}));const dk=3,fk=5;function yc(e){return e>9999999999?e:e*1e3}function hi(e){return e>9999999999?e/1e3:e}function zr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:G.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:je(t,10,1e3)}}),t.category==="console")))}const pk="button,a";function Kp(e){return e.closest(pk)||e}function Xp(e){const t=Qp(e);return!t||!(t instanceof Element)?t:Kp(t)}function Qp(e){return hk(e)?e.target:e}function hk(e){return typeof e=="object"&&!!e&&"target"in e}let $t;function mk(e){return $t||($t=[],gk()),$t.push(e),()=>{const t=$t?$t.indexOf(e):-1;t>-1&&$t.splice(t,1)}}function gk(){Me(fe,"open",function(e){return function(...t){if($t)try{$t.forEach(n=>n())}catch{}return e.apply(fe,t)}})}const _k=new Set([W.Mutation,W.StyleSheetRule,W.StyleDeclaration,W.AdoptedStyleSheet,W.CanvasMutation,W.Selection,W.MediaInteraction]);function yk(e,t,n){e.handleClick(t,n)}class Sk{constructor(t,n,r=zr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=mk(()=>{this._lastMutation=Rl()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(Ek(n,this._ignoreSelector)||!vk(t))return;const r={timestamp:hi(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=hi(t)}registerScroll(t=Date.now()){this._lastScroll=hi(t)}registerClick(t){const n=Kp(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Rl();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!o,{clickCount:i,clickBreadcrumb:a}=t;if(s){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:fe.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:fe.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Wr(()=>this._checkClicks(),1e3)}}const bk=["A","BUTTON","INPUT"];function Ek(e,t){return!!(!bk.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function vk(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Rl(){return Date.now()/1e3}function Tk(e,t){try{if(!Ik(t))return;const{source:n}=t.data;if(_k.has(n)&&e.registerMutation(t.timestamp),n===W.Scroll&&e.registerScroll(t.timestamp),wk(t)){const{type:r,id:o}=t.data,s=Tt.mirror.getNode(o);s instanceof HTMLElement&&r===$e.Click&&e.registerClick(s)}}catch{}}function Ik(e){return e.type===dk}function wk(e){return e.data.source===W.MouseInteraction}function lt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Sc=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Sc||{});const kk=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Rk(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(kk.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const Ck=e=>t=>{if(!e.isEnabled())return;const n=Ak(t);if(!n)return;const r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&yk(e.clickDetector,n,Xp(t.event)),zr(e,n)};function Zp(e,t){const n=Tt.mirror.getId(e),r=n&&Tt.mirror.getNode(n),o=r&&Tt.mirror.getMeta(r),s=o&&Mk(o)?o:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(i=>i.type===Sc.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:Rk(s.attributes)}}:{}}}function Ak(e){const{target:t,message:n}=xk(e);return lt({category:`ui.${e.name}`,...Zp(t,n)})}function xk(e){const t=e.name==="click";let n,r=null;try{r=t?Xp(e.event):Qp(e.event),n=He(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Mk(e){return e.type===Sc.Element}function Nk(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Ok(t);n&&zr(e,n)}function Ok(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s,target:i}=e;if(!i||Pk(i)||!s)return null;const a=t||r||o,c=s.length===1;if(!a&&c)return null;const u=He(i,{maxStringLength:200})||"<unknown>",d=Zp(i,u);return lt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s}})}function Pk(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Lk={resource:Uk,paint:Fk,navigation:Bk};function mi(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Dk(e){return e.map($k).filter(Boolean)}function $k(e){const t=Lk[e.entryType];return t?t(e):null}function Kn(e){return((Pe()||fe.performance.timeOrigin)+e)/1e3}function Fk(e){const{duration:t,entryType:n,name:r,startTime:o}=e,s=Kn(o);return{type:n,name:r,start:s,end:s+t,data:void 0}}function Bk(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:s,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:p,startTime:f,transferSize:h,type:m}=e;return o===0?null:{type:`${t}.${m}`,start:Kn(f),end:Kn(s),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:s,redirectCount:p}}}function Uk(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:s,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Kn(s),end:Kn(o),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Hk(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return bc(e,"largest-contentful-paint",n)}function Wk(e){return e.sources!==void 0}function jk(e){const t=[],n=[];for(const r of e.entries)if(Wk(r)){const o=[];for(const s of r.sources)if(s.node){n.push(s.node);const i=Tt.mirror.getId(s.node);i&&o.push(i)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return bc(e,"cumulative-layout-shift",n,t)}function zk(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return bc(e,"interaction-to-next-paint",n)}function bc(e,t,n,r){const o=e.value,s=e.rating,i=Kn(o);return{type:"web-vital",name:t,start:i,end:i,data:{value:o,size:o,rating:s,nodeIds:n?n.map(a=>Tt.mirror.getId(a)):void 0,attributions:r}}}function qk(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(o=>{r.push(yn(o,n))}),r.push(sc(mi(Hk,e)),oc(mi(jk,e)),ap(mi(zk,e))),()=>{r.forEach(o=>o())}}const B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Gk='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Vk(){const e=new Blob([Gk]);return URL.createObjectURL(e)}const Cl=["log","warn","error"],xo="[Replay] ";function gi(e,t="info"){gt({category:"console",data:{logger:"replay"},level:t,message:`${xo}${e}`},{level:t})}function Yk(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return B?(Cl.forEach(r=>{n[r]=(...o)=>{g[r](xo,...o),t&&gi(o.join(""),Na(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),g.error(xo,r),e?Ce(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&gi(r,"error")},n.infoTick=(...r)=>{g.log(xo,...r),t&&setTimeout(()=>gi(r[0]),0)}):Cl.forEach(r=>{n[r]=()=>{}}),n}const U=Yk();class Ec extends Error{constructor(){super(`Event buffer exceeded maximum size of ${fc}.`)}}class eh{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>fc)throw new Ec;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?yc(t):null}}class Jk{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){B&&U.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((o,s)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){B&&U.error("Error in compression worker: ",c.response),s(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Kk{constructor(t){this._worker=new Jk(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=yc(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>fc?Promise.reject(new Ec):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{B&&U.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Xk{constructor(t){this._fallback=new eh,this._compression=new Kk(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){B&&U.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(const s of t)o.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(s){B&&U.exception(s,"Failed to add events when switching buffers.")}}}function Qk({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Zk(t);if(n)return n}return B&&U.log("Using simple buffer"),new eh}function Zk(e){try{const t=e||eR();if(!t)return;B&&U.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Xk(n)}catch(t){B&&U.exception(t,"Failed to create compression worker")}}function eR(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Vk():""}function vc(){try{return"sessionStorage"in fe&&!!fe.sessionStorage}catch{return!1}}function tR(e){nR(),e.session=void 0}function nR(){if(vc())try{fe.sessionStorage.removeItem(lc)}catch{}}function th(e){return e===void 0?!1:Math.random()<e}function Ds(e){if(vc())try{fe.sessionStorage.setItem(lc,JSON.stringify(e))}catch{}}function nh(e){const t=Date.now(),n=e.id||Ie(),r=e.started||t,o=e.lastActivity||t,s=e.segmentId||0,i=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:o,segmentId:s,sampled:i,previousSessionId:a,dirty:c}}function rR(e,t){return th(e)?"session":t?"buffer":!1}function Al({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=rR(e,t),s=nh({sampled:o,previousSessionId:r});return n&&Ds(s),s}function oR(){if(!vc())return null;try{const e=fe.sessionStorage.getItem(lc);if(!e)return null;const t=JSON.parse(e);return B&&U.infoTick("Loading existing session"),nh(t)}catch{return null}}function na(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function rh(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return na(e.started,t,r)||na(e.lastActivity,n,r)}function oh(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!rh(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function _i({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const o=r.stickySession&&oR();return o?oh(o,{sessionIdleExpire:e,maxReplayDuration:t})?(B&&U.infoTick("Session in sessionStorage is expired, creating new one..."),Al(r,{previousSessionId:o.id})):o:(B&&U.infoTick("Creating new session"),Al(r,{previousSessionId:n}))}function sR(e){return e.type===G.Custom}function Tc(e,t,n){return ih(e,t)?(sh(e,t,n),!0):!1}function iR(e,t,n){return ih(e,t)?sh(e,t,n):Promise.resolve(null)}async function sh(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),i=aR(t,s.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(s){const i=s&&s instanceof Ec,a=i?"addEventSizeExceeded":"addEvent",c=O();if(c){const u=i?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(i&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a})}}function ih(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=yc(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(B&&U.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function aR(e,t){try{if(typeof t=="function"&&sR(e))return t(e)}catch(n){return B&&U.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Ic(e){return!e.type}function ra(e){return e.type==="transaction"}function cR(e){return e.type==="replay_event"}function xl(e){return e.type==="feedback"}function uR(e){return(t,n)=>{if(!e.isEnabled()||!Ic(t)&&!ra(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(ra(t)){lR(e,t);return}dR(e,t)}}}function lR(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function dR(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Wr(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function fR(e){return t=>{!e.isEnabled()||!Ic(t)||pR(e,t)}}function pR(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=lt({category:"replay.hydrate-error",data:{url:bn()}});zr(e,r)}}function hR(e){const t=O();t&&t.on("beforeAddBreadcrumb",n=>mR(e,n))}function mR(e,t){if(!e.isEnabled()||!ah(t))return;const n=gR(t);n&&zr(e,n)}function gR(e){return!ah(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?_R(e):lt(e)}function _R(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return lt(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>co?(n=!0,`${o.slice(0,co)}`):o;if(typeof o=="object")try{const s=je(o,7);return JSON.stringify(s).length>co?(n=!0,`${JSON.stringify(s,null,2).slice(0,co)}`):s}catch{}return o});return lt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function ah(e){return!!e.category}function yR(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function ch(){const e=j().getPropagationContext().dsc;e&&delete e.replay_id;const t=_e();if(t){const n=st(t);delete n.replay_id}}function SR(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:G.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function bR(e,t){return e.recordingMode!=="buffer"||t.message===dc||!t.exception||t.type?!1:th(e.getOptions().errorSampleRate)}function ER(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(cR(t))return delete t.breadcrumbs,t;if(!Ic(t)&&!ra(t)&&!xl(t))return t;if(!e.checkAndHandleExpiredSession())return ch(),t;if(xl(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),SR(e,t),t;if(yR(t,n)&&!e.getOptions()._experiments.captureExceptions)return B&&U.log("Ignoring error from rrweb internals",t),null;const o=bR(e,t);if((o||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),o&&e.recordingMode==="buffer"&&e.session?.sampled==="buffer"){const i=e.session;i.dirty=!0,e.getOptions().stickySession&&Ds(i)}return t},{id:"Replay"})}function $s(e,t){return t.map(({type:n,start:r,end:o,name:s,data:i})=>{const a=e.throttledAddEvent({type:G.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:o,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function vR(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function TR(e){return t=>{if(!e.isEnabled())return;const n=vR(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>($s(e,[n]),!1)))}}function IR(e,t){return B&&e.getOptions()._experiments.traceInternals?!1:mf(t,O())}function uh(e,t){e.isEnabled()&&t!==null&&(IR(e,t.name)||e.addUpdate(()=>($s(e,[t]),!0)))}function Fs(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=hp(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function lh(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function cs(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function dh(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:s,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:s,statusCode:i,request:a,response:c}}}function Ir(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ut(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:s}=wR(n);return r.body=o,s?.length&&(r._meta={warnings:s}),r}function oa(e,t){return Object.entries(e).reduce((n,[r,o])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=o),n},{})}function wR(e){if(!e||typeof e!="string")return{body:e};const t=e.length>ll,n=kR(e);if(t){const r=e.slice(0,ll);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function kR(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function us(e,t){const n=RR(e);return nt(n,t)}function RR(e,t=fe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(fe.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function CR(e,t,n){try{const r=await xR(e,t,n),o=dh("resource.fetch",r);uh(n.replay,o)}catch(r){B&&U.exception(r,"Failed to capture fetch breadcrumb")}}function AR(e,t){const{input:n,response:r}=t,o=n?uc(n):void 0,s=Fs(o),i=r?lh(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}async function xR(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=us(i,n.networkDetailAllowUrls)&&!us(i,n.networkDetailDenyUrls),p=l?MR(n,t.input,u):Ir(u),f=await NR(l,n,t.response,d);return{startTimestamp:o,endTimestamp:s,url:i,method:a,statusCode:c,request:p,response:f}}function MR({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?LR(n,t):{};if(!e)return Ut(o,r,void 0);const s=uc(n),[i,a]=ts(s,U),c=Ut(o,r,i);return a?cs(c,a):c}async function NR(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return Ir(o);const s=r?fh(r.headers,n):{};if(!r||!t&&o!==void 0)return Ut(s,o,void 0);const[i,a]=await PR(r),c=OR(i,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:s});return a?cs(c,a):c}function OR(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{const s=e?.length&&n===void 0?Fs(e):n;return r?t?Ut(o,s,e):Ut(o,s,void 0):Ir(s)}catch(s){return B&&U.exception(s,"Failed to serialize response body"),Ut(o,n,void 0)}}async function PR(e){const t=DR(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await $R(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(B&&U.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(B&&U.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function fh(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function LR(e,t){return e.length===1&&typeof e[0]!="string"?Ml(e[0],t):e.length===2?Ml(e[1],t):{}}function Ml(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?fh(n,t):Array.isArray(n)?{}:oa(n,t):{}}function DR(e){try{return e.clone()}catch(t){B&&U.exception(t,"Failed to clone response body")}}function $R(e){return new Promise((t,n)=>{const r=Wr(()=>n(new Error("Timeout while trying to read response body")),500);FR(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function FR(e){return await e.text()}async function BR(e,t,n){try{const r=HR(e,t,n),o=dh("resource.xhr",r);uh(n.replay,o)}catch(r){B&&U.exception(r,"Failed to capture xhr breadcrumb")}}function UR(e,t){const{xhr:n,input:r}=t;if(!n)return;const o=Fs(r),s=n.getResponseHeader("content-length")?lh(n.getResponseHeader("content-length")):zR(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),s!==void 0&&(e.data.response_body_size=s)}function HR(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:p}=e.data;if(!c)return null;if(!a||!us(c,n.networkDetailAllowUrls)||us(c,n.networkDetailDenyUrls)){const M=Ir(l),S=Ir(p);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:d,request:M,response:S}}const f=a[bt],h=f?oa(f.request_headers,n.networkRequestHeaders):{},m=oa(mp(a),n.networkResponseHeaders),[_,y]=n.networkCaptureBodies?ts(i,U):[void 0],[E,w]=n.networkCaptureBodies?WR(a):[void 0],I=Ut(h,l,_),b=Ut(m,p,E);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:d,request:y?cs(I,y):I,response:w?cs(b,w):b}}function WR(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return jR(e.response,e.responseType)}catch(n){t.push(n)}return B&&U.warn("Failed to get xhr response body",...t),[void 0]}function jR(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return B&&U.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return B&&U.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function zR(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Fs(n)}catch{return}}function qR(e){const t=O();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>GR(a,c,u))}catch{}}function GR(e,t,n){if(t.data)try{VR(t)&&JR(n)&&(UR(t,n),BR(t,n,e)),YR(t)&&KR(n)&&(AR(t,n),CR(t,n,e))}catch(r){B&&U.exception(r,"Error when enriching network breadcrumb")}}function VR(e){return e.category==="xhr"}function YR(e){return e.category==="fetch"}function JR(e){return e?.xhr}function KR(e){return e?.response}function XR(e){const t=O();pp(Ck(e)),Ns(TR(e)),hR(e),qR(e);const n=ER(e);a_(n),t&&(t.on("beforeSendEvent",fR(e)),t.on("afterSendEvent",uR(e)),t.on("createDsc",r=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,o)=>{const s=e.getSessionId();o?.includeReplay&&e.isEnabled()&&s&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function QR(e){try{return Promise.all($s(e,[ZR(fe.performance.memory)]))}catch{return[]}}function ZR(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function e1(e,t,n){return sy(e,t,{...n,setTimeoutImpl:Wr})}const po=$.navigator;function t1(){return/iPhone|iPad|iPod/i.test(po?.userAgent??"")||/Macintosh/i.test(po?.userAgent??"")&&po?.maxTouchPoints&&po?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function n1(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){B&&U.warn("Received replay event after session expired.");return}const o=r||!t;t=!0,e.clickDetector&&Tk(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Tc(e,n,o))return!0;if(!o)return!1;const s=e.session;if(o1(e,o),e.recordingMode==="buffer"&&s&&e.eventBuffer&&!s.dirty){const i=e.eventBuffer.getEarliestTimestamp();i&&(B&&U.log(`Updating session start time to earliest event in buffer to ${new Date(i)}`),s.started=i,e.getOptions().stickySession&&Ds(s))}return s?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function r1(e){const t=e.getOptions();return{type:G.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function o1(e,t){!t||!e.session||e.session.segmentId!==0||Tc(e,r1(e),!1)}function s1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function i1(e,t,n,r){return it(Wd(e,ys(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function a1({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function c1({client:e,scope:t,replayId:n,event:r}){const o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:o};e.emit("preprocessEvent",r,s);const i=await Gd(e.getOptions(),r,s,t,e,we());if(!i)return null;e.emit("postprocessEvent",i,s),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:d}=a?.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},i}async function u1({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:s}){const i=a1({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=O(),p=j(),f=l?.getTransport(),h=l?.getDsn();if(!l||!f||!h||!s.sampled)return Promise.resolve({});const m={type:BI,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},_=await c1({scope:p,client:l,replayId:t,event:m});if(!_)return l.recordDroppedEvent("event_processor","replay"),B&&U.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete _.sdkProcessingMetadata;const y=i1(_,i,h,l.getOptions().tunnel);let E;try{E=await f.send(y)}catch(I){const b=new Error(dc);try{b.cause=I}catch{}throw b}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new ph(E.statusCode);const w=ff({},E);if(df(w,"replay"))throw new wc(w);return E}class ph extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class wc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function hh(e,t={count:0,interval:qI}){const{recordingData:n,onError:r}=e;if(n.length)try{return await u1(e),!0}catch(o){if(o instanceof ph||o instanceof wc)throw o;if(Vd("Replays",{_retryCount:t.count}),r&&r(o),t.count>=GI){const s=new Error(`${dc} - max retries exceeded`);try{s.cause=o}catch{}throw s}return t.interval*=++t.count,new Promise((s,i)=>{Wr(async()=>{try{await hh(e,t),s(!0)}catch(a){i(a)}},t.interval)})}}const mh="__THROTTLED",l1="__SKIPPED";function d1(e,t,n){const r=new Map,o=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},s=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(o(c),s()>=t){const d=i;return i=!0,d?l1:mh}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class f1{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:UI,sessionIdleExpire:HI},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=e1(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=d1((i,a)=>iR(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),s=r?{threshold:Math.min(VI,r),timeout:r,scrollTimeout:YI,ignoreSelector:o?o.join(","):""}:void 0;if(s&&(this.clickDetector=new Sk(this,s)),B){const i=t._experiments;U.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{fe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=lt({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=lt({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{Nk(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){B&&U.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){B&&U.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",B&&U.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){B&&U.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){B&&U.log("Buffering is in progress, call `flush()` to save the replay");return}B&&U.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=_i({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){B&&U.log("Buffering is in progress, call `flush()` to save the replay");return}B&&U.infoTick("Starting replay in buffer mode");const t=_i({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Tt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:zI}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:n1(this),...t1(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{B&&U.log(`Stopping Replay${n?` triggered by ${n}`:""}`),ch(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,tR(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),B&&U.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),B&&U.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();B&&U.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&na(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${fe.location.pathname}${fe.location.hash}${fe.location.search}`,n=`${fe.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===mh){const o=lt({category:"replay.throttled"});this.addUpdate(()=>!Tc(this,{type:fk,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||_e(),n=t&&Se(t),o=(n&&D(n).data||{})[pe];if(!(!n||!o||!["route","custom"].includes(o)))return D(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Qk({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=_i({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return oh(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{fe.document.addEventListener("visibilitychange",this._handleVisibilityChange),fe.addEventListener("blur",this._handleWindowBlur),fe.addEventListener("focus",this._handleWindowFocus),fe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(XR(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=qk(this)}_removeListeners(){try{fe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),fe.removeEventListener("blur",this._handleWindowBlur),fe.removeEventListener("focus",this._handleWindowFocus),fe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||rh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){B&&U.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:G.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Dk(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all($s(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){B&&U.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await QR(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await hh({replayId:t,recordingData:s,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=O();if(r){const o=n instanceof wc?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){B&&U.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();const s=o<this._options.minReplayDuration,i=o>this._options.maxReplayDuration+5e3;if(s||i){B&&U.log(`Session duration (${Math.floor(o/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&B&&U.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ds(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{const c=s1(a.target),u=n.join(",");return c?.matches(u)}))return!1;const r=t.length,o=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=o&&r>o;if(r>s||i){const a=lt({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function dr(e,t){return[...e,...t].join(",")}function p1({mask:e,unmask:t,block:n,unblock:r,ignore:o}){const s=["base","iframe[srcdoc]:not([src])"],i=dr(e,[".sentry-mask","[data-sentry-mask]"]),a=dr(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:dr(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:dr(r,[]),ignoreSelector:dr(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function h1({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:s}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const Nl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',m1=["content-length","content-type","accept"];let Ol=!1;const tx=(e=>new g1(e));class g1{constructor({flushMinDelay:t=WI,flushMaxDelay:n=jI,minReplayDuration:r=JI,maxReplayDuration:o=dl,stickySession:s=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:y=[],networkCaptureBodies:E=!0,networkRequestHeaders:w=[],networkResponseHeaders:I=[],mask:b=[],maskAttributes:M=["title","placeholder","aria-label"],unmask:S=[],block:x=[],unblock:F=[],ignore:v=[],maskFn:P,beforeAddRecordingEvent:k,beforeErrorSampling:A,onError:H}={}){this.name="Replay";const X=p1({mask:b,unmask:S,block:x,unblock:F,ignore:v});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(J,re,T)=>h1({maskAttributes:M,maskAllText:u,privacyOptions:X,key:J,value:re,el:T}),...X,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:J=>{try{J.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,KI),maxReplayDuration:Math.min(o,dl),stickySession:s,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:_,networkDetailDenyUrls:y,networkCaptureBodies:E,networkRequestHeaders:Pl(w),networkResponseHeaders:Pl(I),beforeAddRecordingEvent:k,beforeErrorSampling:A,onError:H,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Nl}`:Nl,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Yo())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Ol}set _isInitialized(t){Ol=t}afterAllSetup(t){!Yo()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=_1(this._initialOptions,t);this._replay=new f1({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function _1(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=pn(n.replaysSessionSampleRate),s=pn(n.replaysOnErrorSampleRate);return o==null&&s==null&&Vt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),s!=null&&(r.errorSampleRate=s),r}function Pl(e){return[...m1,...e.map(t=>t.toLowerCase())]}function nx(){return O()?.getIntegrationByName("Replay")}var y1=Object.defineProperty,S1=(e,t,n)=>t in e?y1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ll=(e,t,n)=>S1(e,typeof t!="symbol"?t+"":t,n);class b1{constructor(){Ll(this,"idNodeMap",new Map),Ll(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function E1(){return new b1}function v1(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function sa(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:sa(e.parentNode,t,n,r+1)}function Dl(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(v1(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const An=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let $l={map:{},getId(){return console.error(An),-1},getNode(){return console.error(An),null},removeNodeFromMap(){console.error(An)},has(){return console.error(An),!1},reset(){console.error(An)}};typeof window<"u"&&window.Proxy&&window.Reflect&&($l=new Proxy($l,{get(e,t,n){return t==="map"&&console.error(An),Reflect.get(e,t,n)}}));function kc(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(i){_h(()=>{n.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>kc(e,t,s||{},!0)}function Rc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function T1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Bs(e,t,n,r,o){if(!e)return!1;const s=T1(e);if(!s)return!1;const i=Dl(t,n),a=sa(s,i);let c=-1;return a<0?!1:(r&&(c=sa(s,Dl(null,r))),a>-1&&c<0?!0:a<c)}const Fl={};function gh(e){const t=Fl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const s=o.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(o)}catch{}return Fl[e]=r.bind(window)}function en(...e){return gh("requestAnimationFrame")(...e)}function _h(...e){return gh("setTimeout")(...e)}var Xn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Xn||{});let Mo;function I1(e){Mo=e}const yi=e=>Mo?(...n)=>{try{return e(...n)}catch(r){if(Mo&&Mo(r)===!0)return()=>{};throw r}}:e;var Pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ho=0;ho<Pn.length;ho++)w1[Pn.charCodeAt(ho)]=ho;var k1=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Pn[t[n]>>2],o+=Pn[(t[n]&3)<<4|t[n+1]>>4],o+=Pn[(t[n+1]&15)<<2|t[n+2]>>6],o+=Pn[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o};const Bl=new Map;function R1(e,t){let n=Bl.get(e);return n||(n=new Map,Bl.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const yh=(e,t,n)=>{if(!e||!(bh(e,t)||typeof e=="object"))return;const r=e.constructor.name,o=R1(n,r);let s=o.indexOf(e);return s===-1&&(s=o.length,o.push(e)),s};function No(e,t,n){if(e instanceof Array)return e.map(r=>No(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,o=k1(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[No(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[No(e.data,t,n),e.width,e.height]};if(bh(e,t)||typeof e=="object"){const r=e.constructor.name,o=yh(e,t,n);return{rr_type:r,index:o}}}}return e}const Sh=(e,t,n)=>e.map(r=>No(r,t,n)),bh=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function C1(e,t,n,r,o){const s=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Rc(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return Bs(this.canvas,n,r,o,!0)||_h(()=>{const l=Sh(d,t,this);e(this.canvas,{type:Xn["2D"],property:a,args:l})},0),u.apply(this,d)}});s.push(c)}catch{const c=kc(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Xn["2D"],property:a,args:[u],setter:!0})}});s.push(c)}return()=>{s.forEach(a=>a())}}function A1(e){return e==="experimental-webgl"?"webgl":e}function Ul(e,t,n,r,o){const s=[];try{const i=Rc(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Bs(this,t,n,r,!0)){const d=A1(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});s.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(i=>i())}}function Hl(e,t,n,r,o,s,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=Rc(e,d,function(p){return function(...f){const h=p.apply(this,f);if(yh(h,a,this),"tagName"in this.canvas&&!Bs(this.canvas,r,o,s,!0)){const m=Sh(f,a,this),_={type:t,property:d,args:m};n(this.canvas,_)}return h}});c.push(l)}catch{const l=kc(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(l)}return c}function x1(e,t,n,r,o,s){const i=[];return i.push(...Hl(t.WebGLRenderingContext.prototype,Xn.WebGL,e,n,r,o,s,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Hl(t.WebGL2RenderingContext.prototype,Xn.WebGL2,e,n,r,o,s,t)),()=>{i.forEach(a=>a())}}const M1='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function N1(){const e=new Blob([M1]);return URL.createObjectURL(e)}class O1{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};const{enableManualSnapshot:n,sampling:r="all",win:o,recordCanvas:s,errorHandler:i}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,i&&I1(i),(s&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(o),!n&&yi(()=>{s&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),s&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:s,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}yi(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,o,s),i&&typeof n=="number"){const c=Ul(t,r,o,s,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n?.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}en(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){const t=new Worker(N1());return t.onmessage=n=>{const r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;const{base64:s,type:i,width:a,height:c}=r;this.mutationCb({id:o,type:Xn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:s}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;const n=r=>{this.takeSnapshot(r,!1),t=en(n)};t=en(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,o){const s=Ul(t,n,r,o,!1),i=C1(this.processMutation.bind(this),t,n,r,o),a=x1(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{s(),i(),a()})}getCanvasElements(t,n,r){const o=[],s=i=>{i.querySelectorAll("canvas").forEach(a=>{Bs(a,t,n,r)||o.push(a)})};for(const i of this.windows){const a=i.deref();let c;try{c=a&&a.document}catch{}c&&s(c)}for(const i of this.shadowDoms){const a=i.deref();a&&s(a)}return o}takeSnapshot(t,n,r){const{sampling:o,blockClass:s,blockSelector:i,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(o==="all"?2:o||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(s,i,a)).forEach(h=>{const m=this.mirror.getId(h);if(!(!this.mirror.hasNode(h)||!h.width||!h.height||this.snapshotInProgressMap.get(m))){if(this.snapshotInProgressMap.set(m,!0),!n&&["webgl","webgl2"].includes(h.__context)){const _=h.getContext(h.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(h).then(_=>{this.worker?.postMessage({id:m,bitmap:_,width:h.width,height:h.height,dataURLOptions:c,maxCanvasSize:u},[_])}).catch(_=>{yi(()=>{throw this.snapshotInProgressMap.delete(m),_})()})}}),!0)}startPendingCanvasMutationFlusher(){en(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,en(t)};en(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),en(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const o=r.map(i=>{const{type:a,...c}=i;return c}),{type:s}=r[0];this.mutationCb({id:n,type:s,commands:o}),this.pendingCanvasMutations.delete(t)}}try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}E1();var Wl;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Wl||(Wl={}));const jl={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},P1="ReplayCanvas",mo=1280,L1=((e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,mo):mo,n?Math.min(n,mo):mo]};let o;const s=new Promise(i=>o=i);return{name:P1,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new O1({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...jl[i]||jl.medium}},async snapshot(i,a){(await s).snapshot(i,a)}}}),rx=L1;function D1(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Eh(e){try{return new URL(e,L.location.origin).href}catch{return}}function $1(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function vh(e){try{return new Headers(e)}catch{return}}const zl=new WeakMap,Si=new Map,Th={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function F1(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:s,enableHTTPTimings:i,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...Th,...t},d=typeof s=="function"?s:h=>!0,l=h=>B1(h,a),p={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(m=>{if(m.op==="http.client"){const _=Si.get(m.span_id);_&&(m.timestamp=_/1e3,Si.delete(m.span_id))}}),h)),o&&eE(h=>{if(h.response){const m=zl.get(h.response);m&&h.endTimestamp&&Si.set(m,h.endTimestamp)}}),qa(h=>{const m=mS(h,d,l,p,{propagateTraceparent:f,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&zl.set(h.response,h.fetchData.__span),m){const _=Eh(h.fetchData.url),y=_?un(_).host:void 0;m.setAttributes({"http.url":_,"server.address":y}),i&&ql(m),c?.(m,{headers:h.headers})}})),r&&cc(h=>{const m=U1(h,d,l,p,f,u);m&&(i&&ql(m),c?.(m,{headers:vh(h.xhr.__sentry_xhr_v3__?.request_headers)}))})}function ql(e){const{url:t}=D(e).data;if(!t||typeof t!="string")return;const n=yn("resource",({entries:r})=>{r.forEach(o=>{$1(o)&&o.name.endsWith(t)&&(e.setAttributes(fp(o)),setTimeout(n))})})}function B1(e,t){const n=bn();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}const s=r.origin===o;return t?nt(r.toString(),t)||s&&nt(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?nt(e,t):r}}function U1(e,t,n,r,o,s){const i=e.xhr,a=i?.[bt];if(!i||i.__sentry_own_request__||!a)return;const{url:c,method:u}=a,d=Ke()&&t(c);if(e.endTimestamp&&d){const y=i.__sentry_xhr_span_id__;if(!y)return;const E=r[y];E&&a.status_code!==void 0&&(Do(E,a.status_code),E.end(),s?.(E,{headers:vh(mp(i)),error:e.error}),delete r[y]);return}const l=Eh(c),p=un(l||c),f=hf(c),h=!!_e(),m=d&&h?rt({name:`${u} ${f}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":l,"server.address":p?.host,[Y]:"auto.http.browser",[Te]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new Ct;i.__sentry_xhr_span_id__=m.spanContext().spanId,r[i.__sentry_xhr_span_id__]=m,n(c)&&H1(i,Ke()&&h?m:void 0,o);const _=O();return _&&_.emit("beforeOutgoingRequestSpan",m,e),m}function H1(e,t,n){const{"sentry-trace":r,baggage:o,traceparent:s}=_f({span:t,propagateTraceparent:n});r&&W1(e,r,o,s)}function W1(e,t,n,r){const o=e.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!o?.traceparent&&e.setRequestHeader("traceparent",r),n){const s=o?.baggage;(!s||!D1(s))&&e.setRequestHeader("baggage",n)}}catch{}}function j1(){L.document?L.document.addEventListener("visibilitychange",()=>{const e=_e();if(!e)return;const t=Se(e);if(L.document.hidden&&t){const n="cancelled",{op:r,status:o}=D(t);N&&g.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:se,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):N&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const z1=3600,Ih="sentry_previous_trace",q1="sentry.previous_trace";function G1(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let o=r?J1():void 0;e.on("spanStart",i=>{if(Se(i)!==i)return;const a=j().getPropagationContext();o=V1(o,i,a),r&&Y1(o)});let s=!0;n&&e.on("beforeSampling",i=>{if(!o)return;const a=j(),c=a.getPropagationContext();if(s&&c.parentSpanId){s=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(ia(o.spanContext))},sampleRand:o.sampleRand}),i.parentSampled=ia(o.spanContext),i.parentSampleRate=o.sampleRate,i.spanAttributes={...i.spanAttributes,[vd]:o.sampleRate}})}function V1(e,t,n){const r=D(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[ha])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return s;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=z1&&(N&&g.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[$m]:"previous_trace"}}),t.setAttribute(q1,`${i.traceId}-${i.spanId}-${ia(i)?1:0}`)),s)}function Y1(e){try{L.sessionStorage.setItem(Ih,JSON.stringify(e))}catch(t){N&&g.warn("Could not store previous trace in sessionStorage",t)}}function J1(){try{const e=L.sessionStorage?.getItem(Ih);return JSON.parse(e)}catch{return}}function ia(e){return e.traceFlags===1}const K1="BrowserTracing",X1={...Eo,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...Th},qr=((e={})=>{const t={name:void 0,source:void 0},n=L.document,{enableInp:r,enableElementTiming:o,enableLongTask:s,enableLongAnimationFrame:i,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:h,traceFetch:m,traceXHR:_,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:E,enableHTTPTimings:w,ignoreResourceSpans:I,ignorePerformanceApiSpans:b,instrumentPageLoad:M,instrumentNavigation:S,detectRedirects:x,linkPreviousTrace:F,consistentTraceSampling:v,enableReportPageLoaded:P,onRequestSpanStart:k,onRequestSpanEnd:A}={...X1,...e};let H,X,J;function re(T,q,R=!0){const K=q.op==="pageload",ie=q.name,te=d?d(q):q,Ee=te.attributes||{};if(ie!==te.name&&(Ee[pe]="custom",te.attributes=Ee),!R){const De=En();rt({...te,startTime:De}).end(De);return}t.name=te.name,t.source=Ee[pe];const Le=zd(te,{idleTimeout:l,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:K,beforeSpanEnd:De=>{H?.(),RT(De,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:I,ignorePerformanceApiSpans:b}),Vl(T,void 0);const Be=j(),at=Be.getPropagationContext();Be.setPropagationContext({...at,traceId:Le.spanContext().traceId,sampled:Xt(Le),dsc:st(De)}),K&&(J=void 0)},trimIdleSpanEndTimestamp:!P});K&&P&&(J=Le),Vl(T,Le);function Nt(){n&&["interactive","complete"].includes(n.readyState)&&T.emit("idleSpanEnableAutoFinish",Le)}K&&!P&&n&&(n.addEventListener("readystatechange",()=>{Nt()}),Nt())}return{name:K1,setup(T){if(ag(),H=bT({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:T}),r&&QT(),o&&BT(),i&&$.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?vT():s&&ET(),a&&TT(),x&&n){const R=()=>{X=he()};addEventListener("click",R,{capture:!0}),addEventListener("keydown",R,{capture:!0,passive:!0})}function q(){const R=wr(T);R&&!D(R).timestamp&&(N&&g.log(`[Tracing] Finishing current active span with op: ${D(R).op}`),R.setAttribute(yr,"cancelled"),R.end())}T.on("startNavigationSpan",(R,K)=>{if(O()!==T)return;if(K?.isRedirect){N&&g.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),re(T,{op:"navigation.redirect",...R},!1);return}X=void 0,q(),we().setPropagationContext({traceId:ht(),sampleRand:Math.random(),propagationSpanId:Ke()?void 0:vt()});const ie=j();ie.setPropagationContext({traceId:ht(),sampleRand:Math.random(),propagationSpanId:Ke()?void 0:vt()}),ie.setSDKProcessingMetadata({normalizedRequest:void 0}),re(T,{op:"navigation",...R,parentSpan:null,forceTransaction:!0})}),T.on("startPageLoadSpan",(R,K={})=>{if(O()!==T)return;q();const ie=K.sentryTrace||Gl("sentry-trace"),te=K.baggage||Gl("baggage"),Ee=Md(ie,te),Le=j();Le.setPropagationContext(Ee),Ke()||(Le.getPropagationContext().propagationSpanId=vt()),Le.setSDKProcessingMetadata({normalizedRequest:Xa()}),re(T,{op:"pageload",...R})}),T.on("endPageloadSpan",()=>{P&&J&&(J.setAttribute(yr,"reportPageLoaded"),J.end())})},afterAllSetup(T){let q=bn();if(F!=="off"&&G1(T,{linkPreviousTrace:F,consistentTraceSampling:v}),L.location){if(M){const R=Pe();Gr(T,{name:L.location.pathname,startTime:R?R/1e3:void 0,attributes:{[pe]:"url",[Y]:"auto.pageload.browser"}})}S&&Ns(({to:R,from:K})=>{if(K===void 0&&q?.indexOf(R)!==-1){q=void 0;return}q=void 0;const ie=xa(R),te=wr(T),Ee=te&&x&&Z1(te,X);Vr(T,{name:ie?.pathname||L.location.pathname,attributes:{[pe]:"url",[Y]:"auto.navigation.browser"}},{url:R,isRedirect:Ee})})}h&&j1(),a&&Q1(T,l,p,f,t),r&&t0(),F1(T,{traceFetch:m,traceXHR:_,trackFetchStreamPerformance:y,tracePropagationTargets:T.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:E,enableHTTPTimings:w,onRequestSpanStart:k,onRequestSpanEnd:A})}}});function Gr(e,t,n){e.emit("startPageLoadSpan",t,n),j().setTransactionName(t.name);const r=wr(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Vr(e,t,n){const{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});const s=j();return s.setTransactionName(t.name),r&&!o&&s.setSDKProcessingMetadata({normalizedRequest:{...Xa(),url:r}}),wr(e)}function Gl(e){return L.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Q1(e,t,n,r,o){const s=L.document;let i;const a=()=>{const c="ui.action.click",u=wr(e);if(u){const d=D(u).op;if(["navigation","pageload"].includes(d)){N&&g.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(yr,"interactionInterrupted"),i.end(),i=void 0),!o.name){N&&g.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}i=zd({name:o.name,op:c,attributes:{[pe]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};s&&addEventListener("click",a,{capture:!0})}const wh="_sentry_idleSpan";function wr(e){return e[wh]}function Vl(e,t){Re(e,wh,t)}const Yl=1.5;function Z1(e,t){const n=D(e),r=En(),o=n.start_timestamp;return!(r-o>Yl||t&&r-t<=Yl)}function ox(e=O()){e?.emit("endPageloadSpan")}function sx(e){const t=_e();if(t===e)return;const n=j();e.end=new Proxy(e.end,{apply(r,o,s){return Rt(n,t),Reflect.apply(r,o,s)}}),Rt(n,e)}function Qn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function eC(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Qn(n);return o=>r.then(s=>o(s.transaction(t,"readwrite").objectStore(t)))}function Cc(e){return Qn(e.getAllKeys())}function tC(e,t,n){return e(r=>Cc(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Qn(r.transaction)}))}function nC(e,t,n){return e(r=>Cc(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Qn(r.transaction)}))}function rC(e){return e(t=>Cc(t).then(n=>{const r=n[0];if(r!=null)return Qn(t.get(r)).then(o=>(t.delete(r),Qn(t.transaction).then(()=>o)))}))}function oC(e){let t;function n(){return t==null&&(t=eC(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const o=await Uo(r);await tC(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const o=await Uo(r);await nC(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await rC(n());if(r)return yg(r)}catch{}}}}function sC(e){return t=>{const n=e({...t,createStore:oC});return L.addEventListener("online",async r=>{await n.flush()}),n}}function ix(e=gp){return sC(V_(e))}const Jl=1e6,iC="window"in $&&$.window===$&&typeof importScripts>"u",Ht=String(0),ls=iC?"main":"worker",ds=L.navigator;let kh="",Rh="",Ch="",aa=ds?.userAgent||"",Ah="";const aC=ds?.language||ds?.languages?.[0]||"";function cC(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Kl=ds?.userAgentData;cC(Kl)&&Kl.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(kh=e.platform||"",Ch=e.architecture||"",Ah=e.model||"",Rh=e.platformVersion||"",e.fullVersionList?.length){const t=e.fullVersionList[e.fullVersionList.length-1];aa=`${t.brand} ${t.version}`}}).catch(e=>{});function uC(e){return!("thread_metadata"in e)}function lC(e){return uC(e)?gC(e):e}function dC(e){const t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&N&&g.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function fC(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=dC(r),s=lC(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:he()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:he()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||_s,runtime:{name:"javascript",version:L.navigator.userAgent},os:{name:kh,version:Rh,build_number:aa},device:{locale:aC,model:Ah,manufacturer:aa,architecture:Ch,is_emulator:!1},debug_meta:{images:Mh(n.resources)},profile:s,transactions:[{name:r.transaction||"",id:r.event_id||Ie(),trace_id:o,active_thread_id:Ht,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function pC(e,t,n){if(e==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${e} instead.`);const r=mC(e),o=t.getOptions(),s=t.getSdkMetadata?.()?.sdk;return{chunk_id:Ie(),client_sdk:{name:s?.name??"sentry.javascript.browser",version:s?.version??"0.0.0"},profiler_id:n||Ie(),platform:"javascript",version:"2",release:o.release??"",environment:o.environment??"production",debug_meta:{images:Mh(e.resources)},profile:r}}function hC(e){try{if(!e||typeof e!="object")return{reason:"chunk is not an object"};const t=r=>typeof r=="string"&&/^[a-f0-9]{32}$/.test(r);if(!t(e.profiler_id))return{reason:"missing or invalid profiler_id"};if(!t(e.chunk_id))return{reason:"missing or invalid chunk_id"};if(!e.client_sdk)return{reason:"missing client_sdk metadata"};const n=e.profile;return n?!Array.isArray(n.frames)||!n.frames.length?{reason:"profile has no frames"}:!Array.isArray(n.stacks)||!n.stacks.length?{reason:"profile has no stacks"}:!Array.isArray(n.samples)||!n.samples.length?{reason:"profile has no samples"}:{valid:!0}:{reason:"missing profile data"}}catch(t){return{reason:`unknown validation error: ${t}`}}}function mC(e){const t=[];for(let a=0;a<e.frames.length;a++){const c=e.frames[a];c&&(t[a]={function:c.name,abs_path:typeof c.resourceId=="number"?e.resources[c.resourceId]:void 0,lineno:c.line,colno:c.column})}const n=[];for(let a=0;a<e.stacks.length;a++){const c=e.stacks[a];if(!c)continue;const u=[];let d=c;for(;d;)u.push(d.frameId),d=d.parentId===void 0?void 0:e.stacks[d.parentId];n[a]=u}const r=Pe(),o=typeof performance.timeOrigin=="number"?performance.timeOrigin:r||0,s=o-(r||o),i=[];for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(!c)continue;const u=(o+(c.timestamp-s))/1e3;i[a]={stack_id:c.stackId??0,thread_id:Ht,timestamp:u}}return{frames:t,stacks:n,samples:i,thread_metadata:{[Ht]:{name:ls}}}}function xh(e){return D(e).op==="pageload"}function gC(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Ht]:{name:ls}}},o=e.samples[0];if(!o)return r;const s=o.timestamp,i=Pe(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:i||0,c=a-(i||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-s)*Jl).toFixed(0),stack_id:t,thread_id:Ht};return}let l=e.stacks[u.stackId];const p=[];for(;l;){p.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const f={elapsed_since_start_ns:((u.timestamp+c-s)*Jl).toFixed(0),stack_id:n,thread_id:Ht};r.stacks[n]=p,r.samples[d]=f,n++}),r}function _C(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function yC(e){const t=[];return hn(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++)n[o]?.contexts?.profile?.profile_id&&t.push(n[o])}),t}function Mh(e){const r=O()?.getOptions()?.stackParser;return r?Yg(r,e):[]}function Nh(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(N&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(N&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function SC(e){return e.samples.length<2?(N&&g.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(N&&g.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Ac=!1;const Oh=3e4;function bC(e){return typeof e=="function"}function Ph(){const e=L.Profiler;if(!bC(e)){N&&g.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Oh/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{N&&(g.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),g.log("[Profiling] Disabling profiling for current user session.")),Ac=!0}}function Xl(e){if(Ac)return N&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return N&&g.log("[Profiling] Discarding profile because root span was not sampled."),!1;const n=O()?.getOptions();if(!n)return N&&g.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Nh(r)?r?(r===!0?!0:Math.random()<r)?!0:(N&&g.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(N&&g.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(N&&g.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function EC(e){if(Ac)return N&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(e.profileLifecycle!=="trace")return!1;const t=e.profileSessionSampleRate;return Nh(t)?t?Math.random()<=t:(N&&g.log("[Profiling] Discarding profile because profileSessionSampleRate is not defined or set to 0"),!1):(N&&g.warn("[Profiling] Discarding profile because of invalid profileSessionSampleRate."),!1)}function go(e){return typeof e.profilesSampleRate<"u"}function vC(e,t,n,r){return SC(n)?fC(e,t,n,r):null}const sn=new Map;function TC(){return sn.size}function IC(e){const t=sn.get(e);return t&&sn.delete(e),t}function wC(e,t){if(sn.set(e,t),sn.size>30){const n=sn.keys().next().value;n!==void 0&&sn.delete(n)}}function kC(e){return!e?.contexts?.profile||!e.contexts||(e.contexts.trace={...e.contexts?.trace??{},data:{...e.contexts?.trace?.data??{},"thread.id":Ht,"thread.name":ls}},e.spans?.forEach(t=>{t.data={...t.data||{},"thread.id":Ht,"thread.name":ls}})),e}const RC=6e4,CC=3e5;class AC{constructor(){this._client=void 0,this._profiler=void 0,this._chunkTimer=void 0,this._activeRootSpanIds=new Set,this._rootSpanTimeouts=new Map,this._profilerId=void 0,this._isRunning=!1,this._sessionSampled=!1}initialize(t,n){this._profilerId=Ie(),N&&g.log("[Profiling] Initializing profiler (lifecycle='trace')."),this._client=t,this._sessionSampled=n,t.on("spanStart",r=>{if(!this._sessionSampled){N&&g.log("[Profiling] Session not sampled because of negative sampling decision.");return}if(r!==Se(r))return;if(!r.isRecording()){N&&g.log("[Profiling] Discarding profile because root span was not sampled.");return}fn().setContext("profile",{profiler_id:this._profilerId});const o=r.spanContext().spanId;if(!o||this._activeRootSpanIds.has(o))return;this._activeRootSpanIds.add(o);const s=this._activeRootSpanIds.size,i=setTimeout(()=>{this._onRootSpanTimeout(o)},CC);this._rootSpanTimeouts.set(o,i),s===1&&(N&&g.log(`[Profiling] Root span with ID ${o} started. Will continue profiling for as long as there are active root spans (currently: ${s}).`),this.start())}),t.on("spanEnd",r=>{if(!this._sessionSampled)return;const o=r.spanContext().spanId;if(!o||!this._activeRootSpanIds.has(o))return;this._activeRootSpanIds.delete(o);const s=this._activeRootSpanIds.size;N&&g.log(`[Profiling] Root span with ID ${o} ended. Will continue profiling for as long as there are active root spans (currently: ${s}).`),s===0&&(this._collectCurrentChunk().catch(i=>{N&&g.error("[Profiling] Failed to collect current profile chunk on `spanEnd`:",i)}),this.stop())})}notifyRootSpanActive(t){if(!this._sessionSampled)return;const n=t.spanContext().spanId;if(!n||this._activeRootSpanIds.has(n))return;this._activeRootSpanIds.add(n);const r=this._activeRootSpanIds.size;r===1&&(N&&g.log("[Profiling] Detected already active root span during setup. Active root spans now:",r),this.start())}start(){if(!this._isRunning){if(this._isRunning=!0,N&&g.log("[Profiling] Started profiling with profile ID:",this._profilerId),this._startProfilerInstance(),!this._profiler){N&&g.log("[Profiling] Stopping trace lifecycle profiling."),this._resetProfilerInfo();return}this._startPeriodicChunking()}}stop(){this._isRunning&&(this._isRunning=!1,this._chunkTimer&&(clearTimeout(this._chunkTimer),this._chunkTimer=void 0),this._clearAllRootSpanTimeouts(),this._collectCurrentChunk().catch(t=>{N&&g.error("[Profiling] Failed to collect current profile chunk on `stop()`:",t)}))}_resetProfilerInfo(){this._isRunning=!1,fn().setContext("profile",{})}_clearAllRootSpanTimeouts(){this._rootSpanTimeouts.forEach(t=>clearTimeout(t)),this._rootSpanTimeouts.clear()}_startProfilerInstance(){if(this._profiler?.stopped===!1)return;const t=Ph();if(!t){N&&g.log("[Profiling] Failed to start JS Profiler in trace lifecycle.");return}this._profiler=t}_startPeriodicChunking(){this._isRunning&&(this._chunkTimer=setTimeout(()=>{if(this._collectCurrentChunk().catch(t=>{N&&g.error("[Profiling] Failed to collect current profile chunk during periodic chunking:",t)}),this._isRunning){if(this._startProfilerInstance(),!this._profiler){this._resetProfilerInfo();return}this._startPeriodicChunking()}},RC))}_onRootSpanTimeout(t){if(!this._rootSpanTimeouts.has(t)||(this._rootSpanTimeouts.delete(t),!this._activeRootSpanIds.has(t)))return;N&&g.log(`[Profiling] Reached 5-minute timeout for root span ${t}. You likely started a manual root span that never called \`.end()\`.`),this._activeRootSpanIds.delete(t),this._activeRootSpanIds.size===0&&this.stop()}async _collectCurrentChunk(){const t=this._profiler;if(this._profiler=void 0,!!t)try{const n=await t.stop(),r=pC(n,this._client,this._profilerId),o=hC(r);if("reason"in o){N&&g.log("[Profiling] Discarding invalid profile chunk (this is probably a bug in the SDK):",o.reason);return}this._sendProfileChunk(r),N&&g.log("[Profiling] Collected browser profile chunk.")}catch(n){N&&g.log("[Profiling] Error while stopping JS Profiler for chunk:",n)}}_sendProfileChunk(t){const n=this._client,r=ys(n.getSdkMetadata?.()),o=n.getDsn(),s=n.getOptions().tunnel,i=it({event_id:Ie(),sent_at:new Date().toISOString(),...r&&{sdk:r},...!!s&&o&&{dsn:Mt(o)}},[[{type:"profile_chunk"},t]]);n.sendEnvelope(i).then(null,a=>{N&&g.error("Error while sending profile chunk envelope:",a)})}}function Ql(e){let t;xh(e)&&(t=he()*1e3);const n=Ph();if(!n)return;N&&g.log(`[Profiling] started profiling span: ${D(e).description}`);const r=Ie();let o=null;j().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n){if(o){N&&g.log("[Profiling] profile for:",D(e).description,"already exists, returning early");return}return n.stop().then(u=>{if(i&&(L.clearTimeout(i),i=void 0),N&&g.log(`[Profiling] stopped profiling of span: ${D(e).description}`),!u){N&&g.log(`[Profiling] profiler returned null profile for: ${D(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}o=u,wC(r,u)}).catch(u=>{N&&g.log("[Profiling] error while stopping profiler:",u)})}}let i=L.setTimeout(()=>{N&&g.log("[Profiling] max profile duration elapsed, stopping profiling for:",D(e).description),s()},Oh);const a=e.end.bind(e);function c(){return e?(s().then(()=>{a()},()=>{a()}),e):a()}e.end=c}const xC="BrowserProfiling",MC=(()=>({name:xC,setup(e){const t=e.getOptions();if(!go(t)&&!t.profileLifecycle&&(t.profileLifecycle="manual"),go(t)&&!t.profilesSampleRate){N&&g.log("[Profiling] Profiling disabled, no profiling options found.");return}const n=_e(),r=n&&Se(n);if(go(t)&&t.profileSessionSampleRate!==void 0&&N&&g.warn("[Profiling] Both legacy profiling (`profilesSampleRate`) and UI profiling settings are defined. `profileSessionSampleRate` has no effect when legacy profiling is enabled."),go(t))r&&xh(r)&&Xl(r)&&Ql(r),e.on("spanStart",o=>{o===Se(o)&&Xl(o)&&Ql(o)}),e.on("beforeEnvelope",o=>{if(!TC())return;const s=yC(o);if(!s.length)return;const i=[];for(const a of s){const c=a?.contexts,u=c?.profile?.profile_id,d=c?.profile?.start_timestamp;if(typeof u!="string"){N&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!u){N&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}c?.profile&&delete c.profile;const l=IC(u);if(!l){N&&g.log(`[Profiling] Could not retrieve profile for span: ${u}`);continue}const p=vC(u,d,l,a);p&&i.push(p)}_C(o,i)});else{const o=EC(t);if(o||N&&g.log("[Profiling] Session not sampled. Skipping lifecycle profiler initialization."),t.profileLifecycle==="trace"){if(!Ke(t)){N&&g.warn("[Profiling] `profileLifecycle` is 'trace' but tracing is disabled. Set a `tracesSampleRate` or `tracesSampler` to enable span tracing.");return}const i=new AC;i.initialize(e,o),r&&i.notifyRootSpanActive(r),L.setTimeout(()=>{const a=_e(),c=a&&Se(a);c&&i.notifyRootSpanActive(c)},0)}}},processEvent(e){return kC(e)}})),ax=MC,cx=()=>({name:"LaunchDarkly",processEvent(e,t,n){return rr(e)}});function ux(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{mn(e,t.value),gn(e,t.value)}}}const lx=()=>({name:"OpenFeature",processEvent(e,t,n){return rr(e)}});class dx{after(t,n){mn(n.flagKey,n.value),gn(n.flagKey,n.value)}error(t,n,r){mn(t.flagKey,t.defaultValue),gn(t.flagKey,t.defaultValue)}}const fx=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;Me(t,"isEnabled",NC)},processEvent(t,n,r){return rr(t)}});function NC(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(mn(n,r),gn(n,r)):N&&g.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const px=(({growthbookClass:e})=>hS({growthbookClass:e})),hx=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{mn(n.gate.name,n.gate.value),gn(n.gate.name,n.gate.value)})},processEvent(t,n,r){return rr(t)}});async function mx(){const e=O();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await Og(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}const OC="WebWorker",gx=({worker:e})=>({name:OC,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>Zl(t))},addWorker:t=>Zl(t)});function Zl(e){e.addEventListener("message",t=>{LC(t.data)&&(t.stopImmediatePropagation(),t.data._sentryDebugIds&&(N&&g.log("Sentry debugId web worker message received",t.data),L._sentryDebugIds={...t.data._sentryDebugIds,...L._sentryDebugIds}),t.data._sentryWorkerError&&(N&&g.log("Sentry worker rejection message received",t.data._sentryWorkerError),PC(t.data._sentryWorkerError)))})}function PC(e){const t=O();if(!t)return;const n=t.getOptions().stackParser,r=t.getOptions().attachStacktrace,o=e.reason,s=qt(o)?Sp(o):As(n,o,void 0,r,!0);s.level="error",e.filename&&(s.contexts={...s.contexts,worker:{filename:e.filename}}),Mr(s,{originalException:o,mechanism:{handled:!1,type:"auto.browser.web_worker.onunhandledrejection"}}),N&&g.log("Captured worker unhandled rejection",o)}function _x({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0}),e.addEventListener("unhandledrejection",t=>{const r={reason:yp(t),filename:e.location?.href};e.postMessage({_sentryMessage:!0,_sentryWorkerError:r}),N&&g.log("[Sentry Worker] Forwarding unhandled rejection to parent",r)}),N&&g.log("[Sentry Worker] Registered worker with unhandled rejection handling")}function LC(e){if(!dt(e)||e._sentryMessage!==!0)return!1;const t="_sentryDebugIds"in e,n="_sentryWorkerError"in e;return!(!t&&!n||t&&!(dt(e._sentryDebugIds)||e._sentryDebugIds===void 0)||n&&!dt(e._sentryWorkerError))}function yx(e){const t={...e};return gf(t,"react"),Vd("react",{version:ke.version}),pI(t)}function DC(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function $C(e,t){const n=new WeakSet;function r(o,s){if(!n.has(o)){if(o.cause)return n.add(o),r(o.cause,s);o.cause=s}}r(e,t)}function Lh(e,{componentStack:t},n){if(DC(ke.version)&&Et(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,$C(e,r)}return Ge(r=>(r.setContext("react",{componentStack:t}),Ce(e,n)))}function Sx(e){return(t,n)=>{const r=!!e,o=Lh(t,n,{mechanism:{handled:r,type:"auto.function.react.error_handler"}});r&&e(t,n,o)}}const Dh="ui.react.render",FC="ui.react.update",$h="ui.react.mount";var bi={exports:{}},oe={};var ed;function BC(){if(ed)return oe;ed=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,l=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function w(b){if(typeof b=="object"&&b!==null){var M=b.$$typeof;switch(M){case t:switch(b=b.type,b){case c:case u:case r:case s:case o:case l:return b;default:switch(b=b&&b.$$typeof,b){case a:case d:case h:case f:case i:return b;default:return M}}case n:return M}}}function I(b){return w(b)===u}return oe.AsyncMode=c,oe.ConcurrentMode=u,oe.ContextConsumer=a,oe.ContextProvider=i,oe.Element=t,oe.ForwardRef=d,oe.Fragment=r,oe.Lazy=h,oe.Memo=f,oe.Portal=n,oe.Profiler=s,oe.StrictMode=o,oe.Suspense=l,oe.isAsyncMode=function(b){return I(b)||w(b)===c},oe.isConcurrentMode=I,oe.isContextConsumer=function(b){return w(b)===a},oe.isContextProvider=function(b){return w(b)===i},oe.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},oe.isForwardRef=function(b){return w(b)===d},oe.isFragment=function(b){return w(b)===r},oe.isLazy=function(b){return w(b)===h},oe.isMemo=function(b){return w(b)===f},oe.isPortal=function(b){return w(b)===n},oe.isProfiler=function(b){return w(b)===s},oe.isStrictMode=function(b){return w(b)===o},oe.isSuspense=function(b){return w(b)===l},oe.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===u||b===s||b===o||b===l||b===p||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===f||b.$$typeof===i||b.$$typeof===a||b.$$typeof===d||b.$$typeof===_||b.$$typeof===y||b.$$typeof===E||b.$$typeof===m)},oe.typeOf=w,oe}var td;function UC(){return td||(td=1,bi.exports=BC()),bi.exports}var Ei,nd;function HC(){if(nd)return Ei;nd=1;var e=UC(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=o;function i(h){return e.isMemo(h)?o:s[h.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,p=Object.prototype;function f(h,m,_){if(typeof m!="string"){if(p){var y=l(m);y&&y!==p&&f(h,y,_)}var E=c(m);u&&(E=E.concat(u(m)));for(var w=i(h),I=i(m),b=0;b<E.length;++b){var M=E[b];if(!n[M]&&!(_&&_[M])&&!(I&&I[M])&&!(w&&w[M])){var S=d(m,M);try{a(h,M,S)}catch{}}}}return h}return Ei=f,Ei}var Fh=HC();const Bh=em(Fh),WC=tm({__proto__:null,default:Bh},[Fh]),Us=Bh||WC,jC="unknown";class Uh extends ke.Component{constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=rt({name:`<${n}>`,onlyIfParent:!0,op:$h,attributes:{[Y]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(o=>t[o]!==this.props.updateProps[o]);if(r.length>0){const o=he();this._updateSpan=Hn(this._mountSpan,()=>rt({name:`<${this.props.name}>`,onlyIfParent:!0,op:FC,startTime:o,attributes:{[Y]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=he(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const o=D(this._mountSpan).timestamp;Hn(this._mountSpan,()=>{const s=rt({onlyIfParent:!0,name:`<${n}>`,op:Dh,startTime:o,attributes:{[Y]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}Object.assign(Uh,{defaultProps:{disabled:!1,includeRender:!0,includeUpdates:!0}});function bx(e,t){const n=t?.name||e.displayName||e.name||jC,r=o=>ke.createElement(Uh,{...t,name:n,updateProps:o},ke.createElement(e,{...o}));return r.displayName=`profiler(${n})`,Us(r,e),r}function Ex(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=ke.useState(()=>{if(!t?.disabled)return rt({name:`<${e}>`,onlyIfParent:!0,op:$h,attributes:{[Y]:"auto.ui.react.profiler","ui.component_name":e}})});ke.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=D(n).timestamp,o=he(),s=rt({name:`<${e}>`,onlyIfParent:!0,op:Dh,startTime:r,attributes:{[Y]:"auto.ui.react.profiler","ui.component_name":e}});s&&s.end(o)}}),[])}const Tn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zC="unknown",vi={componentStack:null,error:null,eventId:null};class qC extends ke.Component{constructor(t){super(t),this.state=vi,this._openFallbackReportDialog=!0;const n=O();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&al({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:o,onError:s,showDialog:i,dialogOptions:a}=this.props;Ge(c=>{o&&o(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=Lh(t,n,{mechanism:{handled:u,type:"auto.function.react.error_boundary"}});s&&s(t,r,d),i&&(this._lastEventId=d,this._openFallbackReportDialog&&al({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:o}=this.props;o&&(this.state===vi?o(null,null,null):o(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:o}=this.state;t&&t(n,r,o),this.setState(vi)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const o=typeof t=="function"?ke.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return ke.isValidElement(o)?o:(t&&Tn&&g.warn("fallback did not produce a valid ReactElement"),null)}}function vx(e,t){const n=e.displayName||e.name||zC,r=ke.memo(o=>ke.createElement(qC,{...t},ke.createElement(e,{...o})));return r.displayName=`errorBoundary(${n})`,Us(r,e),r}const GC="redux.action",VC="info",YC={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function Tx(e){const t={...YC,...e};return n=>(r,o)=>{t.attachReduxState&&fn().addEventProcessor((a,c)=>{try{a.type===void 0&&a.contexts.state.state.type==="redux"&&(c.attachments=[...c.attachments||[],{filename:"redux_state.json",data:JSON.stringify(a.contexts.state.state.value)}])}catch{}return a});function s(a){return(c,u)=>{const d=a(c,u),l=j(),p=t.actionTransformer(u);typeof p<"u"&&p!==null&&gt({category:GC,data:p,type:VC});const f=t.stateTransformer(d);if(typeof f<"u"&&f!==null){const y=O()?.getOptions()?.normalizeDepth||3,E={state:{type:"redux",value:f}};Re(E,"__sentry_override_normalization_depth__",3+y),l.setContext("state",E)}else l.setContext("state",null);const{configureScopeWithState:h}=t;return typeof h=="function"&&h(l,d),d}}const i=n(s(r),o);return i.replaceReducer=new Proxy(i.replaceReducer,{apply:function(a,c,u){a.apply(c,[s(u[0])])}}),i}}function Ix(e){const t=qr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:o,instrumentPageLoad:s=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),s&&L.location&&rd(r,L.location,o,(c,u="url")=>{Gr(a,{name:c,attributes:{[Te]:"pageload",[Y]:"auto.pageload.react.reactrouter_v3",[pe]:u}})}),i&&n.listen&&n.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&rd(r,c,o,(u,d="url")=>{Vr(a,{name:u,attributes:{[Te]:"navigation",[Y]:"auto.navigation.react.reactrouter_v3",[pe]:d}})})})}}}function rd(e,t,n,r){let o=t.pathname;n({location:t,routes:e},(s,i,a)=>{if(s||!a)return r(o);const c=JC(a.routes||[]);return c.length===0||c==="/*"?r(o):(o=c,r(o,"route"))})}function JC(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--)if(t[r].path?.startsWith("/")){n=r;break}return t.slice(n).reduce((r,{path:o})=>{const s=r==="/"||r===""?o:`/${o}`;return`${r}${s}`},"")}function wx(e,t={}){const n=e,r=qr({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:o=!0,instrumentNavigation:s=!0}=t;return{...r,afterAllSetup(i){r.afterAllSetup(i);const a=L.location;if(o&&a){const c=n.matchRoutes(a.pathname,n.options.parseSearch(a.search),{preload:!1,throwOnError:!1}),u=c[c.length-1];Gr(i,{name:u?u.routeId:a.pathname,attributes:{[Te]:"pageload",[Y]:"auto.pageload.react.tanstack_router",[pe]:u?"route":"url",...od(u)}})}s&&n.subscribe("onBeforeNavigate",c=>{if(c.toLocation.state===c.fromLocation?.state)return;const u=n.matchRoutes(c.toLocation.pathname,c.toLocation.search,{preload:!1,throwOnError:!1}),d=u[u.length-1],l=L.location,p=Vr(i,{name:d?d.routeId:l.pathname,attributes:{[Te]:"navigation",[Y]:"auto.navigation.react.tanstack_router",[pe]:d?"route":"url"}}),f=n.subscribe("onResolved",h=>{if(f(),p){const m=n.matchRoutes(h.toLocation.pathname,h.toLocation.search,{preload:!1,throwOnError:!1}),_=m[m.length-1];_&&(p.updateName(_.routeId),p.setAttribute(pe,"route"),p.setAttributes(od(_)))}})})}}}function od(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(([n,r])=>{t[`url.path.params.${n}`]=r,t[`url.path.parameter.${n}`]=r,t[`params.${n}`]=r}),t}function kx(e){const t=qr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:o,instrumentPageLoad:s=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Hh(a,s,i,n,"reactrouter_v4",r,o)}}}function Rx(e){const t=qr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:o,instrumentPageLoad:s=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Hh(a,s,i,n,"reactrouter_v5",r,o)}}}function Hh(e,t,n,r,o,s=[],i){function a(){if(r.location)return r.location.pathname;if(L.location)return L.location.pathname}function c(u){if(s.length===0||!i)return[u,"url"];const d=Wh(s,u,i);for(const l of d)if(l.match.isExact)return[l.match.path,"route"];return[u,"url"]}if(t){const u=a();if(u){const[d,l]=c(u);Gr(e,{name:d,attributes:{[Te]:"pageload",[Y]:`auto.pageload.react.${o}`,[pe]:l}})}}n&&r.listen&&r.listen((u,d)=>{if(d&&(d==="PUSH"||d==="POP")){const[l,p]=c(u.pathname);Vr(e,{name:l,attributes:{[Te]:"navigation",[Y]:`auto.navigation.react.${o}`,[pe]:p}})}})}function Wh(e,t,n,r=[]){return e.some(o=>{const s=o.path?n(t,o):r.length?r[r.length-1].match:KC(t);return s&&(r.push({route:o,match:s}),o.routes&&Wh(o.routes,t,n,r)),!!s}),r}function KC(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function Cx(e){const t=e.displayName||e.name,n=r=>{if(r?.computedMatch?.isExact){const o=r.computedMatch.path,s=XC();j().setTransactionName(o),s&&(s.updateName(o),s.setAttribute(pe,"route"))}return ke.createElement(e,{...r})};return n.displayName=`sentryRoute(${t})`,Us(n,e),n}function XC(){const e=_e(),t=e&&Se(e);if(!t)return;const n=D(t).op;return n==="navigation"||n==="pageload"?t:void 0}function QC(e,t,n,r){const o=new Proxy(e,{apply(s,i,a){const c=s.apply(i,a);return ZC(c,t,n,r),c}});return Re(o,"__sentry_proxied__",!0),o}function ZC(e,t,n,r){Sn(e)?e.then(o=>{Array.isArray(o)&&r(o,t)}).catch(o=>{Tn&&g.warn(`Error resolving async handler '${n}' for route`,t,o)}):Array.isArray(e)&&r(e,t)}function Hs(e,t){if(e.handle&&typeof e.handle=="object")for(const n of Object.keys(e.handle)){const r=e.handle[n];typeof r=="function"&&!r.__sentry_proxied__&&(e.handle[n]=QC(r,e,n,t))}if(Array.isArray(e.children))for(const n of e.children)Hs(n,t)}let xc,Ln=!1;function eA(e,t=!1){xc=e,Ln=t}function tA(e){return rA(e.route.path||"")}function nA(e){return e.params["*"]||""}function rA(e){return e[e.length-1]==="*"?e.slice(0,-1):e}function $n(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function jh(e){return e.endsWith("*")}function sd(e,t){return jh(e)&&!!t.route.children?.length||!1}function oA(e){return!!(!e.children&&e.element&&e.path?.endsWith("/*"))}function sA(e,t,n){const r=e&&e.length>0?e:Ln?fs(t,n):t;let o=r.slice(-2)==="/*"?r.slice(0,-2):r;return o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1)),[o,"route"]}function id(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function fs(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function ps(e){return e[0]==="/"?e:`/${e}`}function zh(e,t){const n=xc(e,t);if(!n||n.length===0)return"";for(const r of n)if(r.route.path&&r.route.path!=="*"){const o=tA(r),s=fs(t.pathname,ps(r.pathnameBase));return t.pathname===s?$n(s):$n($n(o||"")+ps(zh(e.filter(i=>i!==r.route),{pathname:s})))}return""}function iA(e,t){const n=xc(t,e);if(n){for(const r of n)if(oA(r.route)&&nA(r))return!0}return!1}function aA(e,t,n,r=""){if(!e||e.length===0)return[Ln?fs(t.pathname,r):t.pathname,"url"];let o="";if(n)for(const i of n){const a=i.route;if(a){if(a.index)return sA(o,i.pathname,r);const c=a.path;if(c&&!sd(c,i)){const u=c[0]==="/"||o[o.length-1]==="/"?c:`/${c}`;if(o=$n(o)+ps(u),$n(t.pathname)===$n(r+i.pathname))return id(o)!==id(i.pathname)&&!jh(o)?[(Ln?"":r)+u,"route"]:(sd(o,i)&&(o=o.slice(0,-1)),[(Ln?"":r)+o,"route"])}}}return[Ln?fs(t.pathname,r):t.pathname||"","url"]}function Ws(e,t,n,r,o=""){let s,i="url";const a=iA(e,n);return a&&(s=ps(zh(n,e)),i="route"),(!a||!s)&&([s,i]=aA(t,e,r,o)),[s||e.pathname,i]}let Wt,jt,zt,Oo,Xe,js=!1;const qh=new WeakSet;function cA(e,t){const n=t.children||[],r=e.filter(o=>!n.some(s=>s===o||o.path&&s.path===o.path||o.id&&s.id===o.id));r.length>0&&(t.children=[...n,...r])}const Oe=new Set;function Mc(e,t,n=null){e.forEach(o=>{Oe.add(o),js&&Hs(o,Mc)}),t&&cA(e,t);const r=_t();if(r){const o=D(r).op;let s=n;if(!s&&typeof L<"u"){const i=L.location;i&&(s={pathname:i.pathname})}s&&(o==="pageload"?Jr({activeRootSpan:r,location:{pathname:s.pathname},routes:Array.from(Oe),allRoutes:Array.from(Oe)}):o==="navigation"&&ca(r,s,Array.from(Oe),!1,Xe))}}function ca(e,t,n,r=!1,o){if(!(!r&&e?.__sentry_navigation_name_set__)){const i=o(n,t),[a,c]=Ws(t,n,n,i||[],""),u=D(e);a&&!u.timestamp&&(e.updateName(a),e.setAttribute(pe,c),Re(e,"__sentry_navigation_name_set__",!0))}}function Gh(e,t){return!Wt||!jt||!zt||!Xe?(Tn&&g.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),e):function(n,r){if(Yr(n),js)for(const l of n)Hs(l,Mc);const o=Kh(r),s=e(n,o),i=r?.basename,a=_t();let c=!1,u=!!a&&D(a).op==="pageload",d=!1;return s.state.historyAction==="POP"&&a&&Jr({activeRootSpan:a,location:s.state.location,routes:n,basename:i,allRoutes:Array.from(Oe)}),s.subscribe(l=>{if(!c){const f=_t();f&&D(f).op==="pageload"?u=!0:u&&(l.historyAction==="POP"&&!d?d=!0:c=!0)}if(l.historyAction==="PUSH"||l.historyAction==="POP"&&c){const f=()=>{zs({location:l.location,routes:n,navigationType:l.historyAction,version:t,basename:i,allRoutes:Array.from(Oe)})};l.navigation.state!=="idle"?requestAnimationFrame(f):f()}}),s}}function Vh(e,t){return!Wt||!jt||!zt||!Xe?(Tn&&g.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),e):function(n,r){if(Yr(n),js)for(const y of n)Hs(y,Mc);const o=Kh(r,!0),s=e(n,o),i=r?.basename;let a;const c=r?.initialEntries,u=r?.initialIndex,d=c&&c.length===1,l=u!==void 0&&c&&c[u];a=d?c[0]:l?c[u]:void 0;const p=a?typeof a=="string"?{pathname:a}:a:s.state.location,f=_t();s.state.historyAction==="POP"&&f&&Jr({activeRootSpan:f,location:p,routes:n,basename:i,allRoutes:Array.from(Oe)});let h=!1,m=!!f&&D(f).op==="pageload",_=!1;return s.subscribe(y=>{if(!h){const I=_t();I&&D(I).op==="pageload"?m=!0:m&&(y.historyAction==="POP"&&!_?_=!0:h=!0)}const E=y.location;if(y.historyAction==="PUSH"||y.historyAction==="POP"&&h){const I=()=>{zs({location:E,routes:n,navigationType:y.historyAction,version:t,basename:i,allRoutes:Array.from(Oe)})};y.navigation.state!=="idle"?requestAnimationFrame(I):I()}}),s}}function Yh(e,t){const n=qr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:r,useLocation:o,useNavigationType:s,createRoutesFromChildren:i,matchRoutes:a,stripBasename:c,enableAsyncRouteHandlers:u=!1,instrumentPageLoad:d=!0,instrumentNavigation:l=!0}=e;return{...n,setup(p){n.setup(p),Wt=r,jt=o,zt=s,Xe=a,Oo=i,js=u,eA(a,c||!1)},afterAllSetup(p){n.afterAllSetup(p);const f=L.location?.pathname;d&&f&&Gr(p,{name:f,attributes:{[pe]:"url",[Te]:"pageload",[Y]:`auto.pageload.react.reactrouter_v${t}`}}),l&&qh.add(p)}}}function Jh(e,t){if(!Wt||!jt||!zt||!Xe)return Tn&&g.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;const n=r=>{const o=ke.useRef(!0),{routes:s,locationArg:i}=r,a=e(s,i),c=jt(),u=zt(),d=typeof i=="string"||i?.pathname?i:c;return Wt(()=>{const l=typeof d=="string"?{pathname:d}:d;o.current?(Yr(s),Jr({activeRootSpan:_t(),location:l,routes:s,allRoutes:Array.from(Oe)}),o.current=!1):zs({location:l,routes:s,navigationType:u,version:t,allRoutes:Array.from(Oe)})},[u,d]),a};return(r,o)=>ke.createElement(n,{routes:r,locationArg:o})}function Kh(e,t=!1){if(!e||!("patchRoutesOnNavigation"in e)||typeof e.patchRoutesOnNavigation!="function")return e||{};const n=e.patchRoutesOnNavigation;return{...e,patchRoutesOnNavigation:async r=>{const o=r?.path;if(!t){const a=r?.patch;a&&(r.patch=(c,u)=>{Yr(u);const d=_t();return d&&D(d).op==="navigation"&&ca(d,{pathname:o,search:"",hash:"",state:null,key:"default"},Array.from(Oe),!0,Xe),a(c,u)})}const s=await n(r),i=_t();if(i&&D(i).op==="navigation"){let a;t?a=o:a=o||L.location?.pathname,a&&ca(i,{pathname:a,search:"",hash:"",state:null,key:"default"},Array.from(Oe),!1,Xe)}return s}}}function zs(e){const{location:t,routes:n,navigationType:r,version:o,matches:s,basename:i,allRoutes:a}=e,c=Array.isArray(s)?s:Xe(n,t,i),u=O();if(!u||!qh.has(u))return;const d=_t();if(!(d&&D(d).op==="pageload"&&r==="POP")&&(r==="PUSH"||r==="POP")&&c){const[l,p]=Ws(t,n,a||n,c,i),f=_e();if(!((f&&D(f))?.op==="navigation")){const _=Vr(u,{name:l,attributes:{[pe]:p,[Te]:"navigation",[Y]:`auto.navigation.react.reactrouter_v${o}`}});_&&lA(_,t,n,i,a)}}}function Yr(e){e.forEach(t=>{Xh(t).forEach(r=>{Oe.add(r)})})}function Xh(e,t=new Set){return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach(n=>{Xh(n,t).forEach(o=>{t.add(o)})})),t}function Jr({activeRootSpan:e,location:t,routes:n,matches:r,basename:o,allRoutes:s}){const i=Array.isArray(r)?r:Xe(s||n,t,o);if(i){const[a,c]=Ws(t,n,s||n,i,o);j().setTransactionName(a||"/"),e&&(e.updateName(a),e.setAttribute(pe,c),uA(e,t,n,o,s))}}function Qh(e,t,n,r,o,s){const i=`__sentry_${s}_end_patched__`;if(e?.[i]||!e.end)return;const c=e.end.bind(e);e.end=function(...d){try{const l=D(e);if(l.data?.[pe]!=="route"){const f=Array.from(Oe),h=Xe(f.length>0?f:n,t,r);if(h){const[m,_]=Ws(t,n,f.length>0?f:n,h,r);m&&(s==="pageload"||!l.timestamp)&&(e.updateName(m),e.setAttribute(pe,_))}}}catch(l){Tn&&g.warn(`Error updating span details before ending: ${l}`)}return c(...d)},Re(e,i,!0)}function uA(e,t,n,r,o){Qh(e,t,n,r,o,"pageload")}function lA(e,t,n,r,o){Qh(e,t,n,r,o,"navigation")}function Zh(e,t){if(!Wt||!jt||!zt||!Oo||!Xe)return Tn&&g.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Wt}. useLocation: ${jt}. useNavigationType: ${zt}.
      createRoutesFromChildren: ${Oo}. matchRoutes: ${Xe}.`),e;const n=r=>{const o=ke.useRef(!0),s=jt(),i=zt();return Wt(()=>{const a=Oo(r.children);o.current?(Yr(a),Jr({activeRootSpan:_t(),location:s,routes:a,allRoutes:Array.from(Oe)}),o.current=!1):zs({location:s,routes:a,navigationType:i,version:t,allRoutes:Array.from(Oe)})},[s,i]),ke.createElement(e,{...r})};return Us(n,e),n}function _t(){const e=_e(),t=e?Se(e):void 0;if(!t)return;const n=D(t).op;return n==="navigation"||n==="pageload"?t:void 0}function Ax(e){return Yh(e,"6")}function xx(e){return Jh(e,"6")}function Mx(e){return Gh(e,"6")}function Nx(e){return Vh(e,"6")}function Ox(e){return Zh(e,"6")}function Px(e){return Yh(e,"7")}function Lx(e){return Zh(e,"7")}function Dx(e){return Gh(e,"7")}function $x(e){return Vh(e,"7")}function Fx(e){return Jh(e,"7")}export{Fv as BrowserClient,qC as ErrorBoundary,dx as OpenFeatureIntegrationHook,Uh as Profiler,Bt as SDK_VERSION,Te as SEMANTIC_ATTRIBUTE_SENTRY_OP,Y as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,ha as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,pe as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,mt as Scope,L as WINDOW,gt as addBreadcrumb,a_ as addEventProcessor,au as addIntegration,A0 as breadcrumbsIntegration,U0 as browserApiErrorsIntegration,ax as browserProfilingIntegration,G0 as browserSessionIntegration,qr as browserTracingIntegration,ux as buildLaunchDarklyFlagUsedHandler,kA as captureConsoleIntegration,Mr as captureEvent,Ce as captureException,vS as captureFeedback,Mi as captureMessage,Lh as captureReactException,ou as captureSession,p0 as chromeStackLineParser,vA as close,PA as consoleLoggingIntegration,QA as contextLinesIntegration,mA as continueTrace,DA as createConsolaReporter,Tx as createReduxEnhancer,q_ as createTransport,GA as createUserFeedbackEnvelope,xy as dedupeIntegration,Th as defaultRequestInstrumentationOptions,I0 as defaultStackLineParsers,w0 as defaultStackParser,mx as diagnoseSdkConnectivity,Yd as endSession,fy as eventFiltersIntegration,Ov as eventFromException,Pv as eventFromMessage,Qa as exceptionFromError,RA as extraErrorDataIntegration,NA as featureFlagsIntegration,HA as feedbackAsyncIntegration,WA as feedbackIntegration,WA as feedbackSyncIntegration,EA as flush,YA as forceLoad,uy as functionToStringIntegration,_0 as geckoStackLineParser,_e as getActiveSpan,O as getClient,j as getCurrentScope,fI as getDefaultIntegrations,UA as getFeedback,fn as getGlobalScope,we as getIsolationScope,nx as getReplay,Se as getRootSpan,So as getSpanDescendants,Bm as getSpanStatusFromHttpCode,_f as getTraceData,J0 as globalHandlersIntegration,ZA as graphqlClientIntegration,px as growthbookIntegration,XA as httpClientIntegration,eI as httpContextIntegration,py as inboundFiltersIntegration,yx as init,FA as instrumentAnthropicAiClient,BA as instrumentGoogleGenAIClient,$A as instrumentOpenAiClient,F1 as instrumentOutgoingRequests,Zy as instrumentSupabaseClient,i_ as isEnabled,TA as isInitialized,s_ as lastEventId,cx as launchDarklyIntegration,wv as lazyLoadIntegration,sI as linkedErrorsIntegration,OA as logger,ix as makeBrowserOfflineTransport,gp as makeFetchTransport,IA as makeMultiplexedTransport,LA as metrics,wA as moduleMetadataIntegration,JA as onLoad,lx as openFeatureIntegration,zA as opera10StackLineParser,qA as opera11StackLineParser,ey as parameterize,Sx as reactErrorHandler,Ix as reactRouterV3BrowserTracingIntegration,kx as reactRouterV4BrowserTracingIntegration,Rx as reactRouterV5BrowserTracingIntegration,Ax as reactRouterV6BrowserTracingIntegration,Px as reactRouterV7BrowserTracingIntegration,ag as registerSpanErrorInstrumentation,_x as registerWebWorker,rx as replayCanvasIntegration,tx as replayIntegration,ox as reportPageLoaded,KA as reportingObserverIntegration,CA as rewriteFramesIntegration,AE as sendFeedback,sx as setActiveSpanInBrowser,Vd as setContext,H_ as setCurrentClient,_A as setExtra,gA as setExtras,Do as setHttpStatus,Cg as setMeasurement,SA as setTag,yA as setTags,bA as setUser,al as showReportDialog,hA as spanToBaggageHeader,D as spanToJSON,ng as spanToTraceHeader,VA as spotlightBrowserIntegration,Vr as startBrowserTracingNavigationSpan,Gr as startBrowserTracingPageLoadSpan,rt as startInactiveSpan,Pg as startNewTrace,ru as startSession,nr as startSpan,Wo as startSpanManual,hx as statsigIntegration,AA as supabaseIntegration,Og as suppressTracing,wx as tanstackRouterBrowserTracingIntegration,MA as thirdPartyErrorFilterIntegration,fx as unleashIntegration,pA as updateSpanName,Ex as useProfiler,gx as webWorkerIntegration,jA as winjsStackLineParser,Hn as withActiveSpan,vx as withErrorBoundary,fA as withIsolationScope,bx as withProfiler,Ge as withScope,Ox as withSentryReactRouterV6Routing,Lx as withSentryReactRouterV7Routing,Cx as withSentryRouting,Mx as wrapCreateBrowserRouterV6,Dx as wrapCreateBrowserRouterV7,Nx as wrapCreateMemoryRouterV6,$x as wrapCreateMemoryRouterV7,xx as wrapUseRoutesV6,Fx as wrapUseRoutesV7,xA as zodErrorsIntegration};
